!function(e,t,r,a,n){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof o.parcelRequire5160&&o.parcelRequire5160,l=s.cache||{},i="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(t,r){if(!l[t]){if(!e[t]){var a="function"==typeof o.parcelRequire5160&&o.parcelRequire5160;if(!r&&a)return a(t,!0);if(s)return s(t,!0);if(i&&"string"==typeof t)return i(t);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var u=l[t]=new c.Module(t);e[t][0].call(u.exports,p,u,u.exports,this)}return l[t].exports;function p(e){return c(p.resolve(e))}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=e,c.cache=l,c.parent=s,c.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(c,"root",{get:function(){return o.parcelRequire5160}}),o.parcelRequire5160=c;for(var u=0;u<t.length;u++)c(t[u])}({"3hzmr":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"default",(function(){return o.default}));var n=e("./with-location"),o=a.interopDefault(n)},{"./with-location":"1IL1i","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1IL1i":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var n=e("@babel/runtime/helpers/extends"),o=a.interopDefault(n),s=e("@babel/runtime/helpers/defineProperty"),l=a.interopDefault(s),i=e("react"),c=a.interopDefault(i),u=e("react-router-dom");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){l.default(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.default=function(e){var t,r,a;return r=t=class extends i.Component{render(){const t=u.matchPath(window.location.pathname,this.props.match),r=d(d({},this.props.location),{},{hash:window.location.hash,search:window.location.search,pathname:window.location.pathname});return c.default.createElement(e,o.default({},this.props,{match:t,location:r}))}},l.default(t,"displayName",`WithLocation(${a=e,a.displayName||a.name||"Component"})`),r}},{"@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","react-router-dom":"3PBhg","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"5Ocm4":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var n=e("react-redux"),o=e("@atlassian/bitkit-analytics"),s=e("src/selectors/repository-selectors"),l=e("../components/clone-button"),i=a.interopDefault(l),c=e("../actions/toggle-clone-dialog"),u=a.interopDefault(c);r.default=n.connect((e=>{const t=s.getCurrentRepository(e);return{repositoryUuid:t?o.uncurlyUuid(t.uuid):"",workspaceUuid:null!=t&&t.workspace?o.uncurlyUuid(t.workspace.uuid):""}}),(e=>({onOpenCloneDialog:()=>e(u.default(!0))})))(i.default)},{"react-redux":"5NPwH","@atlassian/bitkit-analytics":"5YLSk","src/selectors/repository-selectors":"3Vekm","../components/clone-button":"34Xml","../actions/toggle-clone-dialog":"4EyNm","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"34Xml":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var n=e("@babel/runtime/helpers/defineProperty"),o=a.interopDefault(n),s=e("@atlaskit/button"),l=a.interopDefault(s),i=e("react"),c=a.interopDefault(i),u=e("react-intl"),p=e("src/utils/analytics/publish"),d=e("../facts"),f=e("./clone-button.i18n"),h=a.interopDefault(f);class m extends i.PureComponent{constructor(...e){super(...e),o.default(this,"onOpenDialog",(()=>{p.publishFact(new d.SourceHeaderActionClickedFact({label:"clone",repository_uuid:this.props.repositoryUuid,frontbucket_view:!0})),p.publishUiEvent({source:"repository",action:"clicked",actionSubject:"button",actionSubjectId:"cloneRepositoryButton",objectType:"repository",objectId:this.props.repositoryUuid,containerType:"workspace",containerId:this.props.workspaceUuid,attributes:{frontbucketView:!0}}),this.props.onOpenCloneDialog&&this.props.onOpenCloneDialog()}))}render(){const e=c.default.createElement(u.FormattedMessage,h.default.cloneAction);return this.props.repositoryUuid?c.default.createElement(l.default,{onClick:this.onOpenDialog},e):c.default.createElement(l.default,{isDisabled:!0},e)}}r.default=m},{"@babel/runtime/helpers/defineProperty":"5MCal","@atlaskit/button":"5gisq",react:"28H6D","react-intl":"4XDLZ","src/utils/analytics/publish":"3nwSx","../facts":"46Pt9","./clone-button.i18n":"1pRtB","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1pRtB":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({cloneAction:{id:"frontbucket.repository.source.cloneAction",defaultMessage:"Clone"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"7sQil":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var n=e("@babel/runtime/helpers/extends"),o=a.interopDefault(n),s=e("@babel/runtime/helpers/defineProperty"),l=a.interopDefault(s),i=e("@atlaskit/button"),c=a.interopDefault(i),u=e("@atlaskit/inline-dialog"),p=a.interopDefault(u),d=e("qs"),f=a.interopDefault(d),h=e("react"),m=a.interopDefault(h),b=e("react-intl"),g=e("@atlassian/bitkit-clone-controls"),y=e("@atlassian/bitkit-copy"),k=e("./checkout-button.i18n"),j=a.interopDefault(k),O=e("./checkout-button.style");class C extends h.PureComponent{constructor(...e){super(...e),l.default(this,"state",{isOpen:!1}),l.default(this,"checkOutCommand",(()=>{const e=this.checkOutTarget();return e?`git fetch && git checkout ${e}`:""})),l.default(this,"checkOutTarget",(()=>this.props.refName||this.props.hash)),l.default(this,"sourceTreeCheckoutUrl",(()=>{const{refName:e,repository:t}=this.props;if(!e)return"";let r=e;t&&(r=`refs/heads/${r}`);return`sourcetree://checkoutRef?${f.default.stringify({ref:r,cloneUrl:g.getCloneUrl("https",t),type:"bitbucket"})}`})),l.default(this,"toggleDialog",(()=>{this.setState((e=>({isOpen:!e.isOpen}))),this.props.onClick()})),l.default(this,"handleClose",(()=>this.setState({isOpen:!1})))}render(){const{refName:e}=this.props,{isOpen:t}=this.state,r=m.default.createElement(b.FormattedMessage,j.default.checkoutAction),a=m.default.createElement(b.FormattedMessage,j.default.sourceTreeAction);if(!this.checkOutTarget())return m.default.createElement(c.default,{isDisabled:!0},r);const n=m.default.createElement("div",{style:{textAlign:"left"}},m.default.createElement(b.FormattedMessage,o.default({},j.default.checkOutBranchHeading,{tagName:"h3"})),m.default.createElement(O.Content,null,m.default.createElement(y.CopyableTextFieldStateless,{value:this.checkOutCommand(),isReadOnly:!0}),m.default.createElement(O.ButtonGroup,null,m.default.createElement(c.default,{isDisabled:!e,href:this.sourceTreeCheckoutUrl()},a))));return m.default.createElement(p.default,{content:n,isOpen:t,onClose:this.handleClose,placement:"bottom-end"},m.default.createElement(c.default,{onClick:this.toggleDialog},r))}}r.default=C,l.default(C,"defaultProps",{onClick:()=>{}})},{"@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/defineProperty":"5MCal","@atlaskit/button":"5gisq","@atlaskit/inline-dialog":"1W5vP",qs:"6u280",react:"28H6D","react-intl":"4XDLZ","@atlassian/bitkit-clone-controls":"4bMYQ","@atlassian/bitkit-copy":"1IwCe","./checkout-button.i18n":"4x0X2","./checkout-button.style":"44hzV","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"4x0X2":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({checkOutBranchHeading:{id:"frontbucket.repository.source.checkOutBranchHeading",defaultMessage:"Check out branch"},checkoutAction:{id:"frontbucket.repository.source.checkOutAction",defaultMessage:"Check out"},sourceTreeAction:{id:"frontbucket.repository.source.sourceTreeCheckOutAction",defaultMessage:"Check out in SourceTree"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"44hzV":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Content",(function(){return l})),a.export(r,"ButtonGroup",(function(){return i}));var n=e("@emotion/styled-base"),o=a.interopDefault(n),s=e("@atlaskit/theme");const l=o.default("div",{target:"es1vbw0"})("margin:",2*s.gridSize(),"px 0;min-width:400px;"),i=o.default("div",{target:"es1vbw1"})("margin-top:",3*s.gridSize(),"px;")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}]},[]);
//# sourceMappingURL=shared.7b3018a5.js.map
