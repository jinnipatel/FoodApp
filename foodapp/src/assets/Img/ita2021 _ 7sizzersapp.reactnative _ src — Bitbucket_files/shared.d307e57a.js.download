!function(e,t,r,a,s){var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o="function"==typeof l.parcelRequire5160&&l.parcelRequire5160,n=o.cache||{},i="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(t,r){if(!n[t]){if(!e[t]){var a="function"==typeof l.parcelRequire5160&&l.parcelRequire5160;if(!r&&a)return a(t,!0);if(o)return o(t,!0);if(i&&"string"==typeof t)return i(t);var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}c.resolve=function(r){return e[t][1][r]||r},c.cache={};var d=n[t]=new u.Module(t);e[t][0].call(d.exports,c,d,d.exports,this)}return n[t].exports;function c(e){return u(c.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=n,u.parent=o,u.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(u,"root",{get:function(){return l.parcelRequire5160}}),l.parcelRequire5160=u;for(var d=0;d<t.length;d++)u(t[d])}({"4fN1e":[function(e,t,r){var a=e("../start_of_day/index.js");t.exports=function(e,t){var r=a(e),s=a(t),l=r.getTime()-6e4*r.getTimezoneOffset(),o=s.getTime()-6e4*s.getTimezoneOffset();return Math.round((l-o)/864e5)}},{"../start_of_day/index.js":"5SjvJ"}],"5SjvJ":[function(e,t,r){var a=e("../parse/index.js");t.exports=function(e){var t=a(e);return t.setHours(0,0,0,0),t}},{"../parse/index.js":"4CHMV"}],"2O9Kt":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=l(e("react")),s=l(e("@atlaskit/icon/base"));function l(e){return e&&e.__esModule?e:{default:e}}const o=e=>a.default.createElement(s.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M8 6.003v2.995a1 1 0 102 0V5.102C10 4.494 9.507 4 8.9 4H5a1 1 0 000 2.003h3z" fill-rule="nonzero"/><path d="M9.428 18.018C7.351 16.989 6 14.807 6 12.37c0-2.266 1.167-4.319 3.02-5.425.48-.286.646-.922.371-1.421a.979.979 0 00-1.364-.386C5.557 6.611 4 9.35 4 12.37c0 3.248 1.802 6.158 4.57 7.529.498.247 1.095.026 1.332-.493.237-.52.025-1.141-.474-1.388z" fill-rule="nonzero"/><path d="M14 15.002v3.896c0 .608.493 1.102 1.1 1.102H19a1 1 0 000-2.003h-3v-2.995a1 1 0 10-2 0z"/><path d="M14.097 4.596c-.237.52-.025 1.14.474 1.387 2.077 1.029 3.428 3.21 3.428 5.647 0 2.266-1.167 4.32-3.021 5.425a1.063 1.063 0 00-.37 1.42c.274.5.885.673 1.364.387 2.47-1.473 4.027-4.212 4.027-7.232 0-3.248-1.802-6.158-4.57-7.528A.957.957 0 0015.002 4a1 1 0 00-.905.596z"/></g></svg>'},e));o.displayName="RefreshIcon";var n=o;r.default=n},{react:"28H6D","@atlaskit/icon/base":"6KSXI"}],zGxge:[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"LOADING_MODULE_DELAY",(function(){return s}));const s=300},{"@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1HsYT":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/extends"),l=a.interopDefault(s),o=e("@babel/runtime/helpers/defineProperty"),n=a.interopDefault(o),i=e("react"),u=a.interopDefault(i),d=e("react-intl"),c=e("@atlaskit/spinner"),p=a.interopDefault(c),f=e("lodash-es"),m=e("@atlaskit/button"),b=a.interopDefault(m),g=e("src/connect/shared/loading.i18n"),h=a.interopDefault(g),y=e("./loading.style");class x extends i.PureComponent{constructor(...e){super(...e),n.default(this,"timeout",void 0),n.default(this,"state",{delay:this.props.delay})}componentDidMount(){const{delay:e}=this.state;e&&(this.timeout=setTimeout((()=>this.setState({delay:0})),e))}componentWillUnmount(){clearTimeout(this.timeout)}render(){const{delay:e}=this.state,{action:t,module:r,failedCallback:a}=this.props;if("loading"===t&&e)return!1;const s=f.get(r,"app_name",f.get(r,"app_key","")),o=f.get(r,"app_base_url",f.get(r,"source.url",""));return u.default.createElement(y.Container,null,"loading"===t&&u.default.createElement(y.Spinner,null,u.default.createElement(p.default,{size:"small",delay:0})),s&&o&&u.default.createElement(d.FormattedMessage,l.default({},h.default[t],{values:{link:u.default.createElement("a",{href:o,target:"_blank"},s),action:"timeout"===t&&u.default.createElement(b.default,{appearance:"link",spacing:"none",onClick:a},u.default.createElement(d.FormattedMessage,h.default.cancelText))}})))}}r.default=x,n.default(x,"defaultProps",{action:"loading",delay:0})},{"@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","react-intl":"4XDLZ","@atlaskit/spinner":"4afTf","lodash-es":"2fDxM","@atlaskit/button":"5gisq","src/connect/shared/loading.i18n":"oFhJb","./loading.style":"13k48","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],oFhJb:[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({loading:{id:"frontbucket.connect.loadingDescription",defaultMessage:"Loading app {link}."},timeout:{id:"frontbucket.connect.loadingTimeoutDescription",defaultMessage:"App {link} is not responding. Wait or {action}."},failed:{id:"frontbucket.connect.loadingFailedDescription",defaultMessage:"App {link} failed to load."},cancelText:{id:"frontbucket.connect.cancelText",defaultMessage:"cancel"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"13k48":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Container",(function(){return o})),a.export(r,"Spinner",(function(){return n}));var s=e("@emotion/styled-base"),l=a.interopDefault(s);const o=l.default("small",{target:"e1rsklf90"})({name:"1tbblij",styles:"position:absolute;left:0;top:0;right:0;bottom:0;display:flex;align-items:center;margin:0;padding:0 12px;"}),n=l.default("div",{target:"e1rsklf91"})({name:"ttjnck",styles:"margin:0 8px 0 0;"})},{"@emotion/styled-base":"7cOcD","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1J5KC":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"webPanelHeight",(function(){return n})),a.export(r,"webPanelWidth",(function(){return i})),a.export(r,"SourceWebPanel",(function(){return u})),a.export(r,"PullRequestWebPanel",(function(){return d})),a.export(r,"WebPanelHeader",(function(){return c})),a.export(r,"WebPanelSection",(function(){return p}));var s=e("@emotion/styled-base"),l=a.interopDefault(s),o=e("@atlaskit/theme");const n="50px",i="100%",u=l.default("div",{target:"evqr4d40"})("display:flex;position:relative;margin-bottom:",3*o.gridSize(),"px;min-height:",n,";max-height:280px;overflow:auto;iframe{display:block;}"),d=l.default("div",{target:"evqr4d41"})("display:flex;position:relative;margin-top:",o.gridSize(),"px;overflow:auto;min-height:",n,";max-height:600px;iframe{display:block;overflow:auto;}"),c=l.default("span",{target:"evqr4d42"})(o.typography.h400(),";"),p=l.default("section",{target:"evqr4d43"})("margin-top:",o.gridSize(),"px;margin-bottom:",o.gridSize(),"px;")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"5NVzS":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"dividerColor",(function(){return i})),a.export(r,"Panel",(function(){return u})),a.export(r,"PanelHeading",(function(){return d})),a.export(r,"PanelHeadingLabel",(function(){return c})),a.export(r,"PanelBody",(function(){return p})),a.export(r,"Icon",(function(){return f}));var s=e("@emotion/styled-base"),l=a.interopDefault(s),o=e("@atlaskit/theme");const n=o.colors.N0,i=o.colors.N30,u=l.default("div",{target:"e1spt66r0"})("background-color:",n,";border-radius:",o.borderRadius(),"px;text-align:left;margin:0 ",1.5*o.gridSize(),"px;"),d=l.default("div",{target:"e1spt66r1"})("align-items:center;background-color:",n,";border:none;border-bottom:1px solid ",i,";border-radius:",(({isCollapsed:e})=>e?`${o.borderRadius()}px`:`${o.borderRadius()}px ${o.borderRadius()}px 0 0`),";box-sizing:border-box;cursor:pointer;display:flex;flex-wrap:wrap;height:",5*o.gridSize(),"px;padding:0 ",o.gridSize(),"px;position:sticky;top:0;&:hover,&:focus{box-shadow:",(({isCollapsed:e})=>e?`0 0 0 1px ${o.colors.B200}`:"none"),";}"),c=l.default("span",{target:"e1spt66r2"})({name:"ln1i0q",styles:"flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:500;"}),p=l.default("div",{target:"e1spt66r3"})("border-radius:0 0 ",o.borderRadius(),"px ",o.borderRadius(),"px;flex-flow:column;overflow:hidden;padding:",o.gridSize(),"px;"),f=l.default("span",{target:"e1spt66r4"})({name:"1b5prcp",styles:"display:flex;margin-right:4px;"})},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1B2fs":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e,t=0){setTimeout((()=>{window.requestAnimationFrame((()=>window.requestAnimationFrame(e)))}),t)}},{"@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1VPOi":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/defineProperty"),l=a.interopDefault(s),o=e("@atlaskit/button"),n=a.interopDefault(o),i=e("react"),u=a.interopDefault(i),d=e("react-intl"),c=e("@atlaskit/spinner"),p=a.interopDefault(c),f=e("src/jira-issue-collectors"),m=e("src/utils/wait-for-react-render"),b=a.interopDefault(m),g=e("./feedback-button.i18n"),h=a.interopDefault(g);class y extends i.PureComponent{constructor(...e){super(...e),l.default(this,"state",{showCollectorDialog:void 0,isLoading:!1}),l.default(this,"onGiveFeedbackClicked",(()=>{var e;this.setState({isLoading:!0}),f.initializeJiraIssueCollector(this.props.feedbackKey),e=()=>{b.default((()=>{const e=window.__jira_issue_collector_trigger_fns__;if(!f.issueCollectors||!e)return void this.setState({isLoading:!1});const t=f.issueCollectors[this.props.feedbackKey];t?(this.setState({showCollectorDialog:e[t.id]}),this.state.showCollectorDialog&&this.state.showCollectorDialog(),this.setState({isLoading:!1})):this.setState({isLoading:!1})}),1500)},"complete"===document.readyState?setTimeout(e,0):window.onload=e}))}render(){const e=u.default.createElement(p.default,{size:"small",delay:0});return u.default.createElement(n.default,{onClick:this.onGiveFeedbackClicked,iconBefore:this.state.isLoading?e:""},u.default.createElement(d.FormattedMessage,h.default.giveFeedback))}}r.default=y},{"@babel/runtime/helpers/defineProperty":"5MCal","@atlaskit/button":"5gisq",react:"28H6D","react-intl":"4XDLZ","@atlaskit/spinner":"4afTf","src/jira-issue-collectors":"4iWJA","src/utils/wait-for-react-render":"1B2fs","./feedback-button.i18n":"23STy","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"4iWJA":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"issueCollectors",(function(){return c})),a.export(r,"initializeJiraIssueCollector",(function(){return f}));var s=e("@babel/runtime/helpers/defineProperty"),l=a.interopDefault(s),o=e("./settings"),n=e("./csp"),i=a.interopDefault(n);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l.default(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const c=o.settings().JIRA_ISSUE_COLLECTORS,p=e=>{const t=document.querySelectorAll(e);t.length>0&&t.forEach(((e,t)=>{t>0&&e.remove()}))},f=(e,t)=>{const r=c[e];if(r){const e=r.id,a=r.url;(e=>{Array.from(document.querySelectorAll("script[data-issue-collector]")).filter((t=>t.attributes["data-issue-collector"].value!==e)).forEach((e=>{e.remove()}))})(e);if(!document.querySelector(`script[data-issue-collector="${e}"]`)){window.__jira_issue_collector_trigger_fns__=window.__jira_issue_collector_trigger_fns__||{},window.ATL_JQ_PAGE_PROPS=window.ATL_JQ_PAGE_PROPS||{},window.ATL_JQ_PAGE_PROPS[e]=window.ATL_JQ_PAGE_PROPS[e]||{},window.ATL_JQ_PAGE_PROPS[e].triggerFunction=t=>{window.__jira_issue_collector_trigger_fns__[e]=t},t&&(window.ATL_JQ_PAGE_PROPS[e].fieldValues=()=>d(d({},window.ATL_JQ_PAGE_PROPS[e].fieldValues),t));const r=document.createElement("script");r.setAttribute("nonce",i.default),r.defer=!0,r.setAttribute("data-issue-collector",e),r.src=a,document.head.appendChild(r)}setTimeout((()=>{p("#atlwdg-blanket"),p("#atlwdg-container")}),3e3)}}},{"@babel/runtime/helpers/defineProperty":"5MCal","./settings":"74FCp","./csp":"6u1eV","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"23STy":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({giveFeedback:{id:"frontbucket.components.feedbackButton.giveFeedback",defaultMessage:"Give feedback"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"5jpZI":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ConnectSourceWebCards",(function(){return l.default})),a.export(r,"ConnectPullRequestWebCards",(function(){return n.default}));var s=e("./containers/source-web-cards"),l=a.interopDefault(s),o=e("./containers/pr-web-cards"),n=a.interopDefault(o)},{"./containers/source-web-cards":"73Erb","./containers/pr-web-cards":"B9xzZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"73Erb":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/extends"),l=a.interopDefault(s),o=e("@babel/runtime/helpers/defineProperty"),n=a.interopDefault(o),i=e("react"),u=a.interopDefault(i),d=e("react-redux"),c=e("react-router-dom"),p=e("lodash-es"),f=e("src/selectors/repository-selectors"),m=e("src/selectors/user-selectors"),b=e("src/connect/targets"),g=e("../components/web-cards");const h=d.connect((e=>({principalId:m.getTargetUserKey(e),repository:f.getCurrentRepository(e),hash:p.get(e,"repository.source.section.hash"),sourceObject:e.repository.source.section.sourceObject})))((e=>{const{principalId:t,repository:r,hash:a,sourceObject:s,isCollapsed:l}=e;if(!t||!r||!s||s.isLoading)return null;const[o,n]=r.full_name.split("/"),{path:i,treeEntry:d}=s;return""===i?u.default.createElement(g.WebCards,{principalId:t,location:"org.bitbucket.source",isCollapsed:l,target:b.repositoryTarget({repositoryOwner:o,repositorySlug:n})}):i&&a&&d?"directory"===d.type?u.default.createElement(g.WebCards,{principalId:t,location:"org.bitbucket.source.directory",isCollapsed:l,target:b.commitDirectoryTarget({repositoryOwner:o,repositorySlug:n,path:`${i}/`,hash:a})}):u.default.createElement(g.WebCards,{principalId:t,location:"org.bitbucket.source.file",isCollapsed:l,target:b.commitFileTarget({repositoryOwner:o,repositorySlug:n,path:i,hash:a})}):null}));class y extends i.PureComponent{constructor(...e){super(...e),n.default(this,"renderWebCard",(e=>u.default.createElement(h,l.default({},e,{isCollapsed:this.props.isCollapsed}))))}render(){return u.default.createElement(c.Switch,null,u.default.createElement(c.Route,{exact:!0,path:"/:repositoryOwner/:repositorySlug/src/:ref/:path+",render:this.renderWebCard}),u.default.createElement(c.Route,{path:["/:repositoryOwner/:repositorySlug/diff/:path+","/:repositoryOwner/:repositorySlug/history/:path+","/:repositoryOwner/:repositorySlug/history-node/:ref/:path+","/:repositoryOwner/:repositorySlug/src/:refOrHash"],render:this.renderWebCard}))}}r.default=y},{"@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","react-redux":"5NPwH","react-router-dom":"3PBhg","lodash-es":"2fDxM","src/selectors/repository-selectors":"3Vekm","src/selectors/user-selectors":"7aW1B","src/connect/targets":"3H1A6","../components/web-cards":"btd4T","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3H1A6":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"repositoryTarget",(function(){return g})),a.export(r,"commitFileTarget",(function(){return h})),a.export(r,"commitDirectoryTarget",(function(){return y})),a.export(r,"branchTarget",(function(){return x})),a.export(r,"commitTarget",(function(){return C})),a.export(r,"workspaceTarget",(function(){return j}));var s=e("@babel/runtime/helpers/defineProperty"),l=a.interopDefault(s),o=e("src/sections/repository/urls"),n=a.interopDefault(o),i=e("src/urls/source"),u=a.interopDefault(i),d=e("src/urls/commit"),c=a.interopDefault(d),p=e("src/urls/workspaces"),f=a.interopDefault(p);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){l.default(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const g=({repositoryOwner:e,repositorySlug:t})=>({type:"repository",full_name:`${e}/${t}`,name:t,links:{self:{href:n.default.api.v20.repositoryAbs(e,t)}}}),h=({path:e,hash:t,repositoryOwner:r,repositorySlug:a})=>({type:"commit_file",path:e,commit:{type:"commit",hash:t,repository:g({repositoryOwner:r,repositorySlug:a})},links:{self:{href:u.default.api.v20.sourceAbs(`${r}/${a}`,t,e)}}}),y=e=>b(b({},h(e)),{},{type:"commit_directory"}),x=({name:e,repositoryOwner:t,repositorySlug:r})=>({type:"branch",name:e,repository:g({repositoryOwner:t,repositorySlug:r}),links:{self:{href:n.default.api.v20.branchAbs(t,r,e)}}}),C=({repositoryOwner:e,repositorySlug:t,hash:r})=>({type:"commit",hash:r,repository:g({repositoryOwner:e,repositorySlug:t}),links:{self:{href:c.default.api.v20.commitAbs(`${e}/${t}`,r)}}}),j=e=>({slug:e,type:"workspace",links:{self:{href:`${window.location.origin}${f.default.api.v20.get(e)}`}}})},{"@babel/runtime/helpers/defineProperty":"5MCal","src/sections/repository/urls":"7JWOO","src/urls/source":"4aV7V","src/urls/commit":"24dat","src/urls/workspaces":"2TUXz","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],btd4T:[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"WebCards",(function(){return y}));var s=e("@babel/runtime/helpers/extends"),l=a.interopDefault(s),o=e("react"),n=a.interopDefault(o),i=e("@atlaskit/tooltip"),u=a.interopDefault(i),d=e("lodash-es"),c=e("@atlassian/bitbucket-connect-react"),p=e("src/sections/repository/sections/pull-request/components/connected-expander"),f=e("./web-card-icon"),m=a.interopDefault(f),b=e("./web-card-loading"),g=a.interopDefault(b),h=e("./web-cards.style");class y extends o.PureComponent{render(){const{principalId:e,target:t,location:r,isCollapsed:a}=this.props;return n.default.createElement(c.ConnectIframes,{moduleType:"webCards",principalId:e,target:t,location:r,width:"100%",loadingComponent:()=>null,loadingFailedComponent:()=>null},(e=>e.length>0&&e.map((({Component:e,module:t})=>{const r=d.get(t,"descriptor.name.value"),s=n.default.createElement(m.default,{url:d.get(t,"descriptor.icon.url"),className:d.get(t,"descriptor.params.auiIcon")});return a?n.default.createElement(u.default,{key:t.id,position:"left",content:r},s):n.default.createElement(h.Card,{key:t.id,"data-qa":"connect-webcard"},n.default.createElement(p.ConnectedExpander,{defaultIsCollapsed:!0,localStorageKey:`${t.id}.card.collapsed`,icon:s,isLoading:!1,label:r,sectionAriaLabel:r},n.default.createElement(e,{loadingComponent:()=>n.default.createElement(g.default,{module:t,delay:300}),loadingTimeoutComponent:e=>n.default.createElement(g.default,l.default({action:"timeout"},e,{module:t})),loadingFailedComponent:()=>n.default.createElement(g.default,{action:"failed",module:t})})))}))))}}},{"@babel/runtime/helpers/extends":"bRbXd",react:"28H6D","@atlaskit/tooltip":"2SKbM","lodash-es":"2fDxM","@atlassian/bitbucket-connect-react":"1dbYT","src/sections/repository/sections/pull-request/components/connected-expander":"1s7Ss","./web-card-icon":"4n6Ts","./web-card-loading":"3Zfb8","./web-cards.style":"1gUGR","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1s7Ss":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ConnectedExpander",(function(){return f}));var s=e("@babel/runtime/helpers/extends"),l=a.interopDefault(s),o=e("@babel/runtime/helpers/objectWithoutProperties"),n=a.interopDefault(o),i=e("react"),u=a.interopDefault(i),d=e("src/components/sidebar/src/expander/expander"),c=a.interopDefault(d),p=e("../hooks/sidebar-card-collapsed");const f=e=>{let{localStorageKey:t,onChange:r,defaultIsCollapsed:a}=e,s=n.default(e,["localStorageKey","onChange","defaultIsCollapsed"]);const{isCardCollapsed:o,setIsCardCollapsed:d}=p.useIsCardCollapsed({localStorageKey:t,defaultIsCardCollapsed:a}),f=i.useCallback((e=>{void 0!==r&&r(e),d(e)}),[r,d]);return u.default.createElement(c.default,l.default({isCollapsed:o,onChange:f},s))}},{"@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/objectWithoutProperties":"2CLk9",react:"28H6D","src/components/sidebar/src/expander/expander":"2Nn8P","../hooks/sidebar-card-collapsed":"4B22x","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"4B22x":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"useIsCardCollapsed",(function(){return u}));var s=e("react"),l=e("react-redux"),o=e("src/utils/store"),n=a.interopDefault(o),i=e("src/redux/pull-request/sidebar-card-collapsed-reducer");const u=({localStorageKey:e,defaultIsCardCollapsed:t=!1})=>{const r=n.default.get(e,void 0);let a=l.useSelector((t=>i.getIsCardCollapsed(t,e)));void 0===a&&(a=void 0===r?t:r);const o=l.useDispatch(),u=s.useCallback((t=>t.isCollapsed?o(i.collapseCard(e)):o(i.expandCard(e))),[o,e]);return s.useEffect((()=>{n.default.set(e,a)}),[e,a]),s.useEffect((()=>{u({isCollapsed:a})}),[]),{isCardCollapsed:a,setIsCardCollapsed:u}}},{react:"28H6D","react-redux":"5NPwH","src/utils/store":"1ciM9","src/redux/pull-request/sidebar-card-collapsed-reducer":"1CjiP","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"4n6Ts":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@emotion/styled-base"),l=a.interopDefault(s),o=e("react"),n=a.interopDefault(o);const i=l.default("span",{target:"e408k2m0"})({name:"96j35y",styles:"height:24px;width:24px;&::before{font-size:20px;margin-left:2px;margin-top:-10px;}"});class u extends o.PureComponent{render(){const{className:e,url:t}=this.props;if(t)return n.default.createElement("img",{src:t,alt:"",width:"24",height:"24"});const r=["aui-icon","aui-icon-large",e].join(" ").trim();return n.default.createElement(i,{className:r})}}r.default=u},{"@emotion/styled-base":"7cOcD",react:"28H6D","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3Zfb8":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/extends"),l=a.interopDefault(s),o=e("@babel/runtime/helpers/defineProperty"),n=a.interopDefault(o),i=e("react"),u=a.interopDefault(i),d=e("react-intl"),c=e("@atlaskit/spinner"),p=a.interopDefault(c),f=e("lodash-es"),m=e("@atlaskit/button"),b=a.interopDefault(m),g=e("src/connect/shared/loading.i18n"),h=a.interopDefault(g),y=e("./loading.style");class x extends i.PureComponent{constructor(...e){super(...e),n.default(this,"timeout",void 0),n.default(this,"state",{delay:this.props.delay})}componentDidMount(){const{delay:e}=this.state;e&&(this.timeout=setTimeout((()=>this.setState({delay:0})),e))}componentWillUnmount(){clearTimeout(this.timeout)}render(){const{delay:e}=this.state,{action:t,module:r,failedCallback:a}=this.props;if("loading"===t&&e)return!1;const s=f.get(r,"app_name",f.get(r,"app_key","")),o=f.get(r,"app_base_url",f.get(r,"source.url",""));return u.default.createElement(y.Container,null,"loading"===t?u.default.createElement(y.Spinner,null,u.default.createElement(p.default,{size:"medium",delay:0})):s&&o&&u.default.createElement(d.FormattedMessage,l.default({},h.default[t],{values:{link:u.default.createElement("a",{href:o,target:"_blank"},s),action:"timeout"===t&&u.default.createElement(b.default,{appearance:"link",spacing:"none",onClick:a},u.default.createElement(d.FormattedMessage,h.default.cancelText))}})))}}r.default=x,n.default(x,"defaultProps",{action:"loading",delay:0})},{"@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","react-intl":"4XDLZ","@atlaskit/spinner":"4afTf","lodash-es":"2fDxM","@atlaskit/button":"5gisq","src/connect/shared/loading.i18n":"oFhJb","./loading.style":"3TyNQ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3TyNQ":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Container",(function(){return n})),a.export(r,"Spinner",(function(){return i}));var s=e("@emotion/styled-base"),l=a.interopDefault(s),o=e("@atlaskit/theme");const n=l.default("small",{target:"ey323gi0"})({name:"rmxqah",styles:"display:flex;justify-content:center;align-items:center;margin:0;"}),i=l.default("div",{target:"ey323gi1"})("margin:",o.gridSize(),"px 0;")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1gUGR":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Card",(function(){return n}));var s=e("@emotion/styled-base"),l=a.interopDefault(s),o=e("@atlaskit/theme");const n=l.default("div",{target:"ejd26n00"})("& + &{margin-top:",1.5*o.gridSize(),"px;}")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],B9xzZ:[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("react"),l=a.interopDefault(s),o=e("react-redux"),n=e("src/selectors/user-selectors"),i=e("src/redux/pull-request/selectors"),u=e("../components/web-cards");class d extends s.PureComponent{render(){const{principalId:e,target:t,isCollapsed:r}=this.props;return e&&t?l.default.createElement(u.WebCards,{principalId:e,target:t,isCollapsed:r,location:"org.bitbucket.pullrequest"}):null}}r.default=o.connect((e=>({principalId:n.getTargetUserKey(e),target:i.getCurrentPullRequest(e)})))(d)},{react:"28H6D","react-redux":"5NPwH","src/selectors/user-selectors":"7aW1B","src/redux/pull-request/selectors":"7faJd","../components/web-cards":"btd4T","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"4NoYN":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("react-redux"),l=e("src/selectors/global-selectors"),o=e("src/redux/global/actions/scroll-to"),n=a.interopDefault(o),i=e("src/redux/sidebar"),u=e("../components/sidebar"),d=a.interopDefault(u);r.default=s.connect((e=>({isBannerOpen:Boolean(l.getSiteMessageBanner(e))})),(e=>({onCollapsedContentClick:t=>{e(i.updateSidebarState({isOpen:!0,tabIndex:t.tabIndex,sidebarType:"code-review"})),setTimeout((()=>e(n.default({targetId:t.id}))),200)}})))(d.default)},{"react-redux":"5NPwH","src/selectors/global-selectors":"7zQ6v","src/redux/global/actions/scroll-to":"7gmJS","src/redux/sidebar":"5Jrr8","../components/sidebar":"3SGIc","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3SGIc":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/extends"),l=a.interopDefault(s),o=e("@babel/runtime/helpers/defineProperty"),n=a.interopDefault(o),i=e("@atlaskit/icon/glyph/room-menu"),u=a.interopDefault(i),d=e("@atlaskit/tooltip"),c=a.interopDefault(d),p=e("react"),f=a.interopDefault(p),m=e("react-intl"),b=e("src/app/sidebar/sidebar.i18n"),g=a.interopDefault(b),h=e("src/components/sidebar"),y=a.interopDefault(h),x=e("../constants"),C=e("./sidebar.style");class j extends p.PureComponent{render(){const{intl:e}=this.props,t=f.default.createElement(c.default,{position:"left",content:e.formatMessage(g.default.expandIconTooltip)},f.default.createElement(u.default,{label:e.formatMessage(g.default.expandIconTooltip)}));return f.default.createElement(C.Container,{"data-qa":"sidebar-container"},f.default.createElement(y.default,l.default({ariaLabel:e.formatMessage(g.default.sidebarLabel),collapsedWidth:x.SIDEBAR_COLLAPSED_WIDTH,icon:t,minExpandedWidth:x.SIDEBAR_MIN_EXPANDED_WIDTH,maxExpandedWidth:x.SIDEBAR_MAX_EXPANDED_WIDTH,resizable:!0,toggleButtonCollapseLabel:e.formatMessage(g.default.toggleButtonCollapseLabel),toggleButtonExpandLabel:e.formatMessage(g.default.toggleButtonExpandLabel)},this.props)))}}n.default(j,"defaultProps",{expandedWidth:x.SIDEBAR_EXPANDED_WIDTH}),r.default=m.injectIntl(j)},{"@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/defineProperty":"5MCal","@atlaskit/icon/glyph/room-menu":"4BWYG","@atlaskit/tooltip":"2SKbM",react:"28H6D","react-intl":"4XDLZ","src/app/sidebar/sidebar.i18n":"716mq","src/components/sidebar":"63pE2","../constants":"5jw2t","./sidebar.style":"15R8T","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"716mq":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({sidebarLabel:{id:"frontbucket.sidebar.sidebarLabel",defaultMessage:"Sidebar"},expandIconTooltip:{id:"frontbucket.sidebar.expandIconTooltip",defaultMessage:"Click or tap to expand or press the ] (right bracket) key"},toggleButtonExpandLabel:{id:"frontbucket.sidebar.toggleButtonExpandLabel",defaultMessage:"Click or tap to expand the sidebar or press the ] (right bracket) key"},toggleButtonCollapseLabel:{id:"frontbucket.sidebar.toggleButtonCollapseLabel",defaultMessage:"Click or tap to collapse the sidebar or press the ] (right bracket) key"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"15R8T":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Container",(function(){return l}));var s=e("@emotion/styled-base");const l=a.interopDefault(s).default("div",{target:"e1n2qvzn0"})({name:"7qmfuy",styles:"display:flex;height:100vh;position:sticky;justify-content:flex-end;"})},{"@emotion/styled-base":"7cOcD","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"7CJpr":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/defineProperty"),l=a.interopDefault(s),o=e("react"),n=a.interopDefault(o),i=e("react-intl"),u=e("src/components/keyboard-shortcut-handler"),d=a.interopDefault(u),c=e("./sidebar-keyboard-shortcuts.i18n"),p=a.interopDefault(c);class f extends o.PureComponent{constructor(...e){super(...e),l.default(this,"shortcuts",[{id:`toggle-${this.props.sidebarType}-sidebar`,description:this.props.intl.formatMessage(p.default.toggleSidebarShortcut),handler:()=>{this.props.toggleSidebar()},keys:"]"}])}render(){const{children:e,intl:t,sidebarType:r}=this.props;return n.default.createElement(d.default,{groupId:`${r}-sidebar`,groupTitle:t.formatMessage(p.default.shortcutGroupTitle),shortcuts:this.shortcuts},e)}}r.default=i.injectIntl(f)},{"@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","react-intl":"4XDLZ","src/components/keyboard-shortcut-handler":"2Mx5Y","./sidebar-keyboard-shortcuts.i18n":"6VEnl","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"6VEnl":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({shortcutGroupTitle:{id:"frontbucket.keyboardShortcuts.sidebar.shortcutGroupTitle",defaultMessage:"Sidebar actions"},toggleSidebarShortcut:{id:"frontbucket.keyboardShortcuts.sidebar.toggleSidebarShortcut",defaultMessage:"Expand and collapse sidebar"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"6I9lx":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"BaseBuildStatusCard",(function(){return w})),a.export(r,"BuildStatusCard",(function(){return P}));var s=e("@babel/runtime/helpers/extends"),l=a.interopDefault(s),o=e("@babel/runtime/helpers/defineProperty"),n=a.interopDefault(o),i=e("react"),u=a.interopDefault(i),d=e("react-intl"),c=e("@atlaskit/button"),p=a.interopDefault(c),f=e("@atlaskit/icon/glyph/refresh"),m=a.interopDefault(f),b=e("@atlaskit/tooltip"),g=a.interopDefault(b),h=e("@atlassian/bitkit-builds"),y=e("src/components/generic-message"),x=a.interopDefault(y),C=e("src/sections/repository/sections/pull-request/components/connected-expander"),j=e("./utils"),D=e("./build-status-card.i18n"),v=a.interopDefault(D),k=e("./build-status-pipelines-promotion"),S=a.interopDefault(k),E=e("./services/build-status-service/build-status-service");class w extends i.PureComponent{constructor(...e){super(...e),n.default(this,"renderLabels",(()=>{const{buildStatusResult:{builds:e},intl:t}=this.props,{FAILED:r,SUCCESSFUL:a}=j.getBuildStatuses(e);if(0===e.length){const e=0;return{rich:u.default.createElement(d.FormattedMessage,l.default({},v.default.zeroBuilds,{values:{formattedCount:u.default.createElement("strong",null,e)}})),plain:t.formatMessage(v.default.zeroBuilds,{formattedCount:e})}}if(r){const a=`${r} of ${e.length}`;return{rich:u.default.createElement(d.FormattedMessage,l.default({},v.default.failedStatus,{values:{total:e.length,formattedCount:u.default.createElement("strong",null,a)}})),plain:t.formatMessage(v.default.failedStatus,{total:e.length,formattedCount:a})}}const s=`${a} of ${e.length}`;return{rich:u.default.createElement(d.FormattedMessage,l.default({},v.default.passedStatus,{values:{total:e.length,formattedCount:u.default.createElement("strong",null,s)}})),plain:t.formatMessage(v.default.passedStatus,{total:e.length,formattedCount:s})}})),n.default(this,"renderExpanderContent",(()=>{const{builds:e,hasError:t,refetch:r,repositoryFullSlug:a,hasStatuses:s}=this.props.buildStatusResult;return t?u.default.createElement(x.default,{iconType:"warning",title:u.default.createElement(d.FormattedMessage,v.default.errorHeading)},u.default.createElement(p.default,{appearance:"link",onClick:r},u.default.createElement(d.FormattedMessage,v.default.errorAction))):e.length?u.default.createElement(h.BuildSummary,{builds:e}):a&&!s?u.default.createElement(S.default,{repositoryFullSlug:a}):null}))}render(){const{isCollapsed:e,intl:t,buildStatusResult:{isLoading:r}}=this.props,{plain:a,rich:s}=this.renderLabels(),l=u.default.createElement(m.default,{label:""});return e?u.default.createElement(g.default,{position:"left",content:a},u.default.createElement(p.default,{appearance:"subtle",iconBefore:l})):u.default.createElement(C.ConnectedExpander,{localStorageKey:"build.card.collapsed",icon:l,dataTestId:"build-status-card",isLoading:r,label:s,sectionAriaLabel:t.formatMessage(v.default.sectionAriaLabel),headingAriaLabel:a},this.renderExpanderContent())}}n.default(w,"defaultProps",{isCollapsed:!1});const P=d.injectIntl(E.withBuildStatus(w))},{"@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","react-intl":"4XDLZ","@atlaskit/button":"5gisq","@atlaskit/icon/glyph/refresh":"2O9Kt","@atlaskit/tooltip":"2SKbM","@atlassian/bitkit-builds":"5CnMt","src/components/generic-message":"1x8uZ","src/sections/repository/sections/pull-request/components/connected-expander":"1s7Ss","./utils":"62at9","./build-status-card.i18n":"3Nj8S","./build-status-pipelines-promotion":"38XkB","./services/build-status-service/build-status-service":"1Xya9","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"62at9":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");function s(e){return e.reduce(((e,t)=>(e[t.state]+=1,e)),{FAILED:0,INPROGRESS:0,STOPPED:0,SUCCESSFUL:0})}a.defineInteropFlag(r),a.export(r,"getBuildStatuses",(function(){return s}))},{"@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3Nj8S":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({sectionAriaLabel:{id:"repository.buildStatus.sectionAriaLabel",defaultMessage:"Build statuses"},failedStatus:{id:"repository.buildStatus.tooltipFailed",defaultMessage:"{total, plural, one {{formattedCount} build} other {{formattedCount} builds}} failed"},passedStatus:{id:"repository.buildStatus.tooltipSuccess",defaultMessage:"{total, plural, one {{formattedCount} build passed} other {{formattedCount} builds passed}}"},zeroBuilds:{id:"repository.buildStatus.zeroBuilds",defaultMessage:"{formattedCount} builds"},errorHeading:{id:"repository.buildStatus.error.heading",defaultMessage:"Couldn't load contents"},errorAction:{id:"repository.buildStatus.error.action",defaultMessage:"Try again"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"38XkB":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/extends"),l=a.interopDefault(s),o=e("react"),n=a.interopDefault(o),i=e("react-intl"),u=e("src/sections/repository/urls"),d=a.interopDefault(u),c=e("./pipelines-promotion-icon.png"),p=a.interopDefault(c),f=e("./build-status-pipelines-promotion.style"),m=e("./build-status-pipelines-promotion.i18n"),b=a.interopDefault(m);class g extends o.PureComponent{render(){const[e,t]=this.props.repositoryFullSlug.split("/");return n.default.createElement(o.Fragment,null,n.default.createElement(f.PipelinesPromotionIcon,{alt:"Code emerging from a folder, with a green tick implying it's correctly working.",height:"104",src:p.default}),n.default.createElement(f.PipelinesPromotionRow,null,n.default.createElement(i.FormattedMessage,l.default({},b.default.promotionLineOne,{values:{bitbucketPipelinesDocumentation:n.default.createElement("a",{target:"_blank",href:"https://confluence.atlassian.com/bitbucket/get-started-with-bitbucket-pipelines-792298921.html"},n.default.createElement(i.FormattedMessage,b.default.promotionPipelinesDocumentationLink))}}))),n.default.createElement(f.PipelinesPromotionRow,null,n.default.createElement(i.FormattedMessage,b.default.promotionLineTwo)),n.default.createElement(f.PipelinesPromotionLink,null,n.default.createElement("a",{href:d.default.ui.pipelines(e,t)},n.default.createElement(i.FormattedMessage,b.default.promotionSetUpBitbucketPipelinesLink))))}}r.default=g},{"@babel/runtime/helpers/extends":"bRbXd",react:"28H6D","react-intl":"4XDLZ","src/sections/repository/urls":"7JWOO","./pipelines-promotion-icon.png":"zm2jV","./build-status-pipelines-promotion.style":"54bZP","./build-status-pipelines-promotion.i18n":"55Ktg","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],zm2jV:[function(e,t,r){t.exports=e("./bundle-url").getBundleURL()+e("./relative-path")("2CSmn","2pLqQ")},{"./bundle-url":"6aW1b","./relative-path":"KfeVS"}],"54bZP":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"PipelinesPromotionIcon",(function(){return n})),a.export(r,"PipelinesPromotionRow",(function(){return i})),a.export(r,"PipelinesPromotionLink",(function(){return u}));var s=e("@emotion/styled-base"),l=a.interopDefault(s),o=e("@atlaskit/theme");const n=l.default("img",{target:"e1jexyus0"})({name:"68vl60",styles:"margin:12px auto 22px auto;display:block;height:100px;"}),i=l.default("p",{target:"e1jexyus1"})("margin-bottom:",o.gridSize,";text-align:left;padding:0 ",o.gridSize()/2,"px;"),u=l.default("p",{target:"e1jexyus2"})("margin-top:",2*o.gridSize(),"px;text-align:center;border-top:1px solid ",o.colors.N40A,";padding:",o.gridSize(),"px;")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"55Ktg":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({promotionLineOne:{id:"frontbucket.repository.source.promotionLineOne",defaultMessage:"It looks like you haven\u2019t configured a build tool yet. You can use {bitbucketPipelinesDocumentation} to build, test and deploy your code."},promotionLineTwo:{id:"frontbucket.repository.source.promotionLineTwo",defaultMessage:"Your existing plan already includes build minutes."},promotionSetUpBitbucketPipelinesLink:{id:"frontbucket.repository.source.promotionSetUpBitbucketPipelinesLink",defaultMessage:"Set up a pipeline"},promotionPipelinesDocumentationLink:{id:"frontbucket.repository.source.promotionPipelinesDocumentationLink",defaultMessage:"Bitbucket Pipelines"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1Xya9":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"useBuildStatusFetcher",(function(){return u})),a.export(r,"BuildStatusProvider",(function(){return c})),a.export(r,"useBuildStatus",(function(){return p})),a.export(r,"withBuildStatus",(function(){return f}));var s=e("@babel/runtime/helpers/extends"),l=a.interopDefault(s),o=e("react"),n=a.interopDefault(o),i=e("src/services/auth-request-service/auth-request-service");const u=({repositoryMetadataURL:e,buildStatusURL:t})=>{const{data:r,isLoading:a,hasError:s,refetch:l}=i.useAuthRequest({url:e}),{data:n,isLoading:u,hasError:d,fetchData:c,clearData:p}=i.useAuthRequestLazy({url:t}),f=(null==r?void 0:r.has_statuses)||!1,m=(null==n?void 0:n.values)||[],b=d||s,g=u||a;o.useEffect((()=>{f&&c()}),[c,f]);const h=o.useCallback((()=>{l(),p()}),[l,p]);return{builds:m,hasStatuses:f,isLoading:g,hasError:b,refetch:h}},d=o.createContext(null),c=({repositoryMetadataURL:e,buildStatusURL:t,repositoryFullSlug:r,children:a})=>{const{builds:s,hasStatuses:l,isLoading:i,hasError:c,refetch:p}=u({repositoryMetadataURL:e,buildStatusURL:t}),f=o.useMemo((()=>({builds:s,hasStatuses:l,isLoading:i,hasError:c,refetch:p,repositoryFullSlug:r})),[s,l,i,c,p,r]);return n.default.createElement(d.Provider,{value:f},a)},p=()=>{const e=o.useContext(d);if(null===e)throw new Error("useBuildStatus requires a parent BuildStatusProvider");return e},f=e=>t=>{const r=p();return n.default.createElement(e,l.default({buildStatusResult:r},t))}},{"@babel/runtime/helpers/extends":"bRbXd",react:"28H6D","src/services/auth-request-service/auth-request-service":"6wkVr","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"6wkVr":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"useAuthRequestLazy",(function(){return n})),a.export(r,"useAuthRequest",(function(){return i}));var s=e("react"),l=e("src/utils/fetch"),o=a.interopDefault(l);const n=({url:e})=>{const[{data:t,isLoading:r,hasError:a},l]=s.useState({data:null,isLoading:!1,hasError:!1}),n=s.useCallback((()=>{l({isLoading:!1,hasError:!1,data:null})}),[l]);return{data:t,isLoading:r,hasError:a,fetchData:s.useCallback((async()=>{if(!e)return;l({isLoading:!0,hasError:!1,data:null});const t=await fetch(o.default(e));if(t.ok)try{l({isLoading:!1,hasError:!1,data:await t.json()})}catch(e){l({data:null,hasError:!0,isLoading:!1})}else l({data:null,isLoading:!1,hasError:!0})}),[e]),clearData:n}},i=({url:e})=>{const{data:t,isLoading:r,hasError:a,fetchData:l,clearData:o}=n({url:e});s.useEffect((()=>{l()}),[l]);return{data:t,isLoading:r,hasError:a,refetch:s.useCallback((()=>{o(),l()}),[o,l]),clearData:o}}},{react:"28H6D","src/utils/fetch":"ZDSr3","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}]},[]);
//# sourceMappingURL=shared.d307e57a.js.map
