!function(e,t,r,a,n){var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l="function"==typeof s.parcelRequire5160&&s.parcelRequire5160,o=l.cache||{},i="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function d(t,r){if(!o[t]){if(!e[t]){var a="function"==typeof s.parcelRequire5160&&s.parcelRequire5160;if(!r&&a)return a(t,!0);if(l)return l(t,!0);if(i&&"string"==typeof t)return i(t);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var u=o[t]=new d.Module(t);e[t][0].call(u.exports,p,u,u.exports,this)}return o[t].exports;function p(e){return d(p.resolve(e))}}d.isParcelRequire=!0,d.Module=function(e){this.id=e,this.bundle=d,this.exports={}},d.modules=e,d.cache=o,d.parent=l,d.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(d,"root",{get:function(){return s.parcelRequire5160}}),s.parcelRequire5160=d;for(var u=0;u<t.length;u++)d(t[u])}({"2UWwC":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"CurrentEntryPathSegment",(function(){return o})),a.export(r,"LinkedPathSegment",(function(){return i}));var n=e("@emotion/styled-base"),s=a.interopDefault(n),l=e("@atlaskit/theme");const o=s.default("span",{target:"egzzazp0"})({name:"35ezg3",styles:"font-weight:600;"}),i=s.default("span",{target:"egzzazp1"})("& a,& a:hover,& a:focus{color:",l.colors.N800,";cursor:pointer;}")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],voLXU:[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"LoadMoreItem",(function(){return E})),a.export(r,"LoadingItem",(function(){return k}));var n=e("@babel/runtime/helpers/defineProperty"),s=a.interopDefault(n),l=e("@emotion/styled-base"),o=a.interopDefault(l),i=e("@atlaskit/dropdown-menu"),d=e("@atlaskit/icon/glyph/chevron-down"),u=a.interopDefault(d),p=e("@atlaskit/icon/glyph/bitbucket/commits"),c=a.interopDefault(p),m=e("@atlaskit/spinner"),f=a.interopDefault(m),h=e("react"),g=a.interopDefault(h),b=e("react-intl"),y=e("src/i18n"),x=e("src/utils/short-hash"),C=e("./commit-selector-item"),j=a.interopDefault(C);const D=b.defineMessages({loadMore:{id:"frontbucket.repository.source.file.commitSelector.loadMore",defaultMessage:"Show more"},menuTitle:{id:"frontbucket.repository.source.file.commitSelector.menuTitle",defaultMessage:"Commit history"}}),v=o.default(i.DropdownItem,{target:"eyl81dt0"})({name:"xi606m",styles:"text-align:center;"}),E=e=>g.default.createElement(v,e,g.default.createElement(b.FormattedMessage,D.loadMore)),k=()=>g.default.createElement(v,{isDisabled:!0},g.default.createElement(f.default,{size:"small"}));class w extends h.PureComponent{constructor(...e){super(...e),s.default(this,"state",{closingFromLoadMore:!1,isOpen:!1}),s.default(this,"handleOpenChange",(e=>this.setState((t=>t.closingFromLoadMore?{closingFromLoadMore:!1}:{isOpen:e.isOpen}))))}render(){const{isLoading:e,selectedHash:t}=this.props;return g.default.createElement(i.DropdownMenuStateless,{isOpen:this.state.isOpen,onOpenChange:this.handleOpenChange,position:"bottom left",trigger:t?x.shortHash(t):"",triggerButtonProps:{iconAfter:g.default.createElement(u.default,{label:this.props.intl.formatMessage(y.commonMessages.expandIcon)}),iconBefore:g.default.createElement(c.default,{size:"medium",label:""})},triggerType:"button"},g.default.createElement(i.DropdownItemGroup,{title:this.props.intl.formatMessage(D.menuTitle)},this.props.commits.map((e=>g.default.createElement(j.default,{commit:e,isSelected:e.hash===t,key:e.hash,onSelect:this.props.onChange}))),this.props.hasMore&&!e&&g.default.createElement(E,{onClick:()=>{this.props.onLoadMore(),this.setState({closingFromLoadMore:!0})}}),e&&g.default.createElement(k,null)))}}s.default(w,"defaultProps",{onChange:()=>{},onLoadMore:()=>{}}),r.default=b.injectIntl(w)},{"@babel/runtime/helpers/defineProperty":"5MCal","@emotion/styled-base":"7cOcD","@atlaskit/dropdown-menu":"6GS9r","@atlaskit/icon/glyph/chevron-down":"NTbpX","@atlaskit/icon/glyph/bitbucket/commits":"2fpPf","@atlaskit/spinner":"4afTf",react:"28H6D","react-intl":"4XDLZ","src/i18n":"5APXb","src/utils/short-hash":"7kju9","./commit-selector-item":"71AfZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"71AfZ":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var n=e("@babel/runtime/helpers/defineProperty"),s=a.interopDefault(n),l=e("react"),o=a.interopDefault(l),i=e("@atlassian/bitkit-date"),d=e("src/components/user-profile"),u=e("src/components/rendered-title"),p=a.interopDefault(u),c=e("./commit-selector-item.style");class m extends o.default.Component{constructor(...e){super(...e),s.default(this,"handleClick",(()=>{this.props.onSelect(this.props.commit)}))}renderAuthorAvatar(){const{commit:e}=this.props;return e.author.user?o.default.createElement(d.UserAvatar,{size:"xsmall",user:e.author.user}):o.default.createElement(d.UnmatchedCommitAuthorAvatar,{size:"xsmall"})}renderAuthorName(){const{commit:e}=this.props,{raw:t,user:r}=e.author;return r?o.default.createElement(d.UserName,{user:r}):o.default.createElement(d.UnmatchedCommitAuthorName,{rawCommitAuthor:t})}render(){const{commit:e,isSelected:t}=this.props,r=e.rendered&&e.rendered.message;return o.default.createElement(c.CommitItem,{isSelected:t,onClick:this.handleClick},o.default.createElement(c.CommitSummary,null,o.default.createElement(c.Author,null,this.renderAuthorAvatar(),o.default.createElement(c.AuthorName,null,this.renderAuthorName())),o.default.createElement(i.RelativeDate,{date:e.date})),o.default.createElement(c.CommitMessage,{title:e.message},r?o.default.createElement(p.default,{fadeLinesAfterFirst:!0,renderedContent:r}):e.message))}}r.default=m,s.default(m,"defaultProps",{onSelect:()=>{}})},{"@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","@atlassian/bitkit-date":"1VXDE","src/components/user-profile":"3Ap6f","src/components/rendered-title":"6DA0O","./commit-selector-item.style":"70oql","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"6DA0O":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"default",(function(){return s.default})),a.export(r,"RenderedTitleProps",(function(){return n.RenderedTitleProps}));var n=e("./rendered-title"),s=a.interopDefault(n)},{"./rendered-title":"4dGK7","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"4dGK7":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var n=e("react"),s=a.interopDefault(n),l=e("./rendered-title.style");const o=/[\n\r\t]+/g,i=new Set(["#text","CODE","EM","STRONG","A","IMG","DEL","ABBR"]),d=new Set(["P","BR","LI","H1","H2","H3","H4","H5","H6","BLOCKQUOTE","PRE"]),u=e=>{let t=e.firstChild;for(;t;){const r=t.nextSibling;if(u(t),!i.has(t.nodeName)){if(d.has(t.nodeName)){const r=document.createElement("SPAN");for(e.insertBefore(r,t),e.insertBefore(document.createTextNode(" "),t);t.firstChild;)r.appendChild(t.firstChild)}else for(;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}t=r}};class p extends n.PureComponent{render(){const{renderedContent:e,fadeLinesAfterFirst:t}=this.props;if(!e.html){const r=e.raw.replace(o," ");return s.default.createElement(l.TitleText,{fadeLinesAfterFirst:!!t},r)}const r=document.createElement("SPAN");r.innerHTML=e.html,u(r);const{lastChild:a}=r;return a&&"#text"===a.nodeName&&" "===a.textContent&&r.removeChild(a),s.default.createElement(l.TitleText,{fadeLinesAfterFirst:!!t,dangerouslySetInnerHTML:{__html:r.innerHTML}})}}r.default=p},{react:"28H6D","./rendered-title.style":"4qUEb","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"4qUEb":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TitleText",(function(){return o}));var n=e("@emotion/styled-base"),s=a.interopDefault(n),l=e("@atlaskit/theme");const o=s.default("span",{target:"edzl37l0"})("img{max-height:1em;vertical-align:text-bottom;&.emoji{height:1em;}}span:not(:first-of-type){",(({fadeLinesAfterFirst:e})=>e?`color: ${l.colors.N200}`:null),";}")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"70oql":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Author",(function(){return p})),a.export(r,"AuthorName",(function(){return c})),a.export(r,"CommitItem",(function(){return m})),a.export(r,"CommitMessage",(function(){return f})),a.export(r,"CommitSummary",(function(){return h}));var n=e("@emotion/styled-base"),s=a.interopDefault(n),l=e("@atlaskit/dropdown-menu"),o=e("@atlaskit/theme"),i=e("@emotion/core"),d=e("src/styles/mixins");const u=i.css("background:",o.colors.B50,";"),p=s.default("span",{target:"e1ptpy6b0"})({name:"zso0ho",styles:"align-items:center;display:flex;min-width:0;"}),c=s.default("span",{target:"e1ptpy6b1"})("margin-left:",o.gridSize()/2,"px;margin-right:",2*o.gridSize(),"px;",d.overflowEllipsis(),";"),m=s.default(l.DropdownItem,{target:"e1ptpy6b2"})("&&&{",(e=>e.isSelected&&u),";}"),f=s.default("div",{target:"e1ptpy6b3"})(d.overflowEllipsis(),";"),h=s.default("div",{target:"e1ptpy6b4"})("align-items:center;display:flex;justify-content:space-between;margin-bottom:",o.gridSize()/2,"px;")},{"@emotion/styled-base":"7cOcD","@atlaskit/dropdown-menu":"6GS9r","@atlaskit/theme":"5e08t","@emotion/core":"5A2Or","src/styles/mixins":"1NNr2","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"4V0me":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var n=e("@babel/runtime/helpers/extends"),s=a.interopDefault(n),l=e("@emotion/styled-base"),o=a.interopDefault(l),i=e("react"),d=a.interopDefault(i),u=e("@atlaskit/theme"),p=e("src/components/loading"),c=a.interopDefault(p);r.default=o.default((e=>d.default.createElement(c.default,s.default({size:"medium"},e))),{target:"ejovyej0"})("margin:0 auto;padding:",8*u.gridSize(),"px;")},{"@babel/runtime/helpers/extends":"bRbXd","@emotion/styled-base":"7cOcD",react:"28H6D","@atlaskit/theme":"5e08t","src/components/loading":"7LGzd","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3bdvc":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var n=e("react"),s=a.interopDefault(n),l=e("src/components/path"),o=e("src/components/source-dir-link"),i=a.interopDefault(o),d=e("./path.style");class u extends n.PureComponent{render(){const{buildPathSegmentUrl:e,path:t,repositorySlug:r}=this.props,a=t.split("/"),n=[r,...a.slice(0,-1)].map(((t,r)=>{const n=0===r?"":`${a.slice(0,r).join("/")}/`;return s.default.createElement(d.LinkedPathSegment,{key:`segment-${n}`},s.default.createElement(i.default,{href:e(n)},t))})),o=s.default.createElement(d.CurrentEntryPathSegment,{key:"segment-current"},a.pop());return s.default.createElement(l.ExpandablePath,null,[...n,o])}}r.default=u},{react:"28H6D","src/components/path":"7FcJE","src/components/source-dir-link":"48Exb","./path.style":"2UWwC","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"2CcmZ":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var n=e("@babel/runtime/helpers/extends"),s=a.interopDefault(n),l=e("@babel/runtime/helpers/defineProperty"),o=a.interopDefault(l),i=e("react"),d=a.interopDefault(i),u=e("@atlaskit/icon/glyph/document"),p=a.interopDefault(u),c=e("@atlassian/bitkit-file"),m=a.interopDefault(c),f=e("./file-wrapper.style");class h extends i.PureComponent{constructor(...e){super(...e),o.default(this,"renderFilePath",((e,t)=>d.default.createElement(f.PathWrapper,null,this.props.renderFilePath(e,t))))}render(){return d.default.createElement(m.default,s.default({icon:d.default.createElement(p.default,{label:""}),isExpanded:!0,isCollapsible:!1},this.props,{renderFilePath:this.renderFilePath}))}}r.default=h},{"@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","@atlaskit/icon/glyph/document":"6EK5d","@atlassian/bitkit-file":"9wQWJ","./file-wrapper.style":"4cW8e","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"4cW8e":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"PathWrapper",(function(){return o}));var n=e("@emotion/styled-base"),s=a.interopDefault(n),l=e("@atlaskit/theme");const o=s.default("div",{target:"e1jn2c1t0"})("align-items:center;align-self:center;display:flex;flex-grow:1;flex-wrap:wrap;margin-left:",l.gridSize()/2,"px;")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"2DlZG":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"CopyButtonWrapper",(function(){return o})),a.export(r,"MenuContainer",(function(){return i})),a.export(r,"Tags",(function(){return d}));var n=e("@emotion/styled-base"),s=a.interopDefault(n),l=e("@atlaskit/theme");const o=s.default("div",{target:"e13i76yo0"})({name:"thyqwv",styles:"margin-left:6px;min-width:max-content;"}),i=s.default("div",{target:"e13i76yo1"})("display:inline-block;> *{display:inline-block;margin-right:",l.gridSize(),"px;&:last-child{margin-right:0;}}"),d=s.default("div",{target:"e13i76yo2"})("margin-right:",l.gridSize(),"px;")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}]},[]);
//# sourceMappingURL=shared.ef5f6bf9.js.map
