!function(e,t,r,n,i){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o="function"==typeof a.parcelRequire5160&&a.parcelRequire5160,u=o.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function s(t,r){if(!u[t]){if(!e[t]){var n="function"==typeof a.parcelRequire5160&&a.parcelRequire5160;if(!r&&n)return n(t,!0);if(o)return o(t,!0);if(l&&"string"==typeof t)return l(t);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}d.resolve=function(r){return e[t][1][r]||r},d.cache={};var c=u[t]=new s.Module(t);e[t][0].call(c.exports,d,c,c.exports,this)}return u[t].exports;function d(e){return s(d.resolve(e))}}s.isParcelRequire=!0,s.Module=function(e){this.id=e,this.bundle=s,this.exports={}},s.modules=e,s.cache=u,s.parent=o,s.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(s,"root",{get:function(){return a.parcelRequire5160}}),a.parcelRequire5160=s;for(var c=0;c<t.length;c++)s(t[c])}({"1ACVk":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"akEditorActiveBackground",{enumerable:!0,get:function(){return n.akEditorActiveBackground}}),Object.defineProperty(r,"akEditorActiveForeground",{enumerable:!0,get:function(){return n.akEditorActiveForeground}}),Object.defineProperty(r,"akEditorBlockquoteBorderColor",{enumerable:!0,get:function(){return n.akEditorBlockquoteBorderColor}}),Object.defineProperty(r,"akEditorBreakoutPadding",{enumerable:!0,get:function(){return n.akEditorBreakoutPadding}}),Object.defineProperty(r,"akEditorCodeBackground",{enumerable:!0,get:function(){return n.akEditorCodeBackground}}),Object.defineProperty(r,"akEditorCodeBlockPadding",{enumerable:!0,get:function(){return n.akEditorCodeBlockPadding}}),Object.defineProperty(r,"akEditorCodeFontFamily",{enumerable:!0,get:function(){return n.akEditorCodeFontFamily}}),Object.defineProperty(r,"akEditorCodeInlinePadding",{enumerable:!0,get:function(){return n.akEditorCodeInlinePadding}}),Object.defineProperty(r,"akEditorContextPanelWidth",{enumerable:!0,get:function(){return n.akEditorContextPanelWidth}}),Object.defineProperty(r,"akEditorDefaultLayoutWidth",{enumerable:!0,get:function(){return n.akEditorDefaultLayoutWidth}}),Object.defineProperty(r,"akEditorDeleteBackground",{enumerable:!0,get:function(){return n.akEditorDeleteBackground}}),Object.defineProperty(r,"akEditorDeleteBackgroundShaded",{enumerable:!0,get:function(){return n.akEditorDeleteBackgroundShaded}}),Object.defineProperty(r,"akEditorDeleteBackgroundWithOpacity",{enumerable:!0,get:function(){return n.akEditorDeleteBackgroundWithOpacity}}),Object.defineProperty(r,"akEditorDeleteBorder",{enumerable:!0,get:function(){return n.akEditorDeleteBorder}}),Object.defineProperty(r,"akEditorDeleteIconColor",{enumerable:!0,get:function(){return n.akEditorDeleteIconColor}}),Object.defineProperty(r,"akEditorDropdownActiveBackground",{enumerable:!0,get:function(){return n.akEditorDropdownActiveBackground}}),Object.defineProperty(r,"akEditorFloatingDialogZIndex",{enumerable:!0,get:function(){return n.akEditorFloatingDialogZIndex}}),Object.defineProperty(r,"akEditorFloatingOverlapPanelZIndex",{enumerable:!0,get:function(){return n.akEditorFloatingOverlapPanelZIndex}}),Object.defineProperty(r,"akEditorFloatingPanelZIndex",{enumerable:!0,get:function(){return n.akEditorFloatingPanelZIndex}}),Object.defineProperty(r,"akEditorFocus",{enumerable:!0,get:function(){return n.akEditorFocus}}),Object.defineProperty(r,"akEditorFullPageMaxWidth",{enumerable:!0,get:function(){return n.akEditorFullPageMaxWidth}}),Object.defineProperty(r,"akEditorFullPageDefaultFontSize",{enumerable:!0,get:function(){return n.akEditorFullPageDefaultFontSize}}),Object.defineProperty(r,"akEditorFullWidthLayoutWidth",{enumerable:!0,get:function(){return n.akEditorFullWidthLayoutWidth}}),Object.defineProperty(r,"akEditorFullWidthLayoutLineLength",{enumerable:!0,get:function(){return n.akEditorFullWidthLayoutLineLength}}),Object.defineProperty(r,"akEditorGridLineZIndex",{enumerable:!0,get:function(){return n.akEditorGridLineZIndex}}),Object.defineProperty(r,"akEditorGutterPadding",{enumerable:!0,get:function(){return n.akEditorGutterPadding}}),Object.defineProperty(r,"akEditorInactiveForeground",{enumerable:!0,get:function(){return n.akEditorInactiveForeground}}),Object.defineProperty(r,"akEditorMediaResizeHandlerPadding",{enumerable:!0,get:function(){return n.akEditorMediaResizeHandlerPadding}}),Object.defineProperty(r,"akEditorMediaResizeHandlerPaddingWide",{enumerable:!0,get:function(){return n.akEditorMediaResizeHandlerPaddingWide}}),Object.defineProperty(r,"akEditorMentionSelected",{enumerable:!0,get:function(){return n.akEditorMentionSelected}}),Object.defineProperty(r,"akEditorMenuZIndex",{enumerable:!0,get:function(){return n.akEditorMenuZIndex}}),Object.defineProperty(r,"akEditorStickyHeaderZIndex",{enumerable:!0,get:function(){return n.akEditorStickyHeaderZIndex}}),Object.defineProperty(r,"akEditorMobileBreakoutPoint",{enumerable:!0,get:function(){return n.akEditorMobileBreakoutPoint}}),Object.defineProperty(r,"akEditorPopupBackground",{enumerable:!0,get:function(){return n.akEditorPopupBackground}}),Object.defineProperty(r,"akEditorPopupText",{enumerable:!0,get:function(){return n.akEditorPopupText}}),Object.defineProperty(r,"akEditorPrimaryButton",{enumerable:!0,get:function(){return n.akEditorPrimaryButton}}),Object.defineProperty(r,"akEditorSelectedBorderColor",{enumerable:!0,get:function(){return n.akEditorSelectedBorderColor}}),Object.defineProperty(r,"akEditorSelectedBorderBoldSize",{enumerable:!0,get:function(){return n.akEditorSelectedBorderBoldSize}}),Object.defineProperty(r,"akEditorSelectedBorderSize",{enumerable:!0,get:function(){return n.akEditorSelectedBorderSize}}),Object.defineProperty(r,"akEditorSelectedBorder",{enumerable:!0,get:function(){return n.akEditorSelectedBorder}}),Object.defineProperty(r,"akEditorSelectedBoxShadow",{enumerable:!0,get:function(){return n.akEditorSelectedBoxShadow}}),Object.defineProperty(r,"akEditorSelectedIconColor",{enumerable:!0,get:function(){return n.akEditorSelectedIconColor}}),Object.defineProperty(r,"akEditorSelectedBlanketColor",{enumerable:!0,get:function(){return n.akEditorSelectedBlanketColor}}),Object.defineProperty(r,"akEditorSelectedBgColor",{enumerable:!0,get:function(){return n.akEditorSelectedBgColor}}),Object.defineProperty(r,"akEditorSelectedBlanketOpacity",{enumerable:!0,get:function(){return n.akEditorSelectedBlanketOpacity}}),Object.defineProperty(r,"akEditorSmallZIndex",{enumerable:!0,get:function(){return n.akEditorSmallZIndex}}),Object.defineProperty(r,"akEditorShadowZIndex",{enumerable:!0,get:function(){return n.akEditorShadowZIndex}}),Object.defineProperty(r,"akEditorSubtleAccent",{enumerable:!0,get:function(){return n.akEditorSubtleAccent}}),Object.defineProperty(r,"akEditorSwoopCubicBezier",{enumerable:!0,get:function(){return n.akEditorSwoopCubicBezier}}),Object.defineProperty(r,"akEditorTableBorder",{enumerable:!0,get:function(){return n.akEditorTableBorder}}),Object.defineProperty(r,"akEditorTableBorderDark",{enumerable:!0,get:function(){return n.akEditorTableBorderDark}}),Object.defineProperty(r,"akEditorTableBorderDelete",{enumerable:!0,get:function(){return n.akEditorTableBorderDelete}}),Object.defineProperty(r,"akEditorTableBorderRadius",{enumerable:!0,get:function(){return n.akEditorTableBorderRadius}}),Object.defineProperty(r,"akEditorTableBorderSelected",{enumerable:!0,get:function(){return n.akEditorTableBorderSelected}}),Object.defineProperty(r,"akEditorTableCellBackgroundOpacity",{enumerable:!0,get:function(){return n.akEditorTableCellBackgroundOpacity}}),Object.defineProperty(r,"akEditorTableCellDelete",{enumerable:!0,get:function(){return n.akEditorTableCellDelete}}),Object.defineProperty(r,"akEditorTableCellMinWidth",{enumerable:!0,get:function(){return n.akEditorTableCellMinWidth}}),Object.defineProperty(r,"akEditorTableCellSelected",{enumerable:!0,get:function(){return n.akEditorTableCellSelected}}),Object.defineProperty(r,"akEditorTableFloatingControls",{enumerable:!0,get:function(){return n.akEditorTableFloatingControls}}),Object.defineProperty(r,"akEditorTableLegacyCellMinWidth",{enumerable:!0,get:function(){return n.akEditorTableLegacyCellMinWidth}}),Object.defineProperty(r,"akEditorTableNumberColumnWidth",{enumerable:!0,get:function(){return n.akEditorTableNumberColumnWidth}}),Object.defineProperty(r,"akEditorTableToolbar",{enumerable:!0,get:function(){return n.akEditorTableToolbar}}),Object.defineProperty(r,"akEditorTableToolbarDark",{enumerable:!0,get:function(){return n.akEditorTableToolbarDark}}),Object.defineProperty(r,"akEditorTableToolbarDelete",{enumerable:!0,get:function(){return n.akEditorTableToolbarDelete}}),Object.defineProperty(r,"akEditorTableToolbarSelected",{enumerable:!0,get:function(){return n.akEditorTableToolbarSelected}}),Object.defineProperty(r,"akEditorTableToolbarSize",{enumerable:!0,get:function(){return n.akEditorTableToolbarSize}}),Object.defineProperty(r,"akEditorUnitZIndex",{enumerable:!0,get:function(){return n.akEditorUnitZIndex}}),Object.defineProperty(r,"akEditorWideLayoutWidth",{enumerable:!0,get:function(){return n.akEditorWideLayoutWidth}}),Object.defineProperty(r,"akLayoutGutterOffset",{enumerable:!0,get:function(){return n.akLayoutGutterOffset}}),Object.defineProperty(r,"akRichMediaResizeZIndex",{enumerable:!0,get:function(){return n.akRichMediaResizeZIndex}}),Object.defineProperty(r,"blockNodesVerticalMargin",{enumerable:!0,get:function(){return n.blockNodesVerticalMargin}}),Object.defineProperty(r,"breakoutWideScaleRatio",{enumerable:!0,get:function(){return n.breakoutWideScaleRatio}}),Object.defineProperty(r,"editorFontSize",{enumerable:!0,get:function(){return n.editorFontSize}}),Object.defineProperty(r,"gridMediumMaxWidth",{enumerable:!0,get:function(){return n.gridMediumMaxWidth}}),Object.defineProperty(r,"getAkEditorFullPageMaxWidth",{enumerable:!0,get:function(){return n.getAkEditorFullPageMaxWidth}}),Object.defineProperty(r,"relativeSize",{enumerable:!0,get:function(){return n.relativeSize}}),Object.defineProperty(r,"relativeFontSizeToBase16",{enumerable:!0,get:function(){return n.relativeFontSizeToBase16}}),Object.defineProperty(r,"DEFAULT_EMBED_CARD_HEIGHT",{enumerable:!0,get:function(){return n.DEFAULT_EMBED_CARD_HEIGHT}}),Object.defineProperty(r,"DEFAULT_EMBED_CARD_WIDTH",{enumerable:!0,get:function(){return n.DEFAULT_EMBED_CARD_WIDTH}}),Object.defineProperty(r,"akEditorLineHeight",{enumerable:!0,get:function(){return n.akEditorLineHeight}}),Object.defineProperty(r,"akEditorRuleBackground",{enumerable:!0,get:function(){return n.akEditorRuleBackground}}),Object.defineProperty(r,"akEditorRuleBorderRadius",{enumerable:!0,get:function(){return n.akEditorRuleBorderRadius}}),Object.defineProperty(r,"akEditorSelectedNodeClassName",{enumerable:!0,get:function(){return n.akEditorSelectedNodeClassName}}),Object.defineProperty(r,"akEditorToolbarKeylineHeight",{enumerable:!0,get:function(){return n.akEditorToolbarKeylineHeight}}),Object.defineProperty(r,"VIEWPORT_SIZES",{enumerable:!0,get:function(){return n.VIEWPORT_SIZES}}),Object.defineProperty(r,"akEditorMobileMaxWidth",{enumerable:!0,get:function(){return n.akEditorMobileMaxWidth}}),Object.defineProperty(r,"getTableCellBackgroundDarkModeColors",{enumerable:!0,get:function(){return n.getTableCellBackgroundDarkModeColors}}),Object.defineProperty(r,"ATLASSIAN_NAVIGATION_HEIGHT",{enumerable:!0,get:function(){return n.ATLASSIAN_NAVIGATION_HEIGHT}});var n=e("./consts")},{"./consts":"6loBH"}],"6loBH":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getTableCellBackgroundDarkModeColorCSS=X,r.getTableCellBackgroundDarkModeColors=r.akEditorMobileMaxWidth=r.VIEWPORT_SIZES=r.getAkEditorFullPageMaxWidth=r.relativeFontSizeToBase16=r.relativeSize=r.editorFontSize=r.akEditorSelectedNodeClassName=r.ATLASSIAN_NAVIGATION_HEIGHT=r.DEFAULT_EMBED_CARD_HEIGHT=r.DEFAULT_EMBED_CARD_WIDTH=r.blockNodesVerticalMargin=r.akEditorContextPanelWidth=r.akEditorToolbarKeylineHeight=r.akEditorRuleBorderRadius=r.akEditorRuleBackground=r.akEditorLineHeight=r.akLayoutGutterOffset=r.akRichMediaResizeZIndex=r.breakoutWideScaleRatio=r.gridMediumMaxWidth=r.akEditorSwoopCubicBezier=r.akEditorMediaResizeHandlerPadding=r.akEditorMediaResizeHandlerPaddingWide=r.akEditorTableLegacyCellMinWidth=r.akEditorTableCellMinWidth=r.akEditorMobileBreakoutPoint=r.akEditorGutterPadding=r.akEditorBreakoutPadding=r.akEditorTableNumberColumnWidth=r.akEditorFullWidthLayoutLineLength=r.akEditorFullWidthLayoutWidth=r.akEditorWideLayoutWidth=r.akEditorDefaultLayoutWidth=r.akEditorFullPageMaxWidth=r.akEditorTableCellBackgroundOpacity=r.akEditorTableBorderRadius=r.akEditorTableToolbarDelete=r.akEditorTableBorderDelete=r.akEditorTableCellDelete=r.akEditorTableBorderSelected=r.akEditorTableToolbarSelected=r.akEditorTableCellSelected=r.akEditorTableFloatingControls=r.akEditorTableToolbarDark=r.akEditorTableToolbar=r.akEditorTableBorderDark=r.akEditorTableBorder=r.akEditorTableToolbarSize=r.akEditorMentionSelected=r.akEditorFloatingOverlapPanelZIndex=r.akEditorFloatingDialogZIndex=r.akEditorFloatingPanelZIndex=r.akEditorMenuZIndex=r.akEditorGridLineZIndex=r.akEditorSmallZIndex=r.akEditorStickyHeaderZIndex=r.akEditorShadowZIndex=r.akEditorUnitZIndex=r.akEditorSelectedBlanketOpacity=r.akEditorSelectedBorderBoldSize=r.akEditorSelectedIconColor=r.akEditorSelectedBoxShadow=r.akEditorSelectedBorder=r.akEditorSelectedBorderSize=r.akEditorSelectedBlanketColor=r.akEditorSelectedBgColor=r.akEditorSelectedBorderColor=r.akEditorDeleteIconColor=r.akEditorDeleteBorder=r.akEditorDeleteBackgroundWithOpacity=r.akEditorDeleteBackgroundShaded=r.akEditorDeleteBackground=r.akEditorCodeInlinePadding=r.akEditorCodeBlockPadding=r.akEditorCodeBackground=r.akEditorPrimaryButton=r.akEditorPopupText=r.akEditorPopupBackground=r.akEditorDropdownActiveBackground=r.akEditorBlockquoteBorderColor=r.akEditorActiveForeground=r.akEditorActiveBackground=r.akEditorSubtleAccent=r.akEditorFocus=r.akEditorInactiveForeground=r.akEditorCodeFontFamily=r.akEditorFullPageDefaultFontSize=void 0;var i=n(e("@babel/runtime/helpers/slicedToArray")),a=e("@atlaskit/theme/colors"),o=e("@atlaskit/theme/constants");r.akEditorFullPageDefaultFontSize=16;var u=(0,o.codeFontFamily)();r.akEditorCodeFontFamily=u;var l=a.N500;r.akEditorInactiveForeground=l;var s=a.B100;r.akEditorFocus=s;var c=a.N40;r.akEditorSubtleAccent=c;var d=a.N500;r.akEditorActiveBackground=d;var p=a.N0;r.akEditorActiveForeground=p;var f=a.N40;r.akEditorBlockquoteBorderColor=f;var b=a.N900;r.akEditorDropdownActiveBackground=b;var h=a.N700;r.akEditorPopupBackground=h;var m=a.B50;r.akEditorPopupText=m;var v=a.B400;r.akEditorPrimaryButton=v;var y=a.N20;r.akEditorCodeBackground=y;r.akEditorCodeBlockPadding="12px";r.akEditorCodeInlinePadding="2px 4px";var g=a.R50;r.akEditorDeleteBackground=g;var E=a.R50;r.akEditorDeleteBackgroundShaded=E;r.akEditorDeleteBackgroundWithOpacity="rgba(255, 189, 173, 0.5)";var k=a.R300;r.akEditorDeleteBorder=k;var w=a.R400;r.akEditorDeleteIconColor=w;var O=a.B300;r.akEditorSelectedBorderColor=O;var x=a.B50;r.akEditorSelectedBgColor=x;var C=a.B75;r.akEditorSelectedBlanketColor=C;r.akEditorSelectedBorderSize=1;var P="".concat(1,"px solid ").concat(O);r.akEditorSelectedBorder=P;var S="0 0 0 ".concat(1,"px ").concat(O);r.akEditorSelectedBoxShadow=S;var A=a.B400;r.akEditorSelectedIconColor=A;r.akEditorSelectedBorderBoldSize=2;r.akEditorSelectedBlanketOpacity=.3;r.akEditorUnitZIndex=1;r.akEditorShadowZIndex=2;r.akEditorStickyHeaderZIndex=11;r.akEditorSmallZIndex=12;r.akEditorGridLineZIndex=9999;var T=o.layers.blanket();r.akEditorMenuZIndex=T;var R=o.layers.layer();r.akEditorFloatingPanelZIndex=R;var D=R+10;r.akEditorFloatingDialogZIndex=D;var j=R+5;r.akEditorFloatingOverlapPanelZIndex=j;var _=a.N100;r.akEditorMentionSelected=_;r.akEditorTableToolbarSize=11;var F=a.N50;r.akEditorTableBorder=F;var M=a.DN70;r.akEditorTableBorderDark=M;var B=a.N20;r.akEditorTableToolbar=B;var N=a.DN50;r.akEditorTableToolbarDark=N;var I=a.N20;r.akEditorTableFloatingControls=I;var L=a.B75;r.akEditorTableCellSelected=L;var q=a.B100;r.akEditorTableToolbarSelected=q;var U=a.B300;r.akEditorTableBorderSelected=U;var z=a.R50;r.akEditorTableCellDelete=z;var H=a.R300;r.akEditorTableBorderDelete=H;var W=a.R75;r.akEditorTableToolbarDelete=W;r.akEditorTableBorderRadius="3px";r.akEditorTableCellBackgroundOpacity=.5;r.akEditorFullPageMaxWidth=680;r.akEditorDefaultLayoutWidth=760;r.akEditorWideLayoutWidth=960;r.akEditorFullWidthLayoutWidth=1800;r.akEditorFullWidthLayoutLineLength=1792;r.akEditorTableNumberColumnWidth=42;r.akEditorBreakoutPadding=96;r.akEditorGutterPadding=32;r.akEditorMobileBreakoutPoint=720;r.akEditorTableCellMinWidth=48;r.akEditorTableLegacyCellMinWidth=128;r.akEditorMediaResizeHandlerPaddingWide=12;r.akEditorMediaResizeHandlerPadding=4;r.akEditorSwoopCubicBezier="cubic-bezier(0.15, 1, 0.3, 1)";r.gridMediumMaxWidth=1024;r.breakoutWideScaleRatio=1.33;r.akRichMediaResizeZIndex=99;var G=1.5*(0,o.gridSize)();r.akLayoutGutterOffset=G;r.akEditorLineHeight=1.714;var V=a.N30;r.akEditorRuleBackground=V;r.akEditorRuleBorderRadius="1px";r.akEditorToolbarKeylineHeight=2;r.akEditorContextPanelWidth=320;r.blockNodesVerticalMargin="0.75rem";r.DEFAULT_EMBED_CARD_WIDTH=680;r.DEFAULT_EMBED_CARD_HEIGHT=480;r.ATLASSIAN_NAVIGATION_HEIGHT="56px";r.akEditorSelectedNodeClassName="ak-editor-selected-node";var K=function(e){var t=e.theme;return t&&t.baseFontSize?t.baseFontSize:(0,o.fontSize)()};r.editorFontSize=K;r.relativeSize=function(e){return function(t){var r=t.theme;return K({theme:r})*e}};r.relativeFontSizeToBase16=function(e){if("string"==typeof e&&(e=parseInt(e)),isNaN(e))throw new Error("Invalid font size: '".concat(e,"'"));return"".concat(e/16,"rem")};r.getAkEditorFullPageMaxWidth=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?680:760};r.VIEWPORT_SIZES={laptopHiDPI:{width:1440,height:900},laptopMDPI:{width:1280,height:800},tabletL:{width:1024,height:1366},tabletS:{width:768,height:1024},mobileM:{width:414,height:736},mobileS:{width:375,height:667},mobileXS:{width:320,height:568}};r.akEditorMobileMaxWidth=0;var Y=[["White","#000000"],["Light blue","#0C294F"],["Light teal","#0C343B"],["Light green","#052E21"],["Light yellow","#484123"],["Light red","#441C13"],["Light purple","#282249"],["Light gray","#202328"],["Blue","#0B3165"],["Teal","#044853"],["Green","#053927"],["Yellow","#6F5C25"],["Red","#582013"],["Purple","#3E327B"],["Gray","#475262"],["Dark blue","#003884"],["Dark teal","#055866"],["Dark green","#044932"],["Dark yellow","#82641C"],["Dark red","#6B2A19"],["Dark purple","#4D38B2"]].map((function(e){var t=(0,i.default)(e,2);return X(t[0],t[1])})).join("\n");function X(e,t){return'\n  &[colorname="'.concat(e,'"] {\n    background-color: ').concat(t," !important; // !important to override default style color\n  }\n  ")}r.getTableCellBackgroundDarkModeColors=Y},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/slicedToArray":"2D1XJ","@atlaskit/theme/colors":"2gdMC","@atlaskit/theme/constants":"1TESC"}],"2gdMC":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.DN600A=r.DN700A=r.DN800A=r.DN0=r.DN10=r.DN20=r.DN30=r.DN40=r.DN50=r.DN60=r.DN70=r.DN80=r.DN90=r.DN100=r.DN200=r.DN300=r.DN400=r.DN500=r.DN600=r.DN700=r.DN800=r.DN900=r.N800A=r.N700A=r.N600A=r.N500A=r.N400A=r.N300A=r.N200A=r.N100A=r.N90A=r.N80A=r.N70A=r.N60A=r.N50A=r.N40A=r.N30A=r.N20A=r.N10A=r.N900=r.N800=r.N700=r.N600=r.N500=r.N400=r.N300=r.N200=r.N100=r.N90=r.N80=r.N70=r.N60=r.N50=r.N40=r.N30=r.N20=r.N10=r.N0=r.T500=r.T400=r.T300=r.T200=r.T100=r.T75=r.T50=r.P500=r.P400=r.P300=r.P200=r.P100=r.P75=r.P50=r.B500=r.B400=r.B300=r.B200=r.B100=r.B75=r.B50=r.G500=r.G400=r.G300=r.G200=r.G100=r.G75=r.G50=r.Y500=r.Y400=r.Y300=r.Y200=r.Y100=r.Y75=r.Y50=r.R500=r.R400=r.R300=r.R200=r.R100=r.R75=r.R50=void 0,r.skeleton=r.green=r.yellow=r.red=r.purple=r.teal=r.blue=r.primary=r.linkOutline=r.linkActive=r.linkHover=r.link=r.codeBlock=r.subtleHeading=r.heading=r.placeholderText=r.subtleText=r.textActive=r.textHover=r.text=r.backgroundOnLayer=r.backgroundHover=r.backgroundActive=r.background=r.DN10A=r.DN20A=r.DN30A=r.DN40A=r.DN50A=r.DN60A=r.DN70A=r.DN80A=r.DN90A=r.DN100A=r.DN200A=r.DN300A=r.DN400A=r.DN500A=void 0;var i=n(e("./utils/themed"));r.R50="#FFEBE6";r.R75="#FFBDAD";r.R100="#FF8F73";r.R200="#FF7452";var a="#FF5630";r.R300=a;r.R400="#DE350B";r.R500="#BF2600";r.Y50="#FFFAE6";r.Y75="#FFF0B3";r.Y100="#FFE380";r.Y200="#FFC400";var o="#FFAB00";r.Y300=o;r.Y400="#FF991F";r.Y500="#FF8B00";r.G50="#E3FCEF";r.G75="#ABF5D1";r.G100="#79F2C0";r.G200="#57D9A3";var u="#36B37E";r.G300=u;r.G400="#00875A";r.G500="#006644";var l="#DEEBFF";r.B50=l;var s="#B3D4FF";r.B75=s;var c="#4C9AFF";r.B100=c;var d="#2684FF";r.B200=d;var p="#0065FF";r.B300=p;var f="#0052CC";r.B400=f;var b="#0747A6";r.B500=b;r.P50="#EAE6FF";r.P75="#C0B6F2";var h="#998DD9";r.P100=h;r.P200="#8777D9";var m="#6554C0";r.P300=m;r.P400="#5243AA";r.P500="#403294";r.T50="#E6FCFF";r.T75="#B3F5FF";r.T100="#79E2F2";var v="#00C7E6";r.T200=v;var y="#00B8D9";r.T300=y;r.T400="#00A3BF";r.T500="#008DA6";var g="#FFFFFF";r.N0=g;r.N10="#FAFBFC";var E="#F4F5F7";r.N20=E;var k="#EBECF0";r.N30=k;r.N40="#DFE1E6";r.N50="#C1C7D0";r.N60="#B3BAC5";r.N70="#A5ADBA";r.N80="#97A0AF";r.N90="#8993A4";var w="#7A869A";r.N100=w;var O="#6B778C";r.N200=O;r.N300="#5E6C84";r.N400="#505F79";r.N500="#42526E";r.N600="#344563";r.N700="#253858";var x="#172B4D";r.N800=x;var C="#091E42";r.N900=C;r.N10A="rgba(9, 30, 66, 0.02)";var P="rgba(9, 30, 66, 0.04)";r.N20A=P;r.N30A="rgba(9, 30, 66, 0.08)";r.N40A="rgba(9, 30, 66, 0.13)";r.N50A="rgba(9, 30, 66, 0.25)";r.N60A="rgba(9, 30, 66, 0.31)";r.N70A="rgba(9, 30, 66, 0.36)";r.N80A="rgba(9, 30, 66, 0.42)";r.N90A="rgba(9, 30, 66, 0.48)";r.N100A="rgba(9, 30, 66, 0.54)";r.N200A="rgba(9, 30, 66, 0.60)";r.N300A="rgba(9, 30, 66, 0.66)";r.N400A="rgba(9, 30, 66, 0.71)";r.N500A="rgba(9, 30, 66, 0.77)";r.N600A="rgba(9, 30, 66, 0.82)";r.N700A="rgba(9, 30, 66, 0.89)";r.N800A="rgba(9, 30, 66, 0.95)";r.DN900="#E6EDFA";r.DN800="#DCE5F5";r.DN700="#CED9EB";var S="#B8C7E0";r.DN600=S;r.DN500="#ABBBD6";r.DN400="#9FB0CC";var A="#8C9CB8";r.DN300=A;var T="#7988A3";r.DN200=T;r.DN100="#67758F";r.DN90="#56637A";r.DN80="#455166";var R="#3B475C";r.DN70=R;r.DN60="#313D52";var D="#283447";r.DN50=D;r.DN40="#202B3D";var j="#1B2638";r.DN30=j;r.DN20="#121A29";r.DN10="#0E1624";r.DN0="#0D1424";r.DN800A="rgba(13, 20, 36, 0.06)";r.DN700A="rgba(13, 20, 36, 0.14)";r.DN600A="rgba(13, 20, 36, 0.18)";r.DN500A="rgba(13, 20, 36, 0.29)";r.DN400A="rgba(13, 20, 36, 0.36)";r.DN300A="rgba(13, 20, 36, 0.40)";r.DN200A="rgba(13, 20, 36, 0.47)";r.DN100A="rgba(13, 20, 36, 0.53)";r.DN90A="rgba(13, 20, 36, 0.63)";r.DN80A="rgba(13, 20, 36, 0.73)";r.DN70A="rgba(13, 20, 36, 0.78)";r.DN60A="rgba(13, 20, 36, 0.81)";r.DN50A="rgba(13, 20, 36, 0.85)";r.DN40A="rgba(13, 20, 36, 0.89)";r.DN30A="rgba(13, 20, 36, 0.92)";r.DN20A="rgba(13, 20, 36, 0.95)";r.DN10A="rgba(13, 20, 36, 0.97)";var _=(0,i.default)({light:g,dark:j});r.background=_;var F=(0,i.default)({light:l,dark:s});r.backgroundActive=F;var M=(0,i.default)({light:k,dark:R});r.backgroundHover=M;var B=(0,i.default)({light:g,dark:D});r.backgroundOnLayer=B;var N=(0,i.default)({light:C,dark:S});r.text=N;var I=(0,i.default)({light:x,dark:S});r.textHover=I;var L=(0,i.default)({light:f,dark:f});r.textActive=L;var q=(0,i.default)({light:O,dark:A});r.subtleText=q;var U=(0,i.default)({light:w,dark:T});r.placeholderText=U;var z=(0,i.default)({light:x,dark:S});r.heading=z;var H=(0,i.default)({light:O,dark:A});r.subtleHeading=H;var W=(0,i.default)({light:E,dark:D});r.codeBlock=W;var G=(0,i.default)({light:f,dark:c});r.link=G;var V=(0,i.default)({light:p,dark:d});r.linkHover=V;var K=(0,i.default)({light:b,dark:c});r.linkActive=K;var Y=(0,i.default)({light:c,dark:d});r.linkOutline=Y;var X=(0,i.default)({light:f,dark:c});r.primary=X;var Z=(0,i.default)({light:f,dark:c});r.blue=Z;var J=(0,i.default)({light:y,dark:v});r.teal=J;var Q=(0,i.default)({light:m,dark:h});r.purple=Q;var $=(0,i.default)({light:a,dark:a});r.red=$;var ee=(0,i.default)({light:o,dark:o});r.yellow=ee;var te=(0,i.default)({light:u,dark:u});r.green=te;r.skeleton=function(){return P}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","./utils/themed":"4Tqrd"}],"4Tqrd":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){if("string"==typeof e)return r=e,n=t,function(e){var t=(0,i.default)(e);if(e&&e[r]&&n){var a=n[e[r]];if(a&&a[t.mode]){var o=a[t.mode];if(o)return o}}return""};var r,n;var a=e;return function(e){var t=(0,i.default)(e);if(t.mode in a){var r=a[t.mode];if(r)return r}return""}};var i=n(e("./getTheme"))},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","./getTheme":"2wqnc"}],"2wqnc":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&n.includes(e.theme.mode))return e.theme}return{mode:"light"}};var n=["light","dark"]},{}],"1TESC":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.skeletonShimmer=r.assistive=r.visuallyHidden=r.layers=r.noFocusRing=r.focusRing=r.codeFontFamily=r.fontFamily=r.fontSizeSmall=r.fontSize=r.gridSize=r.borderRadius=r.THEME_MODES=r.DEFAULT_THEME_MODE=r.CHANNEL=r.FLATTENED=void 0;var i=n(e("@babel/runtime/helpers/taggedTemplateLiteral")),a=e("styled-components"),o=e("./colors");function u(){var e=(0,i.default)(["\n  border: 0 !important;\n  clip: rect(1px, 1px, 1px, 1px) !important;\n  height: 1px !important;\n  overflow: hidden !important;\n  padding: 0 !important;\n  position: absolute !important;\n  width: 1px !important;\n  white-space: nowrap !important;\n"]);return u=function(){return e},e}r.FLATTENED="__FLATTENED__";r.CHANNEL="__ATLASKIT_THEME__";r.DEFAULT_THEME_MODE="light";r.THEME_MODES=["light","dark"];r.borderRadius=function(){return 3};var l=function(){return 8};r.gridSize=l;r.fontSize=function(){return 14};r.fontSizeSmall=function(){return 11};r.fontFamily=function(){return"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif"};r.codeFontFamily=function(){return"'SFMono-Medium', 'SF Mono', 'Segoe UI Mono', 'Roboto Mono', 'Ubuntu Mono', Menlo, Consolas, Courier, monospace"};r.focusRing=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.B100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"\n  &:focus {\n    outline: none;\n    box-shadow: 0px 0px 0px ".concat(t,"px ").concat(e,";\n  }\n")};r.noFocusRing=function(){return"\n  box-shadow: none;\n"};r.layers={card:function(){return 100},navigation:function(){return 200},dialog:function(){return 300},layer:function(){return 400},blanket:function(){return 500},modal:function(){return 510},flag:function(){return 600},spotlight:function(){return 700},tooltip:function(){return 800}};r.visuallyHidden=function(){return{border:"0 !important",clip:"rect(1px, 1px, 1px, 1px) !important",height:"1px !important",overflow:"hidden !important",padding:"0 !important",position:"absolute !important",width:"1px !important",whiteSpace:"nowrap !important"}};r.assistive=function(){return(0,a.css)(u())};r.skeletonShimmer=function(){return{css:{backgroundColor:(0,o.skeleton)(),animationDuration:"1.5s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate"},keyframes:{from:{backgroundColor:(0,o.skeleton)()},to:{backgroundColor:o.N30A}}}}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/taggedTemplateLiteral":"3h9Bz","styled-components":"3zU0W","./colors":"2gdMC"}],"4FoBz":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"SelectionStyle",{enumerable:!0,get:function(){return n.SelectionStyle}}),Object.defineProperty(r,"getSelectionStyles",{enumerable:!0,get:function(){return i.getSelectionStyles}}),Object.defineProperty(r,"hideNativeBrowserTextSelectionStyles",{enumerable:!0,get:function(){return i.hideNativeBrowserTextSelectionStyles}});var n=e("./types"),i=e("./utils")},{"./types":"26q3t","./utils":"5geRJ"}],"26q3t":[function(e,t,r){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.SelectionStyle=void 0,r.SelectionStyle=n,function(e){e[e.Border=0]="Border",e[e.BoxShadow=1]="BoxShadow",e[e.Background=2]="Background",e[e.Blanket=3]="Blanket"}(n||(r.SelectionStyle=n={}))},{}],"5geRJ":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hideNativeBrowserTextSelectionStyles=r.getSelectionStyles=void 0;var n=e("../consts"),i=e("./types");r.getSelectionStyles=function(e){return e.map((function(e){return o(e)})).concat(a).join("\n")};var a="\n  ::selection,*::selection {\n    background-color: transparent;\n  }\n  ::-moz-selection,*::-moz-selection {\n    background-color: transparent;\n  }\n";r.hideNativeBrowserTextSelectionStyles=a;var o=function(e){switch(e){case i.SelectionStyle.Border:return"border: ".concat(n.akEditorSelectedBorder,";");case i.SelectionStyle.BoxShadow:return"\n        box-shadow: ".concat(n.akEditorSelectedBoxShadow,";\n        border-color: transparent;\n        ");case i.SelectionStyle.Background:return"background-color: ".concat(n.akEditorSelectedBgColor,";");case i.SelectionStyle.Blanket:return"\n        position: relative;\n\n        // Fixes ED-9263, where emoji or inline card in panel makes selection go outside the panel\n        // in Safari. Looks like it's caused by user-select: all in the emoji element\n        -webkit-user-select: text;\n\n        ::after {\n          position: absolute;\n          content: '';\n          left: 0;\n          right: 0;\n          top: 0;\n          bottom: 0;\n          opacity: ".concat(n.akEditorSelectedBlanketOpacity,";\n          pointer-events: none;\n          background-color: ").concat(n.akEditorSelectedBlanketColor,"\n        }");default:return""}}},{"../consts":"1ACVk","./types":"26q3t"}],"1JnCh":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"MediaStore",{enumerable:!0,get:function(){return n.MediaStore}}),Object.defineProperty(r,"MediaStoreError",{enumerable:!0,get:function(){return n.MediaStoreError}}),Object.defineProperty(r,"isMediaStoreError",{enumerable:!0,get:function(){return n.isMediaStoreError}}),Object.defineProperty(r,"UploadController",{enumerable:!0,get:function(){return i.UploadController}}),Object.defineProperty(r,"isPreviewableType",{enumerable:!0,get:function(){return a.isPreviewableType}}),Object.defineProperty(r,"isMediaCollectionItemFullDetails",{enumerable:!0,get:function(){return a.isMediaCollectionItemFullDetails}}),Object.defineProperty(r,"getArtifactUrl",{enumerable:!0,get:function(){return o.getArtifactUrl}}),Object.defineProperty(r,"isMediaClientError",{enumerable:!0,get:function(){return u.isMediaClientError}}),Object.defineProperty(r,"getMediaClientErrorReason",{enumerable:!0,get:function(){return u.getMediaClientErrorReason}}),Object.defineProperty(r,"isUploadingFileState",{enumerable:!0,get:function(){return l.isUploadingFileState}}),Object.defineProperty(r,"isProcessingFileState",{enumerable:!0,get:function(){return l.isProcessingFileState}}),Object.defineProperty(r,"isProcessedFileState",{enumerable:!0,get:function(){return l.isProcessedFileState}}),Object.defineProperty(r,"isErrorFileState",{enumerable:!0,get:function(){return l.isErrorFileState}}),Object.defineProperty(r,"isPreviewableFileState",{enumerable:!0,get:function(){return l.isPreviewableFileState}}),Object.defineProperty(r,"isFinalFileState",{enumerable:!0,get:function(){return l.isFinalFileState}}),Object.defineProperty(r,"isImageRepresentationReady",{enumerable:!0,get:function(){return l.isImageRepresentationReady}}),Object.defineProperty(r,"mapMediaFileToFileState",{enumerable:!0,get:function(){return l.mapMediaFileToFileState}}),Object.defineProperty(r,"mapMediaItemToFileState",{enumerable:!0,get:function(){return l.mapMediaItemToFileState}}),Object.defineProperty(r,"getFileStreamsCache",{enumerable:!0,get:function(){return s.getFileStreamsCache}}),Object.defineProperty(r,"StreamsCache",{enumerable:!0,get:function(){return s.StreamsCache}}),Object.defineProperty(r,"uploadFile",{enumerable:!0,get:function(){return c.uploadFile}}),Object.defineProperty(r,"request",{enumerable:!0,get:function(){return d.request}}),Object.defineProperty(r,"RequestError",{enumerable:!0,get:function(){return d.RequestError}}),Object.defineProperty(r,"isRequestError",{enumerable:!0,get:function(){return d.isRequestError}}),Object.defineProperty(r,"isRateLimitedError",{enumerable:!0,get:function(){return d.isRateLimitedError}}),Object.defineProperty(r,"isAbortedRequestError",{enumerable:!0,get:function(){return p.isAbortedRequestError}}),Object.defineProperty(r,"mapResponseToJson",{enumerable:!0,get:function(){return p.mapResponseToJson}}),Object.defineProperty(r,"mapResponseToBlob",{enumerable:!0,get:function(){return p.mapResponseToBlob}}),Object.defineProperty(r,"mapResponseToVoid",{enumerable:!0,get:function(){return p.mapResponseToVoid}}),Object.defineProperty(r,"createUrl",{enumerable:!0,get:function(){return p.createUrl}}),Object.defineProperty(r,"PollingFunction",{enumerable:!0,get:function(){return f.PollingFunction}}),Object.defineProperty(r,"isPollingError",{enumerable:!0,get:function(){return b.isPollingError}}),Object.defineProperty(r,"PollingError",{enumerable:!0,get:function(){return b.PollingError}}),Object.defineProperty(r,"FileFetcherImpl",{enumerable:!0,get:function(){return h.FileFetcherImpl}}),Object.defineProperty(r,"FileFetcherError",{enumerable:!0,get:function(){return h.FileFetcherError}}),Object.defineProperty(r,"isFileFetcherError",{enumerable:!0,get:function(){return h.isFileFetcherError}}),Object.defineProperty(r,"CollectionFetcher",{enumerable:!0,get:function(){return m.CollectionFetcher}}),Object.defineProperty(r,"MediaClient",{enumerable:!0,get:function(){return v.MediaClient}}),Object.defineProperty(r,"StargateClient",{enumerable:!0,get:function(){return y.StargateClient}}),Object.defineProperty(r,"isImageRemote",{enumerable:!0,get:function(){return g.isImageRemote}}),Object.defineProperty(r,"checkWebpSupport",{enumerable:!0,get:function(){return E.checkWebpSupport}}),Object.defineProperty(r,"observableToPromise",{enumerable:!0,get:function(){return k.observableToPromise}}),Object.defineProperty(r,"getMediaTypeFromMimeType",{enumerable:!0,get:function(){return w.getMediaTypeFromMimeType}}),Object.defineProperty(r,"getDimensionsFromBlob",{enumerable:!0,get:function(){return O.getDimensionsFromBlob}}),Object.defineProperty(r,"isImageMimeTypeSupportedByBrowser",{enumerable:!0,get:function(){return x.isImageMimeTypeSupportedByBrowser}}),Object.defineProperty(r,"isDocumentMimeTypeSupportedByBrowser",{enumerable:!0,get:function(){return x.isDocumentMimeTypeSupportedByBrowser}}),Object.defineProperty(r,"isMimeTypeSupportedByBrowser",{enumerable:!0,get:function(){return x.isMimeTypeSupportedByBrowser}}),Object.defineProperty(r,"isImageMimeTypeSupportedByServer",{enumerable:!0,get:function(){return C.isImageMimeTypeSupportedByServer}}),Object.defineProperty(r,"isDocumentMimeTypeSupportedByServer",{enumerable:!0,get:function(){return C.isDocumentMimeTypeSupportedByServer}}),Object.defineProperty(r,"isAudioMimeTypeSupportedByServer",{enumerable:!0,get:function(){return C.isAudioMimeTypeSupportedByServer}}),Object.defineProperty(r,"isVideoMimeTypeSupportedByServer",{enumerable:!0,get:function(){return C.isVideoMimeTypeSupportedByServer}}),Object.defineProperty(r,"isUnknownMimeTypeSupportedByServer",{enumerable:!0,get:function(){return C.isUnknownMimeTypeSupportedByServer}}),Object.defineProperty(r,"isMimeTypeSupportedByServer",{enumerable:!0,get:function(){return C.isMimeTypeSupportedByServer}}),Object.defineProperty(r,"createFileStateSubject",{enumerable:!0,get:function(){return P.createFileStateSubject}}),Object.defineProperty(r,"safeUnsubscribe",{enumerable:!0,get:function(){return S.safeUnsubscribe}}),Object.defineProperty(r,"isFileIdentifier",{enumerable:!0,get:function(){return A.isFileIdentifier}}),Object.defineProperty(r,"isExternalImageIdentifier",{enumerable:!0,get:function(){return A.isExternalImageIdentifier}}),Object.defineProperty(r,"isDifferentIdentifier",{enumerable:!0,get:function(){return A.isDifferentIdentifier}}),Object.defineProperty(r,"withMediaClient",{enumerable:!0,get:function(){return T.withMediaClient}}),Object.defineProperty(r,"getMediaClient",{enumerable:!0,get:function(){return T.getMediaClient}}),Object.defineProperty(r,"globalMediaEventEmitter",{enumerable:!0,get:function(){return R.globalMediaEventEmitter}}),Object.defineProperty(r,"isMediaBlobUrl",{enumerable:!0,get:function(){return D.isMediaBlobUrl}}),Object.defineProperty(r,"getAttrsFromUrl",{enumerable:!0,get:function(){return D.getAttrsFromUrl}}),Object.defineProperty(r,"addFileAttrsToUrl",{enumerable:!0,get:function(){return D.addFileAttrsToUrl}}),Object.defineProperty(r,"objectToQueryString",{enumerable:!0,get:function(){return D.objectToQueryString}}),Object.defineProperty(r,"RECENTS_COLLECTION",{enumerable:!0,get:function(){return j.RECENTS_COLLECTION}}),Object.defineProperty(r,"MAX_RESOLUTION",{enumerable:!0,get:function(){return j.MAX_RESOLUTION}});var n=e("./client/media-store"),i=e("./upload-controller"),a=e("./models/media"),o=e("./models/artifacts"),u=e("./models/errors"),l=e("./models/file-state"),s=e("./file-streams-cache"),c=e("./uploader"),d=e("./utils/request"),p=e("./utils/request/helpers"),f=e("./utils/polling"),b=e("./utils/polling/errors"),h=e("./client/file-fetcher"),m=e("./client/collection-fetcher"),v=e("./client/media-client"),y=e("./client/stargate-client"),g=e("./utils/isImageRemote"),E=e("./utils/checkWebpSupport"),k=e("./utils/observableToPromise"),w=e("./utils/getMediaTypeFromMimeType"),O=e("./utils/getDimensionsFromBlob"),x=e("./utils/isMimeTypeSupportedByBrowser"),C=e("./utils/isMimeTypeSupportedByServer"),P=e("./utils/createFileStateSubject"),S=e("./utils/safeUnsubscribe"),A=e("./identifier"),T=e("./utils/with-media-client-hoc"),R=e("./globalMediaEventEmitter"),D=e("./utils/url"),j=e("./constants")},{"./client/media-store":"79ylE","./upload-controller":"5Y2Qq","./models/media":"2RrQD","./models/artifacts":"1ErJ8","./models/errors":"5b1sg","./models/file-state":"6tHp9","./file-streams-cache":"2SyRG","./uploader":"5CAz6","./utils/request":"3DDjQ","./utils/request/helpers":"4Pl0m","./utils/polling":"2VKia","./utils/polling/errors":"4OtyZ","./client/file-fetcher":"4lm80","./client/collection-fetcher":"3SiWz","./client/media-client":"1F58g","./client/stargate-client":"pRITg","./utils/isImageRemote":"4faLr","./utils/checkWebpSupport":"gpU6t","./utils/observableToPromise":"6t7FG","./utils/getMediaTypeFromMimeType":"3BCWt","./utils/getDimensionsFromBlob":"5bS0u","./utils/isMimeTypeSupportedByBrowser":"3S6r6","./utils/isMimeTypeSupportedByServer":"2WsP1","./utils/createFileStateSubject":"7AFGb","./utils/safeUnsubscribe":"39BSw","./identifier":"3cyFq","./utils/with-media-client-hoc":"3m7iU","./globalMediaEventEmitter":"3Wsl9","./utils/url":"3jjWX","./constants":"6tTst"}],"79ylE":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"MediaStoreError",{enumerable:!0,get:function(){return f.MediaStoreError}}),Object.defineProperty(r,"isMediaStoreError",{enumerable:!0,get:function(){return f.isMediaStoreError}}),r.MediaStore=void 0;var i=n(e("@babel/runtime/regenerator")),a=n(e("@babel/runtime/helpers/asyncToGenerator")),o=n(e("@babel/runtime/helpers/classCallCheck")),u=n(e("@babel/runtime/helpers/createClass")),l=n(e("@babel/runtime/helpers/defineProperty")),s=e("../../constants"),c=e("../../models/artifacts"),d=e("../../utils/request"),p=e("../../utils/request/helpers"),f=e("./error");function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={"max-age":s.FILE_CACHE_MAX_AGE,allowAnimated:!0,mode:"crop"},v={limit:30,sortDirection:"desc"},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return h(h(h({},m),e),t?{width:s.MAX_RESOLUTION,height:s.MAX_RESOLUTION}:{})},g={Accept:"application/json","Content-Type":"application/json"},E=function(){function e(t,r){(0,o.default)(this,e),this.config=t,this.featureFlags=r}var t,r,n,l,b,m,E,w,O,x,C;return(0,u.default)(e,[{key:"getCollectionItems",value:(C=(0,a.default)(i.default.mark((function e(t,r){var n,a,o,u,l,s,c,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h(h({},n={method:"GET",endpoint:"/collection/{collectionName}/items"}),{},{authContext:{collectionName:t},params:h(h({},v),r),headers:{Accept:"application/json"}}),e.next=4,this.request("/collection/".concat(t,"/items"),a);case 4:return o=e.sent,e.next=7,(0,p.createMapResponseToJson)(n)(o);case 7:return u=e.sent,l=u.data,s=l.contents,c=l.nextInclusiveStartKey,d=s.filter((function(e){return e.details.size&&e.details.size>0})),e.abrupt("return",{data:{contents:d,nextInclusiveStartKey:c}});case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return C.apply(this,arguments)})},{key:"removeCollectionFile",value:(x=(0,a.default)(i.default.mark((function e(t,r,n){var a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={actions:[{action:"remove",item:{type:"file",id:t,occurrenceKey:n}}]},o=h(h({},{method:"PUT",endpoint:"/collection/{collectionName}"}),{},{authContext:{collectionName:r},headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}),e.next=5,this.request("/collection/".concat(r),o);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return x.apply(this,arguments)})},{key:"createUpload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,r={method:"POST",endpoint:"/upload"},n=h(h({},r),{},{authContext:{collectionName:t},params:{createUpTo:e},headers:{Accept:"application/json"}});return this.request("/upload",n).then((0,p.createMapResponseToJson)(r))}},{key:"uploadChunk",value:(O=(0,a.default)(i.default.mark((function e(t,r,n){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h(h({},{method:"PUT",endpoint:"/chunk/{etag}"}),{},{authContext:{collectionName:n},body:r}),e.next=4,this.request("/chunk/".concat(t),a);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return O.apply(this,arguments)})},{key:"probeChunks",value:function(e,t){var r={method:"POST",endpoint:"/chunk/probe"},n=h(h({},r),{},{authContext:{collectionName:t},headers:g,body:JSON.stringify({chunks:e})});return this.request("/chunk/probe",n).then((0,p.createMapResponseToJson)(r))}},{key:"createFileFromUpload",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={method:"POST",endpoint:"/file/upload"},n=h(h({},r),{},{authContext:{collectionName:t.collection},params:t,headers:g,body:JSON.stringify(e)});return this.request("/file/upload",n).then((0,p.createMapResponseToJson)(r))}},{key:"touchFiles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={method:"POST",endpoint:"/upload/createWithFiles"},n=h(h({},r),{},{authContext:{collectionName:t.collection},headers:g,body:JSON.stringify(e)});return this.request("/upload/createWithFiles",n).then((0,p.createMapResponseToJson)(r))}},{key:"getFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={method:"GET",endpoint:"/file/{fileId}"},n=h(h({},r),{},{authContext:{collectionName:t.collection},params:t});return this.request("/file/".concat(e),n).then((0,p.createMapResponseToJson)(r))}},{key:"getFileImageURL",value:(w=(0,a.default)(i.default.mark((function e(t,r){var n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.config.authProvider();case 2:return n=e.sent,a={params:y(r),auth:n},e.abrupt("return",(0,p.createUrl)("".concat(n.baseUrl,"/file/").concat(t,"/image"),a));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return w.apply(this,arguments)})},{key:"getFileBinaryURL",value:(E=(0,a.default)(i.default.mark((function e(t,r){var n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.config.authProvider({collectionName:r});case 2:return n=e.sent,a={params:{dl:!0,collection:r,"max-age":s.FILE_CACHE_MAX_AGE},auth:n},e.abrupt("return",(0,p.createUrl)("".concat(n.baseUrl,"/file/").concat(t,"/binary"),a));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return E.apply(this,arguments)})},{key:"getArtifactURL",value:(m=(0,a.default)(i.default.mark((function e(t,r,n){var a,o,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,c.getArtifactUrl)(t,r)){e.next=3;break}throw new Error("artifact ".concat(r," not found"));case 3:return e.next=5,this.config.authProvider({collectionName:n});case 5:return o=e.sent,u={params:{collection:n,"max-age":s.FILE_CACHE_MAX_AGE},auth:o},e.abrupt("return",(0,p.createUrl)("".concat(o.baseUrl).concat(a),u));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return m.apply(this,arguments)})},{key:"getImage",value:(b=(0,a.default)(i.default.mark((function e(t,r,n,a){var o,u,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=h(h({},u={method:"GET",endpoint:"/file/{fileId}/image"}),{},{authContext:{collectionName:r&&r.collection},params:y(r,a),headers:o}),e.abrupt("return",this.request("/file/".concat(t,"/image"),l,n).then((0,p.createMapResponseToBlob)(u)));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return b.apply(this,arguments)})},{key:"getItems",value:(l=(0,a.default)(i.default.mark((function e(t,r){var n,a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return{type:"file",id:e,collection:r}})),o=h(h({},a={method:"POST",endpoint:"/items"}),{},{authContext:{collectionName:r},headers:g,body:JSON.stringify({descriptors:n})}),e.abrupt("return",this.request("/items",o).then((0,p.createMapResponseToJson)(a)));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"getImageMetadata",value:(n=(0,a.default)(i.default.mark((function e(t,r){var n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h(h({},n={method:"GET",endpoint:"/file/{fileId}/image/metadata"}),{},{authContext:{collectionName:r&&r.collection},params:r}),e.abrupt("return",this.request("/file/".concat(t,"/image/metadata"),a).then((0,p.createMapResponseToJson)(n)));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"appendChunksToUpload",value:(r=(0,a.default)(i.default.mark((function e(t,r,n){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h(h({},{method:"PUT",endpoint:"/upload/{uploadId}/chunks"}),{},{authContext:{collectionName:n},headers:g,body:JSON.stringify(r)}),e.next=4,this.request("/upload/".concat(t,"/chunks"),a);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"copyFileWithToken",value:function(e,t){var r={method:"POST",endpoint:"/file/copy/withToken"},n=h(h({},r),{},{authContext:{collectionName:t.collection},params:t,headers:g,body:JSON.stringify(e)});return this.request("/file/copy/withToken",n).then((0,p.createMapResponseToJson)(r))}},{key:"request",value:(t=(0,a.default)(i.default.mark((function e(t){var r,n,a,o,u,l,s,c,p,b,h,m,v=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=v.length>1&&void 0!==v[1]?v[1]:{method:"GET",endpoint:void 0,authContext:{}},n=v.length>2?v[2]:void 0,a=this.config.authProvider,o=r.method,u=r.endpoint,l=r.authContext,s=r.params,c=r.headers,p=r.body,b=r.clientOptions,e.prev=4,e.next=7,a(l);case 7:h=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),new f.MediaStoreError("failedAuthProvider",e.t0);case 13:return e.next=15,(0,d.request)("".concat(h.baseUrl).concat(t),{method:o,endpoint:u,auth:h,params:s,headers:c,body:p,clientOptions:b},n);case 15:return k((m=e.sent).headers.get("x-media-region")),e.abrupt("return",m);case 18:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e){return t.apply(this,arguments)})}]),e}();function k(e){e&&window&&window.sessionStorage&&(window.sessionStorage.getItem("media-api-region")!==e&&window.sessionStorage.setItem("media-api-region",e))}r.MediaStore=E},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/regenerator":"1gEKr","@babel/runtime/helpers/asyncToGenerator":"450Ii","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/defineProperty":"5MCal","../../constants":"6tTst","../../models/artifacts":"1ErJ8","../../utils/request":"3DDjQ","../../utils/request/helpers":"4Pl0m","./error":"2irxG"}],"6tTst":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MAX_RESOLUTION=r.FILE_CACHE_MAX_AGE=r.RECENTS_COLLECTION=void 0;r.RECENTS_COLLECTION="recents";r.FILE_CACHE_MAX_AGE=2592e3;r.MAX_RESOLUTION=4096},{}],"1ErJ8":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getArtifactUrl=void 0;r.getArtifactUrl=function(e,t){var r=e[t];if(r&&r.url)return r.url}},{}],"3DDjQ":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.request=function(e){return l.apply(this,arguments)},Object.defineProperty(r,"RequestError",{enumerable:!0,get:function(){return o.RequestError}}),Object.defineProperty(r,"isRequestError",{enumerable:!0,get:function(){return o.isRequestError}}),Object.defineProperty(r,"isRateLimitedError",{enumerable:!0,get:function(){return u.isRateLimitedError}});var i=n(e("@babel/runtime/regenerator")),a=n(e("@babel/runtime/helpers/asyncToGenerator")),o=e("./errors"),u=e("./helpers");function l(){return(l=(0,a.default)(i.default.mark((function e(t){var r,n,a,o,l,s,c,d,p,f,b,h,m,v=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=v.length>1&&void 0!==v[1]?v[1]:{},n=v.length>2?v[2]:void 0,a=r.method,o=void 0===a?"GET":a,l=r.endpoint,s=r.auth,c=r.params,d=r.headers,p=r.body,f=r.clientOptions,b=(void 0===f?{}:f).retryOptions,h={method:o,endpoint:l},m=function(){return fetch((0,u.createUrl)(t,{params:c}),{method:o,body:p,headers:(0,u.withAuth)(s)(d),signal:n&&n.signal}).then((0,u.createProcessFetchResponse)(h))},e.abrupt("return",(0,u.fetchRetry)(m,h,b));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/regenerator":"1gEKr","@babel/runtime/helpers/asyncToGenerator":"450Ii","./errors":"4hxr6","./helpers":"4Pl0m"}],"4hxr6":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.isRequestError=function(e){return e instanceof c},r.RequestError=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf"));function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var c=function(e){(0,o.default)(r,e);var t=s(r);function r(e,n,a){var o;return(0,i.default)(this,r),(o=t.call(this,e)).reason=e,o.metadata=n,o.innerError=a,o}return(0,a.default)(r,[{key:"attributes",get:function(){var e=this.reason,t=this.metadata;return{reason:e,method:(t=void 0===t?{}:t).method,endpoint:t.endpoint,attempts:t.attempts,clientExhaustedRetries:t.clientExhaustedRetries,statusCode:t.statusCode,innerError:this.innerError}}}]),r}(e("../../models/errors").BaseMediaClientError);r.RequestError=c},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw","../../models/errors":"5b1sg"}],"5b1sg":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isMediaClientError",{enumerable:!0,get:function(){return c.isMediaClientError}}),Object.defineProperty(r,"getMediaClientErrorReason",{enumerable:!0,get:function(){return c.getMediaClientErrorReason}}),r.BaseMediaClientError=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/assertThisInitialized")),o=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/wrapNativeSuper")),c=e("./helpers");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var p=function(e){(0,o.default)(r,e);var t=d(r);function r(e){var n;return(0,i.default)(this,r),(n=t.call(this,e)).message=e,Object.setPrototypeOf((0,a.default)(n),(this instanceof r?this.constructor:void 0).prototype),"captureStackTrace"in Error&&Error.captureStackTrace((0,a.default)(n),this instanceof r?this.constructor:void 0),n}return r}((0,s.default)(Error));r.BaseMediaClientError=p},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/assertThisInitialized":"4YOil","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw","@babel/runtime/helpers/wrapNativeSuper":"7Mazd","./helpers":"63tRV"}],"63tRV":[function(e,t,r){"use strict";function n(e){return e instanceof Object&&"attributes"in e&&e.attributes instanceof Object&&"reason"in e.attributes&&e instanceof Error}Object.defineProperty(r,"__esModule",{value:!0}),r.isMediaClientError=n,r.getMediaClientErrorReason=function(e){return n(e)?e.attributes.reason:"unknown"}},{}],"4Pl0m":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.clientTimeoutPromise=function(e){return new Promise((function(t,r){setTimeout(r,e,new c.RequestError("clientTimeoutRequest"))}))},r.waitPromise=f,r.isAbortedRequestError=b,r.isFetchNetworkError=h,r.isRateLimitedError=function(e){return!!e&&(0,c.isRequestError)(e)&&429===e.attributes.statusCode||!!e&&!!e.message&&e.message.includes("429")},r.extract=m,r.mapAuthToRequestHeaders=v,r.createUrl=function(e,t){var r=t.params,n=t.auth,i=m(e),a=i.baseUrl,o=i.queryParams,u=n&&(0,s.mapAuthToQueryParameters)(n),c=(0,l.stringify)(p(p(p({},o),r),u)),d=c.length>0;return"".concat(a).concat(d?"?".concat(c):"")},r.withAuth=function(e){return function(t){return e?p(p({},t||{}),v(e)):t}},r.mapResponseToJson=function(e){return y.apply(this,arguments)},r.mapResponseToBlob=function(e){return g.apply(this,arguments)},r.mapResponseToVoid=function(){return console.warn("Helper is deprecated and will be remove in the next major version"),Promise.resolve()},r.createMapResponseToJson=function(e){return function(){var t=(0,a.default)(i.default.mark((function t(r){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.json();case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),new c.RequestError("serverInvalidBody",p(p({},e),{},{statusCode:r.status}),t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},r.createMapResponseToBlob=function(e){return function(){var t=(0,a.default)(i.default.mark((function t(r){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.blob();case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),new c.RequestError("serverInvalidBody",p(p({},e),{},{statusCode:r.status}),t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},r.cloneRequestError=k,r.fetchRetry=function(e,t){return w.apply(this,arguments)},r.createRequestErrorReason=O,r.createRequestErrorFromResponse=x,r.createProcessFetchResponse=function(e){return function(t){if(t.ok||t.status<400)return t;throw x(e,t)}},r.DEFAULT_RETRY_OPTIONS=void 0;var i=n(e("@babel/runtime/regenerator")),a=n(e("@babel/runtime/helpers/asyncToGenerator")),o=n(e("@babel/runtime/helpers/defineProperty")),u=e("@atlaskit/media-core"),l=e("query-string"),s=e("../../models/auth-query-parameters"),c=e("./errors");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e){return new Promise((function(t){return setTimeout(t,e)}))}function b(e){return e instanceof Error&&"request_cancelled"===e.message||!!e&&"AbortError"===e.name}function h(e){return e instanceof TypeError}function m(e){var t=e.indexOf("?");return t>0?{baseUrl:e.substring(0,t),queryParams:(0,l.parse)(e.substring(t+1,e.length))}:{baseUrl:e}}function v(e){return(0,u.isClientBasedAuth)(e)?{"X-Client-Id":e.clientId,Authorization:"Bearer ".concat(e.token)}:{"X-Issuer":e.asapIssuer,Authorization:"Bearer ".concat(e.token)}}function y(){return(y=(0,a.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("Helper is deprecated and will be remove in the next major version"),e.prev=1,e.next=4,t.json();case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),new c.RequestError("serverInvalidBody",{statusCode:t.status},e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function g(){return(g=(0,a.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("Helper is deprecated and will be remove in the next major version"),e.prev=1,e.next=4,t.blob();case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),new c.RequestError("serverInvalidBody",{statusCode:t.status},e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}var E={startTimeoutInMs:1e3,maxAttempts:5,factor:2};function k(e,t){var r=e.reason,n=e.metadata,i=e.innerError;return new c.RequestError(r,p(p({},n),t),i)}function w(){return(w=(0,a.default)(i.default.mark((function e(t,r){var n,o,u,l,s,d,m,v,y,g=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=g.length>2&&void 0!==g[2]?g[2]:{},o=p(p({},E),n),u=o.startTimeoutInMs,l=o.maxAttempts,s=o.factor,d=0,m=u,y=function(){var e=(0,a.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(m);case 2:m*=s,d+=1;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();case 6:if(!(d<l)){e.next=24;break}return e.prev=7,e.next=10,t();case 10:return e.abrupt("return",e.sent);case 13:if(e.prev=13,e.t0=e.catch(7),v=e.t0,!b(e.t0)){e.next=18;break}throw new c.RequestError("clientAbortedRequest",r,e.t0);case 18:if((h(e.t0)||(0,c.isRequestError)(e.t0))&&(!(0,c.isRequestError)(e.t0)||e.t0.metadata&&e.t0.metadata.statusCode&&!(e.t0.metadata.statusCode<500))){e.next=20;break}throw e.t0;case 20:return e.next=22,y();case 22:e.next=6;break;case 24:if(!(0,c.isRequestError)(v)){e.next=26;break}throw k(v,{attempts:d,clientExhaustedRetries:!0});case 26:throw new c.RequestError("serverUnexpectedError",p(p({},r),{},{attempts:d,clientExhaustedRetries:!0}),v);case 27:case"end":return e.stop()}}),e,null,[[7,13]])})))).apply(this,arguments)}function O(e){switch(e){case 400:return"serverBadRequest";case 401:return"serverUnauthorized";case 403:return"serverForbidden";case 404:return"serverNotFound";case 429:return"serverRateLimited";case 500:return"serverInternalError";case 502:return"serverBadGateway";default:return"serverUnexpectedError"}}function x(e,t){var r=t.status,n=O(r);return new c.RequestError(n,p(p({},e),{},{statusCode:r}))}r.DEFAULT_RETRY_OPTIONS=E},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/regenerator":"1gEKr","@babel/runtime/helpers/asyncToGenerator":"450Ii","@babel/runtime/helpers/defineProperty":"5MCal","@atlaskit/media-core":"66Fex","query-string":"4oXih","../../models/auth-query-parameters":"467FF","./errors":"4hxr6"}],"66Fex":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"mediaState",{enumerable:!0,get:function(){return n.mediaState}}),Object.defineProperty(r,"isClientBasedAuth",{enumerable:!0,get:function(){return i.isClientBasedAuth}}),Object.defineProperty(r,"isAsapBasedAuth",{enumerable:!0,get:function(){return i.isAsapBasedAuth}}),Object.defineProperty(r,"authToOwner",{enumerable:!0,get:function(){return i.authToOwner}});var n=e("./cache"),i=e("./auth")},{"./cache":"tTTuO","./auth":"3wtSO"}],tTTuO:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mediaState=void 0;var n=e("eventemitter2"),i={streams:new(e("lru-fast").LRUCache)(1e3),stateDeferreds:new Map,eventEmitter:new n.EventEmitter2};r.mediaState=i},{eventemitter2:"yW9Li","lru-fast":"2I1bk"}],yW9Li:[function(e,t,r){var n=e("process");!function(e){var i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(){this._events={},this._conf&&o.call(this,this._conf)}function o(t){t?(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),this._maxListeners=t.maxListeners!==e?t.maxListeners:10,t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),t.verboseMemoryLeak&&(this.verboseMemoryLeak=t.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=10}function u(e,t){var r="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(r+=" Event name: "+t+"."),void 0!==n&&n.emitWarning){var i=new Error(r);i.name="MaxListenersExceededWarning",i.emitter=this,i.count=e,n.emitWarning(i)}else console.error(r),console.trace&&console.trace()}function l(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,o.call(this,e)}function s(e,t,r,n){if(!r)return[];var i,a,o,u,l,c,d,p=[],f=t.length,b=t[n],h=t[n+1];if(n===f&&r._listeners){if("function"==typeof r._listeners)return e&&e.push(r._listeners),[r];for(i=0,a=r._listeners.length;i<a;i++)e&&e.push(r._listeners[i]);return[r]}if("*"===b||"**"===b||r[b]){if("*"===b){for(o in r)"_listeners"!==o&&r.hasOwnProperty(o)&&(p=p.concat(s(e,t,r[o],n+1)));return p}if("**"===b){for(o in(d=n+1===f||n+2===f&&"*"===h)&&r._listeners&&(p=p.concat(s(e,t,r,f))),r)"_listeners"!==o&&r.hasOwnProperty(o)&&("*"===o||"**"===o?(r[o]._listeners&&!d&&(p=p.concat(s(e,t,r[o],f))),p=p.concat(s(e,t,r[o],n))):p=o===h?p.concat(s(e,t,r[o],n+2)):p.concat(s(e,t,r[o],n)));return p}p=p.concat(s(e,t,r[b],n+1))}if((u=r["*"])&&s(e,t,u,n+1),l=r["**"])if(n<f)for(o in l._listeners&&s(e,t,l,f),l)"_listeners"!==o&&l.hasOwnProperty(o)&&(o===h?s(e,t,l[o],n+2):o===b?s(e,t,l[o],n+1):((c={})[o]=l[o],s(e,t,{"**":c},n+1)));else l._listeners?s(e,t,l,f):l["*"]&&l["*"]._listeners&&s(e,t,l["*"],f);return p}function c(t,r){for(var n=0,i=(t="string"==typeof t?t.split(this.delimiter):t.slice()).length;n+1<i;n++)if("**"===t[n]&&"**"===t[n+1])return;for(var a=this.listenerTree,o=t.shift();o!==e;){if(a[o]||(a[o]={}),a=a[o],0===t.length)return a._listeners?("function"==typeof a._listeners&&(a._listeners=[a._listeners]),a._listeners.push(r),!a._listeners.warned&&this._maxListeners>0&&a._listeners.length>this._maxListeners&&(a._listeners.warned=!0,u.call(this,a._listeners.length,o))):a._listeners=r,!0;o=t.shift()}return!0}l.EventEmitter2=l,l.prototype.delimiter=".",l.prototype.setMaxListeners=function(t){t!==e&&(this._maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t)},l.prototype.event="",l.prototype.once=function(e,t){return this._once(e,t,!1)},l.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},l.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},l.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},l.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},l.prototype._many=function(e,t,r,n){var i=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function a(){return 0==--t&&i.off(e,a),r.apply(this,arguments)}return a._origin=r,this._on(e,a,n),i},l.prototype.emit=function(){this._events||a.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,r,n,i,o,u=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),u>3)for(t=new Array(u),i=0;i<u;i++)t[i]=arguments[i];for(n=0,r=o.length;n<r;n++)switch(this.event=e,u){case 1:o[n].call(this,e);break;case 2:o[n].call(this,e,arguments[1]);break;case 3:o[n].call(this,e,arguments[1],arguments[2]);break;default:o[n].apply(this,t)}}if(this.wildcard){o=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();s.call(this,o,l,this.listenerTree,0)}else{if("function"==typeof(o=this._events[e])){switch(this.event=e,u){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(u-1),i=1;i<u;i++)t[i-1]=arguments[i];o.apply(this,t)}return!0}o&&(o=o.slice())}if(o&&o.length){if(u>3)for(t=new Array(u-1),i=1;i<u;i++)t[i-1]=arguments[i];for(n=0,r=o.length;n<r;n++)switch(this.event=e,u){case 1:o[n].call(this);break;case 2:o[n].call(this,arguments[1]);break;case 3:o[n].call(this,arguments[1],arguments[2]);break;default:o[n].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},l.prototype.emitAsync=function(){this._events||a.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,n,i,o,u=[],l=arguments.length;if(this._all){if(l>3)for(t=new Array(l),i=1;i<l;i++)t[i]=arguments[i];for(n=0,r=this._all.length;n<r;n++)switch(this.event=e,l){case 1:u.push(this._all[n].call(this,e));break;case 2:u.push(this._all[n].call(this,e,arguments[1]));break;case 3:u.push(this._all[n].call(this,e,arguments[1],arguments[2]));break;default:u.push(this._all[n].apply(this,t))}}if(this.wildcard){o=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();s.call(this,o,c,this.listenerTree,0)}else o=this._events[e];if("function"==typeof o)switch(this.event=e,l){case 1:u.push(o.call(this));break;case 2:u.push(o.call(this,arguments[1]));break;case 3:u.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(l-1),i=1;i<l;i++)t[i-1]=arguments[i];u.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),l>3)for(t=new Array(l-1),i=1;i<l;i++)t[i-1]=arguments[i];for(n=0,r=o.length;n<r;n++)switch(this.event=e,l){case 1:u.push(o[n].call(this));break;case 2:u.push(o[n].call(this,arguments[1]));break;case 3:u.push(o[n].call(this,arguments[1],arguments[2]));break;default:u.push(o[n].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(u)},l.prototype.on=function(e,t){return this._on(e,t,!1)},l.prototype.prependListener=function(e,t){return this._on(e,t,!0)},l.prototype.onAny=function(e){return this._onAny(e,!1)},l.prototype.prependAny=function(e){return this._onAny(e,!0)},l.prototype.addListener=l.prototype.on,l.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},l.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||a.call(this),this.emit("newListener",e,t),this.wildcard?(c.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,u.call(this,this._events[e].length,e))):this._events[e]=t,this)},l.prototype.off=function(t,r){if("function"!=typeof r)throw new Error("removeListener only takes instances of Function");var n,a=[];if(this.wildcard){var o="string"==typeof t?t.split(this.delimiter):t.slice();a=s.call(this,null,o,this.listenerTree,0)}else{if(!this._events[t])return this;n=this._events[t],a.push({_listeners:n})}for(var u=0;u<a.length;u++){var l=a[u];if(n=l._listeners,i(n)){for(var c=-1,d=0,p=n.length;d<p;d++)if(n[d]===r||n[d].listener&&n[d].listener===r||n[d]._origin&&n[d]._origin===r){c=d;break}if(c<0)continue;return this.wildcard?l._listeners.splice(c,1):this._events[t].splice(c,1),0===n.length&&(this.wildcard?delete l._listeners:delete this._events[t]),this.emit("removeListener",t,r),this}(n===r||n.listener&&n.listener===r||n._origin&&n._origin===r)&&(this.wildcard?delete l._listeners:delete this._events[t],this.emit("removeListener",t,r))}return function t(r){if(r!==e){var n=Object.keys(r);for(var i in n){var a=n[i],o=r[a];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&t(r[a]),0===Object.keys(o).length&&delete r[a])}}}(this.listenerTree),this},l.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&this._all.length>0){for(r=0,n=(t=this._all).length;r<n;r++)if(e===t[r])return t.splice(r,1),this.emit("removeListenerAny",e),this}else{for(r=0,n=(t=this._all).length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||a.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),r=s.call(this,null,t,this.listenerTree,0),n=0;n<r.length;n++){var i=r[n];i._listeners=null}else this._events&&(this._events[e]=null);return this},l.prototype.listeners=function(e){if(this.wildcard){var t=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return s.call(this,t,r,this.listenerTree,0),t}return this._events||a.call(this),this._events[e]||(this._events[e]=[]),i(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},l.prototype.eventNames=function(){return Object.keys(this._events)},l.prototype.listenerCount=function(e){return this.listeners(e).length},l.prototype.listenersAny=function(){return this._all?this._all:[]},"object"==typeof r?t.exports=l:window.EventEmitter2=l}()},{process:"2uau6"}],"3wtSO":[function(e,t,r){"use strict";function n(e){return!!e.asapIssuer}Object.defineProperty(r,"__esModule",{value:!0}),r.isClientBasedAuth=function(e){return!!e.clientId},r.isAsapBasedAuth=n,r.authToOwner=void 0;r.authToOwner=function(e){return n(e)?e:{id:e.clientId,baseUrl:e.baseUrl,token:e.token}}},{}],"467FF":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mapAuthToQueryParameters=function(e){return(0,n.isClientBasedAuth)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}};var n=e("@atlaskit/media-core")},{"@atlaskit/media-core":"66Fex"}],"2irxG":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.isMediaStoreError=function(e){return e instanceof c},r.MediaStoreError=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf"));function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var c=function(e){(0,o.default)(r,e);var t=s(r);function r(e,n){var a;return(0,i.default)(this,r),(a=t.call(this,e)).reason=e,a.innerError=n,a}return(0,a.default)(r,[{key:"attributes",get:function(){return{reason:this.reason,innerError:this.innerError}}}]),r}(e("../../models/errors").BaseMediaClientError);r.MediaStoreError=c},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw","../../models/errors":"5b1sg"}],"5Y2Qq":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.UploadController=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=function(){function e(){(0,i.default)(this,e)}return(0,a.default)(e,[{key:"setAbort",value:function(e){this.abortFunction=e}},{key:"abort",value:function(){this.abortFunction&&this.abortFunction()}}]),e}();r.UploadController=o},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK"}],"2RrQD":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isMediaCollectionItemFullDetails=r.isPreviewableType=void 0;var n=e("@atlaskit/media-common");r.isPreviewableType=function(e,t){var r=["audio","video","image"];return(0,n.getMediaFeatureFlag)("newCardExperience",t)?[].concat(r,["doc"]).indexOf(e)>-1:r.indexOf(e)>-1};r.isMediaCollectionItemFullDetails=function(e){return!!e.mediaType&&!!e.mimeType&&!!e.processingStatus}},{"@atlaskit/media-common":"2BoMi"}],"6tHp9":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.mapMediaItemToFileState=r.mapMediaFileToFileState=r.isImageRepresentationReady=r.isFinalFileState=r.isPreviewableFileState=r.isErrorFileState=r.isProcessedFileState=r.isProcessingFileState=r.isUploadingFileState=void 0;var i=n(e("@babel/runtime/helpers/defineProperty"));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.isUploadingFileState=function(e){return"uploading"===e.status};r.isProcessingFileState=function(e){return"processing"===e.status};r.isProcessedFileState=function(e){return"processed"===e.status};var u=function(e){return"error"===e.status};r.isErrorFileState=u;r.isPreviewableFileState=function(e){return!u(e)&&!!e.preview};r.isFinalFileState=function(e){return["processed","failed-processing","error"].includes(e.status)};r.isImageRepresentationReady=function(e){switch(e.status){case"processing":case"processed":case"failed-processing":return!(!e.representations||!e.representations.image);default:return!1}};var l=function(e){var t=e.data,r=t.id,n=t.name,i=t.size,a=t.processingStatus,u=t.artifacts,l={id:r,name:n,size:i,mediaType:t.mediaType,mimeType:t.mimeType,artifacts:u,representations:t.representations,createdAt:t.createdAt};switch(a){case"pending":case void 0:return o(o({},l),{},{status:"processing"});case"succeeded":return o(o({},l),{},{status:"processed"});case"failed":return o(o({},l),{},{status:"failed-processing"})}};r.mapMediaFileToFileState=l;r.mapMediaItemToFileState=function(e,t){return l({data:o({id:e},t)})}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/defineProperty":"5MCal"}],"2SyRG":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getFileStreamsCache=r.StreamsCache=void 0;var i,a=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),u=function(){function e(t){(0,a.default)(this,e),this.streams=t}return(0,o.default)(e,[{key:"has",value:function(e){return!!this.streams.find(e)}},{key:"set",value:function(e,t){this.streams.set(e,t)}},{key:"get",value:function(e){return this.streams.get(e)}},{key:"getOrInsert",value:function(e,t){return this.has(e)||this.set(e,t()),this.get(e)}},{key:"removeAll",value:function(){this.streams.removeAll()}},{key:"remove",value:function(e){this.streams.remove(e)}},{key:"size",get:function(){return this.streams.size}}]),e}();r.StreamsCache=u;r.getFileStreamsCache=function(){if(!i){var t=e("@atlaskit/media-core").mediaState;i=new u(t.streams)}return i}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@atlaskit/media-core":"66Fex"}],"5CAz6":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.uploadFile=void 0;var i=n(e("@babel/runtime/regenerator")),a=n(e("@babel/runtime/helpers/asyncToGenerator")),o=e("@atlaskit/chunkinator"),u=e("rxjs/observable/from"),l=e("rxjs/operators/concatMap"),s=e("./utils/hashing/hasherCreator"),c=function(){var e=(0,a.default)(i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.createHasher)();case 2:return r=e.sent,e.abrupt("return",r.hash(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e,t){return function(){var r=(0,a.default)(i.default.mark((function r(n){var a,o;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.probeChunks(h(n),t);case 2:return a=r.sent,o=a.data.results,r.abrupt("return",Object.values(o).map((function(e){return e.exists})));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},p=function(e,t){return function(r){return e.uploadChunk(r.hash,r.blob,t)}},f=function(e,t,r){var n=0;return function(){var o=(0,a.default)(i.default.mark((function a(o){return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=e,i.next=3,t;case 3:return i.t1=i.sent,i.t2={chunks:h(o),offset:n},i.t3=r,i.next=8,i.t0.appendChunksToUpload.call(i.t0,i.t1,i.t2,i.t3);case 8:n+=o.length;case 9:case"end":return i.stop()}}),a)})));return function(e){return o.apply(this,arguments)}}()},b=function(){var e=(0,a.default)(i.default.mark((function e(t,r,n,a){var o,u,l,s,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.collection,u=t.name,l=t.mimeType,s=n.id,c=n.occurrenceKey,e.abrupt("return",r.createFileFromUpload({uploadId:a,name:u,mimeType:l},{occurrenceKey:c,collection:o,replaceFileId:s}));case 3:case"end":return e.stop()}}),e)})));return function(t,r,n,i){return e.apply(this,arguments)}}();r.uploadFile=function(e,t,r,n){var i=e.content,a=e.collection,s=r.deferredUploadId,h=(0,o.chunkinator)(i,{hashingFunction:c,hashingConcurrency:5,probingBatchSize:100,chunkSize:4194304,uploadingConcurrency:3,uploadingFunction:p(t,a),probingFunction:d(t,a),processingBatchSize:1e3,processingFunction:f(t,s,a)},{onProgress:function(e){n&&n.onProgress(e)}}),m=n&&n.onUploadFinish||function(){},v=(0,u.from)(s).pipe((0,l.concatMap)((function(n){return h.pipe((0,l.concatMap)((function(){return(0,u.from)(b(e,t,r,n))})))}))).subscribe({error:function(e){return m(e)},complete:function(){return m()}});return{cancel:function(){v.unsubscribe(),m("canceled")}}};var h=function(e){return e.map((function(e){return e.hash}))}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/regenerator":"1gEKr","@babel/runtime/helpers/asyncToGenerator":"450Ii","@atlaskit/chunkinator":"2gITF","rxjs/observable/from":"7dOE6","rxjs/operators/concatMap":"1UACh","./utils/hashing/hasherCreator":"6hfq3"}],"2gITF":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"chunkinator",{enumerable:!0,get:function(){return n.chunkinator}});var n=e("./chunkinator")},{"./chunkinator":"5xZ3f"}],"5xZ3f":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.chunkinator=r.getObservableFromFile=void 0;var n=e("rxjs/operators/tap"),i=e("rxjs/operators/concatMap"),a=e("rxjs/observable/fromPromise"),o=e("./slicenator"),u=e("./hashinator"),l=e("./probinator"),s=e("./uploadinator"),c=e("./processinator"),d=e("./utils"),p=function(e,t,r){return(0,a.fromPromise)((0,d.fetchBlob)(e)).pipe((0,i.concatMap)((function(e){var i=t.chunkSize,a=r.onProgress,d=Math.ceil(e.size/i),p=(0,o.slicenator)(e,{size:i}),f=(0,u.hashinator)(p,{concurrency:t.hashingConcurrency,hasher:t.hashingFunction}),b=(0,l.probinator)(f,{batchSize:t.probingBatchSize,prober:t.probingFunction}),h=0,m=(0,s.uploadinator)(b,{concurrency:t.uploadingConcurrency,uploader:t.uploadingFunction});return a&&(m=m.pipe((0,n.tap)((function(){a((h+=1)/d)})))),(0,c.processinator)(m,{batchSize:t.processingBatchSize,processor:t.processingFunction})})))};r.getObservableFromFile=p;r.chunkinator=function(e,t,r){return p(e,t,r)}},{"rxjs/operators/tap":"1mSTI","rxjs/operators/concatMap":"1UACh","rxjs/observable/fromPromise":"249PF","./slicenator":"5VOdB","./hashinator":"6De5P","./probinator":"7KFMf","./uploadinator":"1pPpj","./processinator":"2LhLx","./utils":"4gXx6"}],"1mSTI":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=e("../Subscriber");r.tap=function(e,t,r){return function(n){return n.lift(new a(e,t,r))}};var a=function(){function e(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return e.prototype.call=function(e,t){return t.subscribe(new o(e,this.nextOrObserver,this.error,this.complete))},e}(),o=function(e){function t(t,r,n,a){e.call(this,t);var o=new i.Subscriber(r,n,a);o.syncErrorThrowable=!0,this.add(o),this.safeSubscriber=o}return n(t,e),t.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},t.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},t.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},t}(i.Subscriber)},{"../Subscriber":"12llB"}],"12llB":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=e("./util/isFunction"),a=e("./Subscription"),o=e("./Observer"),u=e("./symbol/rxSubscriber"),l=function(e){function t(t,r,n){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o.empty;break;case 1:if(!t){this.destination=o.empty;break}if("object"==typeof t){if(c(t)){var i=t[u.rxSubscriber]();this.syncErrorThrowable=i.syncErrorThrowable,this.destination=i,i.add(this)}else this.syncErrorThrowable=!0,this.destination=new s(this,t);break}default:this.syncErrorThrowable=!0,this.destination=new s(this,t,r,n)}}return n(t,e),t.prototype[u.rxSubscriber]=function(){return this},t.create=function(e,r,n){var i=new t(e,r,n);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(a.Subscription);r.Subscriber=l;var s=function(e){function t(t,r,n,a){var u;e.call(this),this._parentSubscriber=t;var l=this;i.isFunction(r)?u=r:r&&(u=r.next,n=r.error,a=r.complete,r!==o.empty&&(l=Object.create(r),i.isFunction(l.unsubscribe)&&this.add(l.unsubscribe.bind(l)),l.unsubscribe=this.unsubscribe.bind(this))),this._context=l,this._next=u,this._error=n,this._complete=a}return n(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,r){try{t.call(this._context,r)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l);function c(e){return e instanceof l||"syncErrorThrowable"in e&&e[u.rxSubscriber]}},{"./util/isFunction":"4tvkw","./Subscription":"3B4NQ","./Observer":"2nvdI","./symbol/rxSubscriber":"53060"}],"4tvkw":[function(e,t,r){"use strict";r.isFunction=function(e){return"function"==typeof e}},{}],"3B4NQ":[function(e,t,r){"use strict";var n=e("./util/isArray"),i=e("./util/isObject"),a=e("./util/isFunction"),o=e("./util/tryCatch"),u=e("./util/errorObject"),l=e("./util/UnsubscriptionError"),s=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var r=this,s=r._parent,d=r._parents,p=r._unsubscribe,f=r._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var b=-1,h=d?d.length:0;s;)s.remove(this),s=++b<h&&d[b]||null;if(a.isFunction(p))o.tryCatch(p).call(this)===u.errorObject&&(t=!0,e=e||(u.errorObject.e instanceof l.UnsubscriptionError?c(u.errorObject.e.errors):[u.errorObject.e]));if(n.isArray(f))for(b=-1,h=f.length;++b<h;){var m=f[b];if(i.isObject(m))if(o.tryCatch(m.unsubscribe).call(m)===u.errorObject){t=!0,e=e||[];var v=u.errorObject.e;v instanceof l.UnsubscriptionError?e=e.concat(c(v.errors)):e.push(v)}}if(t)throw new l.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var r=t;switch(typeof t){case"function":r=new e(t);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.prototype._addParent=function(e){var t=this._parent,r=this._parents;t&&t!==e?r?-1===r.indexOf(e)&&r.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e.reduce((function(e,t){return e.concat(t instanceof l.UnsubscriptionError?t.errors:t)}),[])}r.Subscription=s},{"./util/isArray":"7F0b0","./util/isObject":"4PVVm","./util/isFunction":"4tvkw","./util/tryCatch":"31Wmg","./util/errorObject":"mxrkD","./util/UnsubscriptionError":"7vGLz"}],"7F0b0":[function(e,t,r){"use strict";r.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},{}],"4PVVm":[function(e,t,r){"use strict";r.isObject=function(e){return null!=e&&"object"==typeof e}},{}],"31Wmg":[function(e,t,r){"use strict";var n,i=e("./errorObject");function a(){try{return n.apply(this,arguments)}catch(e){return i.errorObject.e=e,i.errorObject}}r.tryCatch=function(e){return n=e,a}},{"./errorObject":"mxrkD"}],mxrkD:[function(e,t,r){"use strict";r.errorObject={e:{}}},{}],"7vGLz":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t){e.call(this),this.errors=t;var r=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return n(t,e),t}(Error);r.UnsubscriptionError=i},{}],"2nvdI":[function(e,t,r){"use strict";r.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},{}],53060:[function(e,t,r){"use strict";var n=e("../util/root").root.Symbol;r.rxSubscriber="function"==typeof n&&"function"==typeof n.for?n.for("rxSubscriber"):"@@rxSubscriber",r.$$rxSubscriber=r.rxSubscriber},{"../util/root":"19wsq"}],"19wsq":[function(e,t,r){"use strict";var n=arguments[3],i="undefined"!=typeof window&&window,a="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=void 0!==n&&n,u=i||o||a;r.root=u,function(){if(!u)throw new Error("RxJS could not find any global context (window, self, global)")}()},{}],"1UACh":[function(e,t,r){"use strict";var n=e("./mergeMap");r.concatMap=function(e,t){return n.mergeMap(e,t,1)}},{"./mergeMap":"5KENQ"}],"5KENQ":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=e("../util/subscribeToResult"),a=e("../OuterSubscriber");r.mergeMap=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return"number"==typeof t&&(r=t,t=null),n.lift(new o(e,t,r))}};var o=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.resultSelector,this.concurrent))},e}();r.MergeMapOperator=o;var u=function(e){function t(t,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.project=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){this.add(i.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){this.resultSelector?this._notifyResultSelector(e,t,r,n):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,r,n){var i;try{i=this.resultSelector(e,t,r,n)}catch(e){return void this.destination.error(e)}this.destination.next(i)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(a.OuterSubscriber);r.MergeMapSubscriber=u},{"../util/subscribeToResult":"1Qg8J","../OuterSubscriber":"6Am2T"}],"1Qg8J":[function(e,t,r){"use strict";var n=e("./root"),i=e("./isArrayLike"),a=e("./isPromise"),o=e("./isObject"),u=e("../Observable"),l=e("../symbol/iterator"),s=e("../InnerSubscriber"),c=e("../symbol/observable");r.subscribeToResult=function(e,t,r,d){var p=new s.InnerSubscriber(e,r,d);if(p.closed)return null;if(t instanceof u.Observable)return t._isScalar?(p.next(t.value),p.complete(),null):(p.syncErrorThrowable=!0,t.subscribe(p));if(i.isArrayLike(t)){for(var f=0,b=t.length;f<b&&!p.closed;f++)p.next(t[f]);p.closed||p.complete()}else{if(a.isPromise(t))return t.then((function(e){p.closed||(p.next(e),p.complete())}),(function(e){return p.error(e)})).then(null,(function(e){n.root.setTimeout((function(){throw e}))})),p;if(t&&"function"==typeof t[l.iterator])for(var h=t[l.iterator]();;){var m=h.next();if(m.done){p.complete();break}if(p.next(m.value),p.closed)break}else if(t&&"function"==typeof t[c.observable]){var v=t[c.observable]();if("function"==typeof v.subscribe)return v.subscribe(new s.InnerSubscriber(e,r,d));p.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var y="You provided "+(o.isObject(t)?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";p.error(new TypeError(y))}}return null}},{"./root":"19wsq","./isArrayLike":"4H7ol","./isPromise":"1eL5R","./isObject":"4PVVm","../Observable":"7vKF0","../symbol/iterator":"23lSG","../InnerSubscriber":"0UQBG","../symbol/observable":"1DF0G"}],"4H7ol":[function(e,t,r){"use strict";r.isArrayLike=function(e){return e&&"number"==typeof e.length}},{}],"1eL5R":[function(e,t,r){"use strict";r.isPromise=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},{}],"7vKF0":[function(e,t,r){"use strict";var n=e("./util/root"),i=e("./util/toSubscriber"),a=e("./symbol/observable"),o=e("./util/pipe"),u=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,a=i.toSubscriber(e,t,r);if(n?n.call(a,this.source):a.add(this.source||!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var r=this;if(t||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?t=n.root.Rx.config.Promise:n.root.Promise&&(t=n.root.Promise)),!t)throw new Error("no Promise impl found");return new t((function(t,n){var i;i=r.subscribe((function(t){if(i)try{e(t)}catch(e){n(e),i.unsubscribe()}else e(t)}),n,t)}))},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[a.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:o.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;if(e||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?e=n.root.Rx.config.Promise:n.root.Promise&&(e=n.root.Promise)),!e)throw new Error("no Promise impl found");return new e((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();r.Observable=u},{"./util/root":"19wsq","./util/toSubscriber":"1tcPh","./symbol/observable":"1DF0G","./util/pipe":"6dAsO"}],"1tcPh":[function(e,t,r){"use strict";var n=e("../Subscriber"),i=e("../symbol/rxSubscriber"),a=e("../Observer");r.toSubscriber=function(e,t,r){if(e){if(e instanceof n.Subscriber)return e;if(e[i.rxSubscriber])return e[i.rxSubscriber]()}return e||t||r?new n.Subscriber(e,t,r):new n.Subscriber(a.empty)}},{"../Subscriber":"12llB","../symbol/rxSubscriber":"53060","../Observer":"2nvdI"}],"1DF0G":[function(e,t,r){"use strict";var n=e("../util/root");function i(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.getSymbolObservable=i,r.observable=i(n.root),r.$$observable=r.observable},{"../util/root":"19wsq"}],"6dAsO":[function(e,t,r){"use strict";var n=e("./noop");function i(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:n.noop}r.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return i(e)},r.pipeFromArray=i},{"./noop":"2ih6J"}],"2ih6J":[function(e,t,r){"use strict";r.noop=function(){}},{}],"23lSG":[function(e,t,r){"use strict";var n=e("../util/root");function i(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var r=e.Set;if(r&&"function"==typeof(new r)["@@iterator"])return"@@iterator";var n=e.Map;if(n)for(var i=Object.getOwnPropertyNames(n.prototype),a=0;a<i.length;++a){var o=i[a];if("entries"!==o&&"size"!==o&&n.prototype[o]===n.prototype.entries)return o}return"@@iterator"}r.symbolIteratorPonyfill=i,r.iterator=i(n.root),r.$$iterator=r.iterator},{"../util/root":"19wsq"}],"0UQBG":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r,n){e.call(this),this.parent=t,this.outerValue=r,this.outerIndex=n,this.index=0}return n(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(e("./Subscriber").Subscriber);r.InnerSubscriber=i},{"./Subscriber":"12llB"}],"6Am2T":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(e("./Subscriber").Subscriber);r.OuterSubscriber=i},{"./Subscriber":"12llB"}],"249PF":[function(e,t,r){"use strict";var n=e("./PromiseObservable");r.fromPromise=n.PromiseObservable.create},{"./PromiseObservable":"6BdXu"}],"6BdXu":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=e("../util/root"),a=function(e){function t(t,r){e.call(this),this.promise=t,this.scheduler=r}return n(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t=this,r=this.promise,n=this.scheduler;if(null==n)this._isScalar?e.closed||(e.next(this.value),e.complete()):r.then((function(r){t.value=r,t._isScalar=!0,e.closed||(e.next(r),e.complete())}),(function(t){e.closed||e.error(t)})).then(null,(function(e){i.root.setTimeout((function(){throw e}))}));else if(this._isScalar){if(!e.closed)return n.schedule(o,0,{value:this.value,subscriber:e})}else r.then((function(r){t.value=r,t._isScalar=!0,e.closed||e.add(n.schedule(o,0,{value:r,subscriber:e}))}),(function(t){e.closed||e.add(n.schedule(u,0,{err:t,subscriber:e}))})).then(null,(function(e){i.root.setTimeout((function(){throw e}))}))},t}(e("../Observable").Observable);function o(e){var t=e.value,r=e.subscriber;r.closed||(r.next(t),r.complete())}function u(e){var t=e.err,r=e.subscriber;r.closed||r.error(t)}r.PromiseObservable=a},{"../util/root":"19wsq","../Observable":"7vKF0"}],"5VOdB":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slicenator=void 0;var n=e("rxjs/observable/range"),i=e("rxjs/operators/map");r.slicenator=function(e,t){var r=t.size,a=Math.ceil(e.size/r);return(0,n.range)(0,a).pipe((0,i.map)((function(t){return e.slice(t*r,(t+1)*r)})))}},{"rxjs/observable/range":"6C4ig","rxjs/operators/map":"30LDz"}],"6C4ig":[function(e,t,r){"use strict";var n=e("./RangeObservable");r.range=n.RangeObservable.create},{"./RangeObservable":"CzRGo"}],CzRGo:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r,n){e.call(this),this.start=t,this._count=r,this.scheduler=n}return n(t,e),t.create=function(e,r,n){return void 0===e&&(e=0),void 0===r&&(r=0),new t(e,r,n)},t.dispatch=function(e){var t=e.start,r=e.index,n=e.count,i=e.subscriber;r>=n?i.complete():(i.next(t),i.closed||(e.index=r+1,e.start=t+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=0,n=this.start,i=this._count,a=this.scheduler;if(a)return a.schedule(t.dispatch,0,{index:r,count:i,start:n,subscriber:e});for(;;){if(r++>=i){e.complete();break}if(e.next(n++),e.closed)break}},t}(e("../Observable").Observable);r.RangeObservable=i},{"../Observable":"7vKF0"}],"30LDz":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=e("../Subscriber");r.map=function(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new o(e,this.project,this.thisArg))},e}();r.MapOperator=a;var o=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.count=0,this.thisArg=n||this}return n(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.Subscriber)},{"../Subscriber":"12llB"}],"6De5P":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hashinator=r.blobToHashedBlob=r.defaultHasher=void 0;var n=e("rxjs-async-map");function i(e){return Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("")}var a=function(e){return function(e){var t=new FileReader;return new Promise((function(r,n){t.onload=function(){r(this.result)},t.onerror=n,t.readAsArrayBuffer(e)}))}(e).then((function(e){return crypto.subtle.digest("SHA-1",e)})).then(i)};r.defaultHasher=a;var o=function(e){return function(t){return e(t).then((function(e){return{blob:t,hash:"".concat(e,"-").concat(t.size)}}))}};r.blobToHashedBlob=o;r.hashinator=function(e,t){var r=t.hasher,i=t.concurrency;return(0,n.asyncMap)(o(r||a),i)(e)}},{"rxjs-async-map":"2ScUb"}],"2ScUb":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("rxjs/Observable");r.Observable=n.Observable;var i=e("rxjs/operators/mergeMap"),a=e("./notify");r.asyncMap=function(e,t){return i.mergeMap(function(e){var t=new Array,r=function(){var e=t.findIndex((function(e){return!e.notifyIfReady()}));e>0&&t.splice(0,e)};return function(i){return new n.Observable((function(n){t.push(a.notify(e(i),n,r))}))}}(e),t)}},{"rxjs/Observable":"7vKF0","rxjs/operators/mergeMap":"5KENQ","./notify":"22Ewk"}],"22Ewk":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.notify=function(e,t,r){var n={notifyIfReady:function(){return!1}};return e.then((function(e){n.notifyIfReady=function(){return t.next(e),t.complete(),!0},r(n)}),(function(e){n.notifyIfReady=function(){return t.error(e),!0},r(n)})),n}},{}],"7KFMf":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.probinator=function(e,t){var r=t.batchSize,n=t.prober;return e.pipe((0,a.bufferCount)(r),(0,o.concatMap)((function(e){return n(e).then((function(t){return e.map((function(e,r){return s(s({},e),{},{exists:t[r]})}))}))})),(0,o.concatMap)((function(e){return(0,u.from)(e)})))};var i=n(e("@babel/runtime/helpers/defineProperty")),a=e("rxjs/operators/bufferCount"),o=e("rxjs/operators/concatMap"),u=e("rxjs/observable/from");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/defineProperty":"5MCal","rxjs/operators/bufferCount":"118xc","rxjs/operators/concatMap":"1UACh","rxjs/observable/from":"7dOE6"}],"118xc":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=e("../Subscriber");r.bufferCount=function(e,t){return void 0===t&&(t=null),function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?u:o}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),o=function(e){function t(t,r){e.call(this,t),this.bufferSize=r,this.buffer=[]}return n(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(i.Subscriber),u=function(e){function t(t,r,n){e.call(this,t),this.bufferSize=r,this.startBufferEvery=n,this.buffers=[],this.count=0}return n(t,e),t.prototype._next=function(e){var t=this,r=t.bufferSize,n=t.startBufferEvery,i=t.buffers,a=t.count;this.count++,a%n==0&&i.push([]);for(var o=i.length;o--;){var u=i[o];u.push(e),u.length===r&&(i.splice(o,1),this.destination.next(u))}},t.prototype._complete=function(){for(var t=this.buffers,r=this.destination;t.length>0;){var n=t.shift();n.length>0&&r.next(n)}e.prototype._complete.call(this)},t}(i.Subscriber)},{"../Subscriber":"12llB"}],"7dOE6":[function(e,t,r){"use strict";var n=e("./FromObservable");r.from=n.FromObservable.create},{"./FromObservable":"tYh0E"}],tYh0E:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=e("../util/isArray"),a=e("../util/isArrayLike"),o=e("../util/isPromise"),u=e("./PromiseObservable"),l=e("./IteratorObservable"),s=e("./ArrayObservable"),c=e("./ArrayLikeObservable"),d=e("../symbol/iterator"),p=e("../Observable"),f=e("../operators/observeOn"),b=e("../symbol/observable"),h=function(e){function t(t,r){e.call(this,null),this.ish=t,this.scheduler=r}return n(t,e),t.create=function(e,r){if(null!=e){if("function"==typeof e[b.observable])return e instanceof p.Observable&&!r?e:new t(e,r);if(i.isArray(e))return new s.ArrayObservable(e,r);if(o.isPromise(e))return new u.PromiseObservable(e,r);if("function"==typeof e[d.iterator]||"string"==typeof e)return new l.IteratorObservable(e,r);if(a.isArrayLike(e))return new c.ArrayLikeObservable(e,r)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},t.prototype._subscribe=function(e){var t=this.ish,r=this.scheduler;return null==r?t[b.observable]().subscribe(e):t[b.observable]().subscribe(new f.ObserveOnSubscriber(e,r,0))},t}(p.Observable);r.FromObservable=h},{"../util/isArray":"7F0b0","../util/isArrayLike":"4H7ol","../util/isPromise":"1eL5R","./PromiseObservable":"6BdXu","./IteratorObservable":"4NTOF","./ArrayObservable":"2QkD5","./ArrayLikeObservable":"01gtU","../symbol/iterator":"23lSG","../Observable":"7vKF0","../operators/observeOn":"7yrK1","../symbol/observable":"1DF0G"}],"4NTOF":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=e("../util/root"),a=e("../Observable"),o=e("../symbol/iterator"),u=function(e){function t(t,r){if(e.call(this),this.scheduler=r,null==t)throw new Error("iterator cannot be null.");this.iterator=function(e){var t=e[o.iterator];if(!t&&"string"==typeof e)return new l(e);if(!t&&void 0!==e.length)return new s(e);if(!t)throw new TypeError("object is not iterable");return e[o.iterator]()}(t)}return n(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.index,r=e.hasError,n=e.iterator,i=e.subscriber;if(r)i.error(e.error);else{var a=n.next();a.done?i.complete():(i.next(a.value),e.index=t+1,i.closed?"function"==typeof n.return&&n.return():this.schedule(e))}},t.prototype._subscribe=function(e){var r=this.iterator,n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{index:0,iterator:r,subscriber:e});for(;;){var i=r.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed){"function"==typeof r.return&&r.return();break}}},t}(a.Observable);r.IteratorObservable=u;var l=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.length),this.str=e,this.idx=t,this.len=r}return e.prototype[o.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),s=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=function(e){var t=+e.length;if(isNaN(t))return 0;if(0===t||(r=t,"number"!=typeof r||!i.root.isFinite(r)))return t;var r;if((t=function(e){var t=+e;if(0===t)return t;if(isNaN(t))return t;return t<0?-1:1}(t)*Math.floor(Math.abs(t)))<=0)return 0;if(t>c)return c;return t}(e)),this.arr=e,this.idx=t,this.len=r}return e.prototype[o.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}();var c=Math.pow(2,53)-1},{"../util/root":"19wsq","../Observable":"7vKF0","../symbol/iterator":"23lSG"}],"2QkD5":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=e("../Observable"),a=e("./ScalarObservable"),o=e("./EmptyObservable"),u=e("../util/isScheduler"),l=function(e){function t(t,r){e.call(this),this.array=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return n(t,e),t.create=function(e,r){return new t(e,r)},t.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=e[e.length-1];u.isScheduler(n)?e.pop():n=null;var i=e.length;return i>1?new t(e,n):1===i?new a.ScalarObservable(e[0],n):new o.EmptyObservable(n)},t.dispatch=function(e){var t=e.array,r=e.index,n=e.count,i=e.subscriber;r>=n?i.complete():(i.next(t[r]),i.closed||(e.index=r+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.array,n=r.length,i=this.scheduler;if(i)return i.schedule(t.dispatch,0,{array:r,index:0,count:n,subscriber:e});for(var a=0;a<n&&!e.closed;a++)e.next(r[a]);e.complete()},t}(i.Observable);r.ArrayObservable=l},{"../Observable":"7vKF0","./ScalarObservable":"7FS4X","./EmptyObservable":"1zer8","../util/isScheduler":"5wUdB"}],"7FS4X":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r){e.call(this),this.value=t,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return n(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.done,r=e.value,n=e.subscriber;t?n.complete():(n.next(r),n.closed||(e.done=!0,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.value,n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{done:!1,value:r,subscriber:e});e.next(r),e.closed||e.complete()},t}(e("../Observable").Observable);r.ScalarObservable=i},{"../Observable":"7vKF0"}],"1zer8":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t){e.call(this),this.scheduler=t}return n(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(e("../Observable").Observable);r.EmptyObservable=i},{"../Observable":"7vKF0"}],"5wUdB":[function(e,t,r){"use strict";r.isScheduler=function(e){return e&&"function"==typeof e.schedule}},{}],"01gtU":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=e("../Observable"),a=e("./ScalarObservable"),o=e("./EmptyObservable"),u=function(e){function t(t,r){e.call(this),this.arrayLike=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return n(t,e),t.create=function(e,r){var n=e.length;return 0===n?new o.EmptyObservable:1===n?new a.ScalarObservable(e[0],r):new t(e,r)},t.dispatch=function(e){var t=e.arrayLike,r=e.index,n=e.length,i=e.subscriber;i.closed||(r>=n?i.complete():(i.next(t[r]),e.index=r+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.arrayLike,n=this.scheduler,i=r.length;if(n)return n.schedule(t.dispatch,0,{arrayLike:r,index:0,length:i,subscriber:e});for(var a=0;a<i&&!e.closed;a++)e.next(r[a]);e.complete()},t}(i.Observable);r.ArrayLikeObservable=u},{"../Observable":"7vKF0","./ScalarObservable":"7FS4X","./EmptyObservable":"1zer8"}],"7yrK1":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=e("../Subscriber"),a=e("../Notification");r.observeOn=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new o(e,t))}};var o=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.scheduler,this.delay))},e}();r.ObserveOnOperator=o;var u=function(e){function t(t,r,n){void 0===n&&(n=0),e.call(this,t),this.scheduler=r,this.delay=n}return n(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new l(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(a.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(a.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(a.Notification.createComplete())},t}(i.Subscriber);r.ObserveOnSubscriber=u;var l=function(e,t){this.notification=e,this.destination=t};r.ObserveOnMessage=l},{"../Subscriber":"12llB","../Notification":"7aGOJ"}],"7aGOJ":[function(e,t,r){"use strict";var n=e("./Observable"),i=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();r.Notification=i},{"./Observable":"7vKF0"}],"1pPpj":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.uploadinator=void 0;var n=e("rxjs-async-map");r.uploadinator=function(e,t){return e.pipe((0,n.asyncMap)((function(e){return e.exists?Promise.resolve(e):t.uploader(e).then((function(){return e}))}),t.concurrency))}},{"rxjs-async-map":"2ScUb"}],"2LhLx":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.processinator=void 0;var n=e("rxjs/operators/bufferCount"),i=e("rxjs/operators/concatMap");r.processinator=function(e,t){return e.pipe((0,n.bufferCount)(t.batchSize)).pipe((0,i.concatMap)((function(e){return t.processor?t.processor(e).then((function(){return e})):Promise.resolve(e)})))}},{"rxjs/operators/bufferCount":"118xc","rxjs/operators/concatMap":"1UACh"}],"4gXx6":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.fetchBlob=function(e){return o.apply(this,arguments)};var i=n(e("@babel/runtime/regenerator")),a=n(e("@babel/runtime/helpers/asyncToGenerator"));function o(){return(o=(0,a.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=6;break}return e.next=3,fetch(t).then((function(e){return e.blob()}));case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/regenerator":"1gEKr","@babel/runtime/helpers/asyncToGenerator":"450Ii"}],"6hfq3":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.createHasher=r.destroyHasher=void 0;var i=n(e("@babel/runtime/regenerator")),a=n(e("@babel/runtime/helpers/interopRequireWildcard")),o=n(e("@babel/runtime/helpers/asyncToGenerator")),u=null;r.destroyHasher=function(){return u=null};var l=function(){var t=(0,o.default)(i.default.mark((function t(){var r,n,o,l,s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=3,u){t.next=17;break}return t.prev=2,t.next=5,Promise.resolve().then((function(){return e("./workerHasher")})).then((function(e){return(0,a.default)(e)}));case 5:n=t.sent,o=n.WorkerHasher,u=new o(r),t.next=17;break;case 10:return t.prev=10,t.t0=t.catch(2),t.next=14,Promise.resolve().then((function(){return e("./simpleHasher")})).then((function(e){return(0,a.default)(e)}));case 14:l=t.sent,s=l.SimpleHasher,u=new s;case 17:return t.abrupt("return",u);case 18:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}();r.createHasher=l},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/regenerator":"1gEKr","@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/asyncToGenerator":"450Ii","./workerHasher":"2rgTf","./simpleHasher":"6DAuj"}],"2rgTf":[function(e,t,r){t.exports=Promise.all([e("./loaders/browser/js-loader")(e("./bundle-url").getBundleURL()+e("./relative-path")("7CBh4","bwX9W")),e("./loaders/browser/js-loader")(e("./bundle-url").getBundleURL()+e("./relative-path")("7CBh4","7xnjN"))]).then((()=>{t.bundle.root._loadedBundles=t.bundle.root._loadedBundles||{};for(var e=["bwX9W","7xnjN"],r=0;r<e.length;r++)t.bundle.root._loadedBundles[e[r]]=!0;return t.bundle.root("50mnS")}))},{"./loaders/browser/js-loader":"4HTlk","./bundle-url":"6aW1b","./relative-path":"KfeVS"}],"6DAuj":[function(e,t,r){t.exports=Promise.all([e("./loaders/browser/js-loader")(e("./bundle-url").getBundleURL()+e("./relative-path")("7CBh4","bwX9W")),e("./loaders/browser/js-loader")(e("./bundle-url").getBundleURL()+e("./relative-path")("7CBh4","3D7To"))]).then((()=>{t.bundle.root._loadedBundles=t.bundle.root._loadedBundles||{};for(var e=["bwX9W","3D7To"],r=0;r<e.length;r++)t.bundle.root._loadedBundles[e[r]]=!0;return t.bundle.root("5cuoe")}))},{"./loaders/browser/js-loader":"4HTlk","./bundle-url":"6aW1b","./relative-path":"KfeVS"}],"2VKia":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.PollingFunction=r.defaultPollingOptions=void 0;var i=n(e("@babel/runtime/regenerator")),a=n(e("@babel/runtime/helpers/asyncToGenerator")),o=n(e("@babel/runtime/helpers/classCallCheck")),u=n(e("@babel/runtime/helpers/createClass")),l=n(e("@babel/runtime/helpers/defineProperty")),s=e("@atlaskit/media-common/mediaFeatureFlags"),c=e("./errors");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={poll_intervalMs:(0,s.getMediaFeatureFlag)("poll_intervalMs"),poll_maxAttempts:(0,s.getMediaFeatureFlag)("poll_maxAttempts"),poll_backoffFactor:(0,s.getMediaFeatureFlag)("poll_backoffFactor"),poll_maxIntervalMs:(0,s.getMediaFeatureFlag)("poll_maxIntervalMs"),poll_maxGlobalFailures:(0,s.getMediaFeatureFlag)("poll_maxGlobalFailures")};r.defaultPollingOptions=f;var b=function(){function e(t){(0,o.default)(this,e),(0,l.default)(this,"poll_intervalMs",0),(0,l.default)(this,"attempt",1),(0,l.default)(this,"shouldIterate",!0),(0,l.default)(this,"timeoutId",0),this.options=p(p({},f),t),this.poll_intervalMs=this.options.poll_intervalMs}var t;return(0,u.default)(e,[{key:"execute",value:(t=(0,a.default)(i.default.mark((function t(r){var n,a,o,u=this;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.options,a=n.poll_maxAttempts,o=n.poll_maxGlobalFailures,!(e.failures>=o)){t.next=5;break}return t.abrupt("return",this.fail(new c.PollingError("pollingMaxFailuresExceeded",this.attempt)));case 5:if(0!==a){t.next=7;break}return t.abrupt("return",this.fail(new c.PollingError("pollingMaxAttemptsExceeded",this.attempt)));case 7:return t.prev=7,this.shouldIterate=!1,t.next=11,r();case 11:if(this.shouldIterate){t.next=13;break}return t.abrupt("return");case 13:if(!(this.attempt>=a)){t.next=15;break}return t.abrupt("return",this.fail(new c.PollingError("pollingMaxAttemptsExceeded",this.attempt)));case 15:this.poll_intervalMs=this.getIntervalMsForIteration(this.attempt),this.attempt++,this.timeoutId=window.setTimeout((function(){return u.execute(r)}),this.poll_intervalMs),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(7),this.fail(t.t0);case 23:case"end":return t.stop()}}),t,this,[[7,20]])}))),function(e){return t.apply(this,arguments)})},{key:"fail",value:function(t){var r=this.onError;e.failures+=1,this.cancel(),r&&r(t)}},{key:"getIntervalMsForIteration",value:function(e){var t=this.options.poll_intervalMs;if(1===e)return t;for(var r=2;r<=e;r++)t*=this.options.poll_backoffFactor;return Math.min(Math.round(t),this.options.poll_maxIntervalMs)}},{key:"next",value:function(){this.shouldIterate=!0}},{key:"cancel",value:function(){window.clearTimeout(this.timeoutId),this.timeoutId=0}}]),e}();r.PollingFunction=b,(0,l.default)(b,"failures",0)},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/regenerator":"1gEKr","@babel/runtime/helpers/asyncToGenerator":"450Ii","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/defineProperty":"5MCal","@atlaskit/media-common/mediaFeatureFlags":"5Y7mY","./errors":"4OtyZ"}],"4OtyZ":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.isPollingError=function(e){return e instanceof c},r.PollingError=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf"));function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var c=function(e){(0,o.default)(r,e);var t=s(r);function r(e,n){var a;return(0,i.default)(this,r),(a=t.call(this,e)).reason=e,a.attempts=n,a}return(0,a.default)(r,[{key:"attributes",get:function(){return{reason:this.reason,attempts:this.attempts}}}]),r}(e("../../models/errors").BaseMediaClientError);r.PollingError=c},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw","../../models/errors":"5b1sg"}],"4lm80":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isFileFetcherError",{enumerable:!0,get:function(){return y.isFileFetcherError}}),Object.defineProperty(r,"FileFetcherError",{enumerable:!0,get:function(){return y.FileFetcherError}}),r.FileFetcherImpl=void 0;var i=n(e("@babel/runtime/regenerator")),a=n(e("@babel/runtime/helpers/asyncToGenerator")),o=n(e("@babel/runtime/helpers/classCallCheck")),u=n(e("@babel/runtime/helpers/createClass")),l=n(e("@babel/runtime/helpers/defineProperty")),s=e("rxjs/Subscription"),c=e("rxjs/observable/of"),d=e("rxjs/operators/map"),p=e("rxjs/operators/concatMap"),f=n(e("uuid/v4")),b=e("@atlaskit/media-core"),h=e("@atlaskit/media-common/downloadUrl"),m=e("../media-store"),v=e("../../models/file-state"),y=e("./error"),g=e("../../uploader"),E=e("../../file-streams-cache"),k=e("../../globalMediaEventEmitter"),w=e("../../constants"),O=n(e("uuid-validate")),x=e("../../utils/createFileDataLoader"),C=e("../../utils/getMediaTypeFromUploadableFile"),P=e("../../utils/overrideMediaTypeIfUnknown"),S=e("../../utils/convertBase64ToBlob"),A=e("../../utils/observableToPromise"),T=e("../../utils/getDimensionsFromBlob"),R=e("../../utils/getMediaTypeFromMimeType"),D=e("../../utils/createFileStateSubject"),j=e("../../utils/isMimeTypeSupportedByBrowser"),_=e("../../utils/shouldFetchRemoteFileStates"),F=e("../../utils/polling"),M=e("../../utils/detectEmptyFile"),B=e("@atlaskit/media-common/mediaFeatureFlags");function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=function(){function e(t){var r=this;(0,o.default)(this,e),(0,l.default)(this,"createDownloadFileStream",(function(e,t,n){var o=(0,D.createFileStateSubject)(),u=r.mediaStore.featureFlags,l={poll_intervalMs:(0,B.getMediaFeatureFlag)("poll_intervalMs",u),poll_maxAttempts:(0,B.getMediaFeatureFlag)("poll_maxAttempts",u),poll_backoffFactor:(0,B.getMediaFeatureFlag)("poll_backoffFactor",u),poll_maxIntervalMs:(0,B.getMediaFeatureFlag)("poll_maxIntervalMs",u),poll_maxGlobalFailures:(0,B.getMediaFeatureFlag)("poll_maxGlobalFailures",u)},s=new F.PollingFunction(l);return s.onError=function(e){return o.error(e)},s.execute((0,a.default)(i.default.mark((function a(){var u,l;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.dataloader.load({id:e,collectionName:t});case 2:if(u=i.sent){i.next=5;break}throw new y.FileFetcherError("invalidFileId",e,{collectionName:t,occurrenceKey:n});case 5:if(!(0,M.isEmptyFile)(u)){i.next=7;break}throw new y.FileFetcherError("zeroVersionFile",e,{collectionName:t,occurrenceKey:n});case 7:l=(0,v.mapMediaItemToFileState)(e,u),o.next(l),i.t0=l.status,i.next="processing"===i.t0?12:"processed"===i.t0?14:16;break;case 12:return s.next(),i.abrupt("break",16);case 14:return o.complete(),i.abrupt("break",16);case 16:case"end":return i.stop()}}),a)})))),o})),this.mediaStore=t,this.dataloader=(0,x.createFileDataloader)(t)}var t,r,n;return(0,u.default)(e,[{key:"getFileState",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.collectionName,i=r.occurrenceKey;if(!(0,O.default)(e)){var a=(0,D.createFileStateSubject)();return a.error(new y.FileFetcherError("invalidFileId",e,{collectionName:n,occurrenceKey:i})),a}return(0,E.getFileStreamsCache)().getOrInsert(e,(function(){return t.createDownloadFileStream(e,n)}))}},{key:"getCurrentState",value:function(e,t){return(0,A.observableToPromise)(this.getFileState(e,t))}},{key:"getArtifactURL",value:function(e,t,r){return this.mediaStore.getArtifactURL(e,t,r)}},{key:"getFileBinaryURL",value:function(e,t){return this.mediaStore.getFileBinaryURL(e,t)}},{key:"touchFiles",value:function(e,t){return this.mediaStore.touchFiles({descriptors:e},{collection:t}).then((function(e){return e.data}))}},{key:"generateUploadableFileUpfrontIds",value:function(e){var t=(0,f.default)(),r=(0,f.default)(),n={fileId:t,occurrenceKey:r,collection:e};return{id:t,occurrenceKey:r,deferredUploadId:this.touchFiles([n],e).then((function(e){return e.created[0].uploadId}))}}},{key:"uploadExternal",value:(n=(0,a.default)(i.default.mark((function e(t,r){var n,o,u,l,s,c,d,p,f=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.generateUploadableFileUpfrontIds(r),o=n.id,u=n.occurrenceKey,l=(0,D.createFileStateSubject)(),s=fetch(t).then((function(e){return e.blob()})).catch((function(){})),c=new Promise(function(){var e=(0,a.default)(i.default.mark((function e(t,r){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s;case 2:(n=e.sent)||r("Could not fetch the blob"),t({value:n,origin:"remote"});case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),d=t.split("/").pop()||"",p={status:"processing",name:d,size:0,mediaType:"unknown",mimeType:"",id:o,occurrenceKey:u,preview:c},l.next(p),(0,E.getFileStreamsCache)().set(o,l),e.abrupt("return",new Promise(function(){var e=(0,a.default)(i.default.mark((function e(t,a){var p,b,h,m,v,y;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s;case 2:if(p=e.sent){e.next=5;break}return e.abrupt("return",a("Could not download remote file"));case 5:return b=p.type,h=p.size,m={content:p,mimeType:b,collection:r,name:d},v=(0,R.getMediaTypeFromMimeType)(b),l.next({status:"processing",name:d,size:h,mediaType:v,mimeType:b,id:o,occurrenceKey:u,preview:c}),f.upload(m,void 0,n),e.next=12,(0,T.getDimensionsFromBlob)(v,p);case 12:y=e.sent,t({dimensions:y,uploadableFileUpfrontIds:n});case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"upload",value:function(e,t,r){var n=this;"string"==typeof e.content&&(e.content=(0,S.convertBase64ToBlob)(e.content));var i=e.content,a=e.name,o=void 0===a?"":a,u=e.collection;r||(r=this.generateUploadableFileUpfrontIds(u));var l,f=r.id,b=r.occurrenceKey,h="",m=0,v=(0,C.getMediaTypeFromUploadableFile)(e),y=(0,D.createFileStateSubject)(),k=new s.Subscription;i instanceof Blob&&(m=i.size,h=i.type,(0,j.isMimeTypeSupportedByBrowser)(i.type)&&(l={value:i,origin:"local"}));var w={id:f,occurrenceKey:b,name:o,size:m,mediaType:v,mimeType:h,preview:l},O=function(e){y.next(I(I({status:"uploading"},w),{},{progress:e}))},x=(0,g.uploadFile)(e,this.mediaStore,r,{onUploadFinish:function(e){if(e)return y.error(e);k.add((0,_.shouldFetchRemoteFileStatesObservable)(v,h,l).pipe((0,p.concatMap)((function(e){return e?n.createDownloadFileStream(f,u,b).pipe((0,d.map)((function(e){return I(I(I({},w),e),(0,P.overrideMediaTypeIfUnknown)(e,v))}))):(0,c.of)(I({status:"processing",representations:{}},w))}))).subscribe(y))},onProgress:O}).cancel;return(0,E.getFileStreamsCache)().set(f,y),setTimeout((function(){O(0)}),0),t&&t.setAbort((function(){x(),k.unsubscribe()})),y}},{key:"downloadBinary",value:(r=(0,a.default)(i.default.mark((function e(t){var r,n,a,o=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:"download",n=o.length>2?o[2]:void 0,e.next=4,this.mediaStore.getFileBinaryURL(t,n);case 4:a=e.sent,(0,h.downloadUrl)(a,{name:r}),k.globalMediaEventEmitter.emit("media-viewed",{fileId:t,isUserCollection:n===w.RECENTS_COLLECTION,viewingLevel:"download"});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"copyFile",value:(t=(0,a.default)(i.default.mark((function e(t,r){var n,a,o,u,l,s,c,d,p,f,h,y,g,k,w,O,x,C,S,A,T,j,F,M,B,N,L,q=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=q.length>2&&void 0!==q[2]?q[2]:{},a=t.authProvider,o=t.collection,u=t.id,l=r.authProvider,s=r.collection,c=r.replaceFileId,d=r.occurrenceKey,p=n.preview,f=n.mimeType,h=r.mediaStore||new m.MediaStore({authProvider:l}),e.t0=b.authToOwner,e.next=8,a({collectionName:o});case 8:return e.t1=e.sent,y=(0,e.t0)(e.t1),g={sourceFile:{id:u,collection:o,owner:y}},k={collection:s,replaceFileId:c,occurrenceKey:d},w=(0,E.getFileStreamsCache)(),e.prev=13,e.next=16,h.copyFileWithToken(g,k);case 16:if(x=e.sent,C=x.data,S=I(I({},C),f?{mimeType:f}:void 0),A=S.id,T=S.mimeType,j=T?(0,R.getMediaTypeFromMimeType)(T):"unknown",F=(0,v.mapMediaFileToFileState)({data:S}),M=w.get(A),B=M||(0,D.createFileStateSubject)(),N=!(0,v.isErrorFileState)(F)&&p?{preview:p}:{},e.t2=!(0,v.isFinalFileState)(F)&&T,!e.t2){e.next=30;break}return e.next=29,(0,_.shouldFetchRemoteFileStates)(j,T,p);case 29:e.t2=e.sent;case 30:if(!e.t2){e.next=35;break}B.next(I(I(I({},F),(0,P.overrideMediaTypeIfUnknown)(F,j)),N)),O=this.createDownloadFileStream(A,s,d).subscribe({next:function(e){return B.next(I(I(I({},e),(0,P.overrideMediaTypeIfUnknown)(e,j)),!(0,v.isErrorFileState)(e)&&N))},error:function(e){return B.error(e)},complete:function(){return B.complete()}}),e.next=36;break;case 35:(0,v.isProcessingFileState)(F)||B.next(I(I({},F),!(0,v.isErrorFileState)(F)&&N));case 36:return w.has(A)||(0,E.getFileStreamsCache)().set(A,B),e.abrupt("return",C);case 40:throw e.prev=40,e.t3=e.catch(13),O&&O.unsubscribe(),c&&((L=w.get(c))?L.error(e.t3):w.set(u,(0,D.createFileStateSubject)(e.t3))),e.t3;case 45:case"end":return e.stop()}}),e,this,[[13,40]])}))),function(e,r){return t.apply(this,arguments)})}]),e}();r.FileFetcherImpl=L},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/regenerator":"1gEKr","@babel/runtime/helpers/asyncToGenerator":"450Ii","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/defineProperty":"5MCal","rxjs/Subscription":"3B4NQ","rxjs/observable/of":"1UsIH","rxjs/operators/map":"30LDz","rxjs/operators/concatMap":"1UACh","uuid/v4":"4UOl1","@atlaskit/media-core":"66Fex","@atlaskit/media-common/downloadUrl":"1bE93","../media-store":"79ylE","../../models/file-state":"6tHp9","./error":"2AsCs","../../uploader":"5CAz6","../../file-streams-cache":"2SyRG","../../globalMediaEventEmitter":"3Wsl9","../../constants":"6tTst","uuid-validate":"maRep","../../utils/createFileDataLoader":"QClAV","../../utils/getMediaTypeFromUploadableFile":"4jFoy","../../utils/overrideMediaTypeIfUnknown":"5QLLL","../../utils/convertBase64ToBlob":"5BgbE","../../utils/observableToPromise":"6t7FG","../../utils/getDimensionsFromBlob":"5bS0u","../../utils/getMediaTypeFromMimeType":"3BCWt","../../utils/createFileStateSubject":"7AFGb","../../utils/isMimeTypeSupportedByBrowser":"3S6r6","../../utils/shouldFetchRemoteFileStates":"6NYD4","../../utils/polling":"2VKia","../../utils/detectEmptyFile":"6pZJq","@atlaskit/media-common/mediaFeatureFlags":"5Y7mY"}],"1UsIH":[function(e,t,r){"use strict";var n=e("./ArrayObservable");r.of=n.ArrayObservable.of},{"./ArrayObservable":"2QkD5"}],"2AsCs":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.isFileFetcherError=function(e){return e instanceof c},r.FileFetcherError=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf"));function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var c=function(e){(0,o.default)(r,e);var t=s(r);function r(e,n,a){var o;return(0,i.default)(this,r),(o=t.call(this,e)).reason=e,o.id=n,o.metadata=a,o}return(0,a.default)(r,[{key:"attributes",get:function(){var e=this.reason,t=this.id,r=this.metadata;return{reason:e,id:t,collectionName:(r=void 0===r?{}:r).collectionName,occurrenceKey:r.occurrenceKey}}}]),r}(e("../../models/errors").BaseMediaClientError);r.FileFetcherError=c},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw","../../models/errors":"5b1sg"}],"3Wsl9":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.globalMediaEventEmitter=void 0;var n=e("@atlaskit/media-core"),i={on:function(e,t){n.mediaState.eventEmitter&&n.mediaState.eventEmitter.on(e,t)},off:function(e,t){n.mediaState.eventEmitter&&n.mediaState.eventEmitter.off(e,t)},emit:function(e,t){if(n.mediaState.eventEmitter)return n.mediaState.eventEmitter.emit(e,t)}};r.globalMediaEventEmitter=i},{"@atlaskit/media-core":"66Fex"}],maRep:[function(e,t,r){for(var n=e("buffer").Buffer,i=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}$/i,a=[],o=0;o<256;o++)a[o]=(o+256).toString(16).substr(1);t.exports=function(e,t){var r;if(n.isBuffer(e))r=function(e,t){var r=t||0,n=a;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}(e);else{if("[object String]"!==Object.prototype.toString.call(e))return!1;r=e}if(r=r.toLowerCase(),!i.test(r))return!1;if(void 0===t)t=u(r);else if(u(r)!==t)return!1;switch(t){case 1:case 2:return!0;case 3:case 4:case 5:return-1!==["8","9","a","b"].indexOf(r.charAt(19));default:throw new Error("Invalid version provided.")}};var u=t.exports.version=function(e){return 0|e.charAt(14)}},{buffer:"3V7kw"}],"3V7kw":[function(e,t,r){
/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/
"use strict";var n=e("base64-js"),i=e("ieee754"),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=l,r.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},r.INSPECT_MAX_BYTES=50;var o=2147483647;function u(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|h(e,t),n=u(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return p(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(z(e,ArrayBuffer)||e&&z(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(z(e,SharedArrayBuffer)||e&&z(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return l.from(n,t,r);var i=function(e){if(l.isBuffer(e)){var t=0|b(e.length),r=u(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||H(e.length)?u(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return c(e),u(e<0?0:0|b(e))}function p(e){for(var t=e.length<0?0:0|b(e.length),r=u(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,l.prototype),n}function b(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(i)return n?-1:L(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return P(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),H(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){var a,o=1,u=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,u/=2,l/=2,r/=2}function s(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=r;a<u;a++)if(s(e,a)===s(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===l)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(r+l>u&&(r=u-l),a=r;a>=0;a--){for(var d=!0,p=0;p<l;p++)if(s(e,a+p)!==s(t,p)){d=!1;break}if(d)return a}return-1}function E(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;n>a/2&&(n=a/2);for(var o=0;o<n;++o){var u=parseInt(t.substr(2*o,2),16);if(H(u))return o;e[r+o]=u}return o}function k(e,t,r,n){return U(L(t,e.length-r),e,r,n)}function w(e,t,r,n){return U(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function O(e,t,r,n){return w(e,t,r,n)}function x(e,t,r,n){return U(q(t),e,r,n)}function C(e,t,r,n){return U(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function P(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,u,l,s=e[i],c=null,d=s>239?4:s>223?3:s>191?2:1;if(i+d<=r)switch(d){case 1:s<128&&(c=s);break;case 2:128==(192&(a=e[i+1]))&&(l=(31&s)<<6|63&a)>127&&(c=l);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(l=(15&s)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:a=e[i+1],o=e[i+2],u=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&u)&&(l=(15&s)<<18|(63&a)<<12|(63&o)<<6|63&u)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=d}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}r.kMaxLength=o,l.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,r){return s(e,t,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,r){return function(e,t,r){return c(e),e<=0?u(e):void 0!==t?"string"==typeof r?u(e).fill(t,r):u(e).fill(t):u(e)}(e,t,r)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(z(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),z(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(z(a,Uint8Array)&&(a=l.from(a)),!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):m.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},a&&(l.prototype[a]=l.prototype.inspect),l.prototype.compare=function(e,t,r,n,i){if(z(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),u=Math.min(a,o),s=this.slice(n,i),c=e.slice(t,r),d=0;d<u;++d)if(s[d]!==c[d]){a=s[d],o=c[d];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return E(this,e,t,r);case"utf8":case"utf-8":return k(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return O(this,e,t,r);case"base64":return x(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function T(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function D(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=W[e[a]];return i}function j(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function _(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,r,n,i,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function M(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,n,a){return t=+t,r>>>=0,a||M(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function N(e,t,r,n,a){return t=+t,r>>>=0,a||M(e,0,r,8),i.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUInt8=function(e,t){return e>>>=0,t||_(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return e>>>=0,t||_(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||_(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){e>>>=0,t||_(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||_(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||_(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||_(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||_(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var a=0,o=1,u=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===u&&0!==this[t+a-1]&&(u=1),this[t+a]=(e/o>>0)-u&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var a=r-1,o=1,u=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===u&&0!==this[t+a+1]&&(u=1),this[t+a]=(e/o>>0)-u&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var a=i-1;a>=0;--a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=l.isBuffer(e)?e:l.from(e,n),u=o.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=o[a%u]}return this};var I=/[^+/0-9A-Za-z-_]/g;function L(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function q(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function H(e){return e!=e}var W=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},{"base64-js":"6vwBw",ieee754:"2ULdJ"}],"6vwBw":[function(e,t,r){"use strict";r.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=function(e){var t,r,n=s(e),o=n[0],u=n[1],l=new a(function(e,t,r){return 3*(t+r)/4-r}(0,o,u)),c=0,d=u>0?o-4:o;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===u&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[c++]=255&t);1===u&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=16383,u=0,l=r-i;u<l;u+=o)a.push(c(e,u,u+o>l?l:u+o));1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,l=o.length;u<l;++u)n[u]=o[u],i[o.charCodeAt(u)]=u;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var i,a,o=[],u=t;u<r;u+=3)i=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],"2ULdJ":[function(e,t,r){r.read=function(e,t,r,n,i){var a,o,u=8*i-n-1,l=(1<<u)-1,s=l>>1,c=-7,d=r?i-1:0,p=r?-1:1,f=e[t+d];for(d+=p,a=f&(1<<-c)-1,f>>=-c,c+=u;c>0;a=256*a+e[t+d],d+=p,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+e[t+d],d+=p,c-=8);if(0===a)a=1-s;else{if(a===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),a-=s}return(f?-1:1)*o*Math.pow(2,a-n)},r.write=function(e,t,r,n,i,a){var o,u,l,s=8*a-i-1,c=(1<<s)-1,d=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:a-1,b=n?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=c?(u=0,o=c):o+d>=1?(u=(t*l-1)*Math.pow(2,i),o+=d):(u=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&u,f+=b,u/=256,i-=8);for(o=o<<i|u,s+=i;s>0;e[r+f]=255&o,f+=b,o/=256,s-=8);e[r+f-b]|=128*h}},{}],QClAV:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.createBatchLoadingFunc=c,r.createFileDataloader=function(e){return new u.default(c(e),{maxBatchSize:100})},r.getItemsFromKeys=r.MAX_BATCH_SIZE=void 0;var i=n(e("@babel/runtime/regenerator")),a=n(e("@babel/runtime/helpers/toConsumableArray")),o=n(e("@babel/runtime/helpers/asyncToGenerator")),u=n(e("dataloader"));r.MAX_BATCH_SIZE=100;var l=function(e,t){return t?"".concat(e,"-").concat(t):e},s=function(e,t){var r=t.reduce((function(e,t){var r=t.id,n=t.collection;return e[l(r,n)]=t.error instanceof Error?t.error:t.details,e}),{});return e.map((function(e){var t=e.id,n=e.collectionName,i=l(t,n);return r[i]||null}))};function c(e){return function(){var t=(0,o.default)(i.default.mark((function t(r){var n,u,l;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="__media-single-file-collection__",u=r.reduce((function(e,t){var r=t.collectionName||n,i=e[r]||[];return-1===i.indexOf(t.id)&&i.push(t.id),e[r]=i,e}),{}),l=[],t.next=5,Promise.all(Object.keys(u).map(function(){var t=(0,o.default)(i.default.mark((function t(r){var o,s,c;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=u[r],s=r===n?void 0:r,t.prev=2,t.next=5,e.getItems(o,s);case 5:c=t.sent,l.push.apply(l,(0,a.default)(c.data.items)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),o.forEach((function(e){l.push({id:e,collection:s,error:t.t0})}));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()));case 5:return t.abrupt("return",s(r,l));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}r.getItemsFromKeys=s},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/regenerator":"1gEKr","@babel/runtime/helpers/toConsumableArray":"7nvTJ","@babel/runtime/helpers/asyncToGenerator":"450Ii",dataloader:"3GXBD"}],"4jFoy":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getMediaTypeFromUploadableFile=void 0;var n=e("./getMediaTypeFromMimeType");r.getMediaTypeFromUploadableFile=function(e){if(e.content instanceof Blob){var t=e.content.type;return(0,n.getMediaTypeFromMimeType)(t)}return"unknown"}},{"./getMediaTypeFromMimeType":"3BCWt"}],"3BCWt":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getMediaTypeFromMimeType=void 0;var n=e("./isArchive"),i=e("./isMimeTypeSupportedByBrowser"),a=e("./isMimeTypeSupportedByServer");r.getMediaTypeFromMimeType=function(e){return(0,n.isArchive)(e)?"archive":(0,i.isImageMimeTypeSupportedByBrowser)(e)||(0,a.isImageMimeTypeSupportedByServer)(e)?"image":(0,i.isDocumentMimeTypeSupportedByBrowser)(e)||(0,a.isDocumentMimeTypeSupportedByServer)(e)?"doc":(0,i.isAudioMimeTypeSupportedByBrowser)(e)||(0,a.isAudioMimeTypeSupportedByServer)(e)?"audio":(0,i.isVideoMimeTypeSupportedByBrowser)(e)||(0,a.isVideoMimeTypeSupportedByServer)(e)?"video":"unknown"}},{"./isArchive":"5J7tL","./isMimeTypeSupportedByBrowser":"3S6r6","./isMimeTypeSupportedByServer":"2WsP1"}],"5J7tL":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isArchive=void 0;r.isArchive=function(e){return["application/x-archive","application/x-cpio","application/x-shar","application/x-iso9660-image","application/x-sbx","application/x-tar","application/x-bzip2","application/gzip","application/x-gzip","application/x-lzip","application/x-lzma","application/x-lzop","application/x-snappy-framed","application/x-xz","application/x-compress","application/zstd","application/x-7z-compressed","application/x-ace-compressed","application/x-astrotite-afa","application/x-alz-compressed","application/vnd.android.package-archive","application/x-freearc","application/x-arj","application/x-b1","application/vnd.ms-cab-compressed","application/x-cfs-compressed","application/x-dar","application/x-dgc-compressed","application/x-apple-diskimage","application/x-gca-compressed","application/java-archive","application/x-lzh","application/x-lzx","application/x-rar-compressed","application/x-stuffit","application/x-stuffitx","application/x-gtar","application/x-ms-wim","application/x-xar","application/zip","application/x-zoo","application/x-par2"].indexOf(e.toLowerCase())>-1}},{}],"3S6r6":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isMimeTypeSupportedByBrowser=r.isVideoMimeTypeSupportedByBrowser=r.isAudioMimeTypeSupportedByBrowser=r.isDocumentMimeTypeSupportedByBrowser=r.isImageMimeTypeSupportedByBrowser=void 0;var n=function(e){return["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/webp"].indexOf(e.toLowerCase())>-1};r.isImageMimeTypeSupportedByBrowser=n;var i=function(e){return"application/pdf"===e.toLowerCase()};r.isDocumentMimeTypeSupportedByBrowser=i;var a=function(e){return["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/x-ogg","audio/wav","audio/x-wav"].indexOf(e.toLowerCase())>-1};r.isAudioMimeTypeSupportedByBrowser=a;var o=function(e){return["video/mp4","video/quicktime"].indexOf(e.toLowerCase())>-1};r.isVideoMimeTypeSupportedByBrowser=o;r.isMimeTypeSupportedByBrowser=function(e){return i(e)||n(e)||a(e)||o(e)}},{}],"2WsP1":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isMimeTypeSupportedByServer=r.isUnknownMimeTypeSupportedByServer=r.isVideoMimeTypeSupportedByServer=r.isAudioMimeTypeSupportedByServer=r.isDocumentMimeTypeSupportedByServer=r.isImageMimeTypeSupportedByServer=void 0;var n=function(e){return["image/bmp","image/x-windows-bmp","application/dicom","image/gif","image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/png","application/png","application/x-png","application/vnd.adobe.photoshop","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","image/tiff","image/x-tif","image/x-tiff","application/tif","application/x-tif","application/tiff","application/x-tiff","image/svg+xml","image/heif","image/heif-sequence","image/heic","image/heic-sequence"].indexOf(e.toLowerCase())>-1};r.isImageMimeTypeSupportedByServer=n;var i=function(e){return["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/vnd.adobe.illustrator","application/vnd.ms-office","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled","application/vnd.ms-excel.template.macroenabled","application/vnd.ms-excel.addin.macroenabled","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.sun.xml.draw","application/vnd.sun.xml.draw.template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/x-vnd.oasis.opendocument.presentation","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-master","application/x-vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text-template","application/x-vnd.oasis.opendocument.text-master","application/vnd.wordperfect","text/csv","text/x-diff","text/x-perl","text/x-python","text/x-ruby","text/rtf","text/richtext","text/plain","application/txt","application/rtf","application/x-rtf","application/postscript"].indexOf(e.toLowerCase())>-1};r.isDocumentMimeTypeSupportedByServer=i;var a=function(e){return["audio/aac","audio/x-hx-aac-adts","audio/vnd.dolby.dd-raw","audio/aiff","audio/x-aiff","audio/x-monkeys-audio","audio/x-ape","audio/basic","audio/flac","audio/mp4","audio/midi","audio/x-matroska","audio/x-mod","audio/mpeg","audio/ogg","audio/x-ogg","audio/x-pn-realaudio","audio/wav","audio/x-wav","audio/x-ms-wma"].indexOf(e.toLowerCase())>-1};r.isAudioMimeTypeSupportedByServer=a;var o=function(e){return["video/3gpp","video/3gpp2","video/x-ms-asf","video/avi","video/msvideo","video/x-msvideo","video/x-dv","video/x-flv","video/m2ts","video/x-m4v","video/x-matroska","video/quicktime","video/mp4","video/mpeg","video/ogg","video/x-ogg","video/webm","video/x-ms-wmv"].indexOf(e.toLowerCase())>-1};r.isVideoMimeTypeSupportedByServer=o;var u=function(e){return["binary/octet-stream"].indexOf(e.toLowerCase())>-1};r.isUnknownMimeTypeSupportedByServer=u;r.isMimeTypeSupportedByServer=function(e){return n(e)||i(e)||a(e)||o(e)||u(e)}},{}],"5QLLL":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.overrideMediaTypeIfUnknown=void 0;var n=e("../models/file-state");r.overrideMediaTypeIfUnknown=function(e,t){return(0,n.isErrorFileState)(e)||"unknown"!==e.mediaType?{}:{mediaType:t}}},{"../models/file-state":"6tHp9"}],"5BgbE":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.convertBase64ToBlob=void 0;r.convertBase64ToBlob=function(e){for(var t=e.split(",")[1],r=atob(t),n=[],i=function(e){var t=r.slice(e,e+512),i=t.split("").map((function(e,r){return t.charCodeAt(r)})),a=new Uint8Array(i);n.push(a)},a=0;a<r.length;a+=512)i(a);return new Blob(n,{type:"image/jpeg"})}},{}],"6t7FG":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.observableToPromise=void 0;var n=e("rxjs/Subscription");r.observableToPromise=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new n.Subscription;return new Promise((function(r,n){return t.add(e.subscribe({next:function(e){r(e),t.unsubscribe()},error:function(e){n(e),t.unsubscribe()}}))}))}},{"rxjs/Subscription":"3B4NQ"}],"5bS0u":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getDimensionsFromBlob=void 0;var i=n(e("@babel/runtime/regenerator")),a=n(e("@babel/runtime/helpers/asyncToGenerator")),o=e("./getImageDimensionsFromBlob"),u=e("./getVideoDimensionsFromBlob"),l=function(){var e=(0,a.default)(i.default.mark((function e(t,r){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="image"===e.t0?3:"video"===e.t0?11:12;break;case 3:return n=URL.createObjectURL(r),e.prev=4,e.next=7,(0,o.getImageDimensionsFromBlob)(n);case 7:return e.abrupt("return",e.sent);case 8:return e.prev=8,URL.revokeObjectURL(n),e.finish(8);case 11:return e.abrupt("return",(0,u.getVideoDimensionsFromBlob)(r));case 12:throw new Error("Can't extract dimensions from ".concat(t));case 13:case"end":return e.stop()}}),e,null,[[4,,8,11]])})));return function(t,r){return e.apply(this,arguments)}}();r.getDimensionsFromBlob=l},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/regenerator":"1gEKr","@babel/runtime/helpers/asyncToGenerator":"450Ii","./getImageDimensionsFromBlob":"11mm3","./getVideoDimensionsFromBlob":"4xV4B"}],"11mm3":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getImageDimensionsFromBlob=void 0;r.getImageDimensionsFromBlob=function(e){return new Promise((function(t,r){var n=new Image;n.src=e,n.onload=function(){return t({width:n.width,height:n.height})},n.onerror=r}))}},{}],"4xV4B":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getVideoDimensionsFromBlob=void 0;var i=n(e("@babel/runtime/regenerator")),a=n(e("@babel/runtime/helpers/asyncToGenerator")),o=n(e("video-snapshot")),u=function(){var e=(0,a.default)(i.default.mark((function e(t){var r,n=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:new o.default(t),e.prev=1,e.next=4,r.getDimensions();case 4:return e.abrupt("return",e.sent);case 5:return e.prev=5,r.end(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[1,,5,8]])})));return function(t){return e.apply(this,arguments)}}();r.getVideoDimensionsFromBlob=u},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/regenerator":"1gEKr","@babel/runtime/helpers/asyncToGenerator":"450Ii","video-snapshot":"5ocC0"}],"5ocC0":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("tslib"),i="undefined"!=typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),a=function(){function e(e){var t=this;this.loadVideo=function(e){return void 0===e&&(e=0),new Promise((function(r,n){var a=document.createElement("video");if(a.preload="metadata",a.src=t.videoUrl,a.muted=!0,0===e)a.play();else{if("number"==typeof e)a.currentTime=e;else if("string"==typeof e){var o=a.duration;a.currentTime=t.getSmartTime(e,o)}i&&a.play()}a.addEventListener("timeupdate",(function e(){a.removeEventListener("timeupdate",e),a.pause(),r(a)})),a.addEventListener("error",(function(){n(new Error("failed to load video"))}))}))},this.getDimensions=function(){return n.__awaiter(t,void 0,void 0,(function(){var e;return n.__generator(this,(function(t){switch(t.label){case 0:return[4,this.loadVideo()];case 1:return[2,{width:(e=t.sent()).videoWidth,height:e.videoHeight}]}}))}))};var r=URL.createObjectURL(e);this.videoUrl=r}return e.prototype.takeSnapshot=function(e){return n.__awaiter(this,void 0,void 0,(function(){var t,r,i;return n.__generator(this,(function(n){switch(n.label){case 0:return[4,this.loadVideo(e)];case 1:if(t=n.sent(),r=document.createElement("canvas"),!t.videoWidth&&!t.videoHeight)throw new Error("error retrieving video dimensions");if(r.width=t.videoWidth,r.height=t.videoHeight,!(i=r.getContext("2d")))throw new Error("error creating canvas context");return i.drawImage(t,0,0,r.width,r.height),[2,r.toDataURL()]}}))}))},e.prototype.end=function(){this.revoke()},e.prototype.revoke=function(){URL.revokeObjectURL(this.videoUrl)},e.prototype.getSmartTime=function(e,t){return void 0===t&&(t=0),{start:0,middle:t/2,end:t}[e]},e}();r.default=a},{tslib:"1k9Lu"}],"7AFGb":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createFileStateSubject=void 0;var n=e("rxjs/ReplaySubject");r.createFileStateSubject=function(e){var t=new n.ReplaySubject(1);return e instanceof Error?t.error(e):e&&t.next(e),t}},{"rxjs/ReplaySubject":"4eZtb"}],"4eZtb":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=e("./Subject"),a=e("./scheduler/queue"),o=e("./Subscription"),u=e("./operators/observeOn"),l=e("./util/ObjectUnsubscribedError"),s=e("./SubjectSubscription"),c=function(e){function t(t,r,n){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=n,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=r<1?1:r}return n(t,e),t.prototype.next=function(t){var r=this._getNow();this._events.push(new d(r,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,r=this._trimBufferThenGetEvents(),n=this.scheduler;if(this.closed)throw new l.ObjectUnsubscribedError;this.hasError||this.isStopped?t=o.Subscription.EMPTY:(this.observers.push(e),t=new s.SubjectSubscription(this,e)),n&&e.add(e=new u.ObserveOnSubscriber(e,n));for(var i=r.length,a=0;a<i&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||a.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,a=0;a<i&&!(e-n[a].time<r);)a++;return i>t&&(a=Math.max(a,i-t)),a>0&&n.splice(0,a),n},t}(i.Subject);r.ReplaySubject=c;var d=function(e,t){this.time=e,this.value=t}},{"./Subject":"A8MEu","./scheduler/queue":"3SDF4","./Subscription":"3B4NQ","./operators/observeOn":"7yrK1","./util/ObjectUnsubscribedError":"5ovGJ","./SubjectSubscription":"33L1h"}],A8MEu:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=e("./Observable"),a=e("./Subscriber"),o=e("./Subscription"),u=e("./util/ObjectUnsubscribedError"),l=e("./SubjectSubscription"),s=e("./symbol/rxSubscriber"),c=function(e){function t(t){e.call(this,t),this.destination=t}return n(t,e),t}(a.Subscriber);r.SubjectSubscriber=c;var d=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(t,e),t.prototype[s.rxSubscriber]=function(){return new c(this)},t.prototype.lift=function(e){var t=new p(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new u.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),o.Subscription.EMPTY):this.isStopped?(e.complete(),o.Subscription.EMPTY):(this.observers.push(e),new l.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new i.Observable;return e.source=this,e},t.create=function(e,t){return new p(e,t)},t}(i.Observable);r.Subject=d;var p=function(e){function t(t,r){e.call(this),this.destination=t,this.source=r}return n(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):o.Subscription.EMPTY},t}(d);r.AnonymousSubject=p},{"./Observable":"7vKF0","./Subscriber":"12llB","./Subscription":"3B4NQ","./util/ObjectUnsubscribedError":"5ovGJ","./SubjectSubscription":"33L1h","./symbol/rxSubscriber":"53060"}],"5ovGJ":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return n(t,e),t}(Error);r.ObjectUnsubscribedError=i},{}],"33L1h":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r){e.call(this),this.subject=t,this.subscriber=r,this.closed=!1}return n(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(e("./Subscription").Subscription);r.SubjectSubscription=i},{"./Subscription":"3B4NQ"}],"3SDF4":[function(e,t,r){"use strict";var n=e("./QueueAction"),i=e("./QueueScheduler");r.queue=new i.QueueScheduler(n.QueueAction)},{"./QueueAction":"47SCU","./QueueScheduler":"43vRu"}],"47SCU":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return n(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,n):t.flush(this)},t}(e("./AsyncAction").AsyncAction);r.QueueAction=i},{"./AsyncAction":"6r8Gh"}],"6r8Gh":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=e("../util/root"),a=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.pending=!1,this.work=r}return n(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),i.root.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;i.root.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(e("./Action").Action);r.AsyncAction=a},{"../util/root":"19wsq","./Action":"5bANR"}],"5bANR":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r){e.call(this)}return n(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(e("../Subscription").Subscription);r.Action=i},{"../Subscription":"3B4NQ"}],"43vRu":[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(e("./AsyncScheduler").AsyncScheduler);r.QueueScheduler=i},{"./AsyncScheduler":"LlweT"}],LlweT:[function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return n(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(e("../Scheduler").Scheduler);r.AsyncScheduler=i},{"../Scheduler":"5Xp1z"}],"5Xp1z":[function(e,t,r){"use strict";var n=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=Date.now?Date.now:function(){return+new Date},e}();r.Scheduler=n},{}],"6NYD4":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.shouldFetchRemoteFileStates=c,r.shouldFetchRemoteFileStatesObservable=function(e,t,r){return(0,o.from)(c(e,t,r))};var i=n(e("@babel/runtime/regenerator")),a=n(e("@babel/runtime/helpers/asyncToGenerator")),o=e("rxjs/observable/from"),u=e("./isMimeTypeSupportedByBrowser"),l=e("./isMimeTypeSupportedByServer"),s=e("./getVideoDimensionsFromBlob");function c(e,t,r){return d.apply(this,arguments)}function d(){return(d=(0,a.default)(i.default.mark((function e(t,r,n){var a,o,c,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("doc"!==t&&(0,u.isMimeTypeSupportedByBrowser)(r)&&n||!(0,l.isMimeTypeSupportedByServer)(r)){e.next=2;break}return e.abrupt("return",!0);case 2:if("video"!==t||!n){e.next=20;break}return e.next=5,n;case 5:if((a=e.sent.value)instanceof Blob){e.next=8;break}return e.abrupt("return",!1);case 8:return e.prev=8,e.next=11,(0,s.getVideoDimensionsFromBlob)(a);case 11:return o=e.sent,c=o.width,d=o.height,e.abrupt("return",!c&&!d);case 17:return e.prev=17,e.t0=e.catch(8),e.abrupt("return",!0);case 20:return e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,null,[[8,17]])})))).apply(this,arguments)}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/regenerator":"1gEKr","@babel/runtime/helpers/asyncToGenerator":"450Ii","rxjs/observable/from":"7dOE6","./isMimeTypeSupportedByBrowser":"3S6r6","./isMimeTypeSupportedByServer":"2WsP1","./getVideoDimensionsFromBlob":"4xV4B"}],"6pZJq":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isEmptyFile=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),r=e.artifacts,i=e.mediaType,a=e.mimeType,o=e.name,u=e.processingStatus,l=e.representations,s=e.size,c=e.createdAt;if(!(r||i||a||o||u||l||s||"number"!=typeof c)){var d=t-c;if(d>n)return!0}return!1},r.EMPTY_FILE_HOURS_ELAPSED_TOLERANCE_MS=void 0;var n=432e5;r.EMPTY_FILE_HOURS_ELAPSED_TOLERANCE_MS=n},{}],"3SiWz":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.CollectionFetcher=r.collectionCache=void 0;var i=n(e("@babel/runtime/helpers/toConsumableArray")),a=n(e("@babel/runtime/regenerator")),o=n(e("@babel/runtime/helpers/asyncToGenerator")),u=n(e("@babel/runtime/helpers/defineProperty")),l=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),c=e("rxjs/ReplaySubject"),d=e("../file-streams-cache"),p=e("../models/file-state");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={};r.collectionCache=h;var m=function(){function e(t){(0,l.default)(this,e),this.mediaStore=t}var t,r;return(0,s.default)(e,[{key:"createFileStateObserver",value:function(e,t){var r=new c.ReplaySubject(1),n=b({id:e},t),i=(0,p.mapMediaFileToFileState)({data:n});return r.next(i),r}},{key:"populateCache",value:function(e){var t=this;e.forEach((function(e){var r=t.createFileStateObserver(e.id,e.details);(0,d.getFileStreamsCache)().set(e.id,r)}))}},{key:"removeFromCache",value:function(e,t){var r=h[t].items.findIndex((function(t){return t.id===e}));-1!==r&&((0,d.getFileStreamsCache)().remove(e),h[t].items.splice(r,1))}},{key:"getItems",value:function(e,t){var r=this;h[e]||(h[e]={items:[],subject:new c.ReplaySubject(1),isLoadingNextPage:!1});var n=h[e],i=n.subject;return this.mediaStore.getCollectionItems(e,b(b({},t),{},{details:"full"})).then((function(e){var t=e.data,a=t.contents,o=t.nextInclusiveStartKey;r.populateCache(a),n.items=e.data.contents,n.nextInclusiveStartKey=o,i.next(n.items)})).catch((function(e){return i.error(e)})),i}},{key:"removeFile",value:(r=(0,o.default)(a.default.mark((function e(t,r,n){var i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mediaStore.removeCollectionFile(t,r,n);case 2:this.removeFromCache(t,r),(i=h[r]).subject.next(i.items);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"loadNextPage",value:(t=(0,o.default)(a.default.mark((function e(t,r){var n,o,u,l,s,c,d,p,f,m,v,y;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h[t],o=!!n&&n.isLoadingNextPage,n&&n.nextInclusiveStartKey&&!o){e.next=4;break}return e.abrupt("return");case 4:return n.isLoadingNextPage=!0,u=h[t],l=u.nextInclusiveStartKey,s=u.items,c=u.subject,e.next=8,this.mediaStore.getCollectionItems(t,b(b({},r),{},{inclusiveStartKey:l,details:"full"}));case 8:d=e.sent,p=d.data,f=p.contents,m=p.nextInclusiveStartKey,this.populateCache(f),v=d.data.contents,y=[].concat((0,i.default)(s),(0,i.default)(v)),c.next(y),h[t]={items:y,nextInclusiveStartKey:m,subject:c,isLoadingNextPage:!1};case 15:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),e}();r.CollectionFetcher=m},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/toConsumableArray":"7nvTJ","@babel/runtime/regenerator":"1gEKr","@babel/runtime/helpers/asyncToGenerator":"450Ii","@babel/runtime/helpers/defineProperty":"5MCal","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","rxjs/ReplaySubject":"4eZtb","../file-streams-cache":"2SyRG","../models/file-state":"6tHp9"}],"1F58g":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.MediaClient=void 0;var i=n(e("@babel/runtime/regenerator")),a=n(e("@babel/runtime/helpers/asyncToGenerator")),o=n(e("@babel/runtime/helpers/classCallCheck")),u=n(e("@babel/runtime/helpers/createClass")),l=e("eventemitter2"),s=e("./media-store"),c=e("./collection-fetcher"),d=e("./file-fetcher"),p=e("./stargate-client"),f=function(){function e(t,r){(0,o.default)(this,e),this.mediaClientConfig=t,this.featureFlags=r,this.mediaStore=new s.MediaStore({authProvider:t.authProvider},r),this.config=t,this.collection=new c.CollectionFetcher(this.mediaStore),this.file=new d.FileFetcherImpl(this.mediaStore),this.eventEmitter=new l.EventEmitter2,this.stargate=new p.StargateClient(t.stargateBaseUrl)}var t;return(0,u.default)(e,[{key:"getImage",value:function(e,t,r,n){return this.mediaStore.getImage(e,t,r,n)}},{key:"getImageUrl",value:function(e,t){return this.mediaStore.getFileImageURL(e,t)}},{key:"getImageMetadata",value:(t=(0,a.default)(i.default.mark((function e(t,r){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mediaStore.getImageMetadata(t,r);case 2:return e.abrupt("return",e.sent.metadata);case 3:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"on",value:function(e,t){this.eventEmitter.on(e,t)}},{key:"off",value:function(e,t){this.eventEmitter.off(e,t)}},{key:"emit",value:function(e,t){return this.eventEmitter.emit(e,t)}}]),e}();r.MediaClient=f},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/regenerator":"1gEKr","@babel/runtime/helpers/asyncToGenerator":"450Ii","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK",eventemitter2:"yW9Li","./media-store":"79ylE","./collection-fetcher":"3SiWz","./file-fetcher":"4lm80","./stargate-client":"pRITg"}],pRITg:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.StargateClient=void 0;var i=n(e("@babel/runtime/regenerator")),a=n(e("@babel/runtime/helpers/asyncToGenerator")),o=n(e("@babel/runtime/helpers/classCallCheck")),u=n(e("@babel/runtime/helpers/createClass")),l=function(){function e(t){(0,o.default)(this,e),this.baseUrl=t||"/gateway/api"}var t;return(0,u.default)(e,[{key:"fetchToken",value:(t=(0,a.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.baseUrl,"/media/auth/smartedge"),{credentials:"include",headers:{"x-client-id":t}});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"isTokenExpired",value:function(e){var t=(new Date).getTime()/1e3;return e.data.iat+e.data.expiresIn-t<0}}]),e}();r.StargateClient=l},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/regenerator":"1gEKr","@babel/runtime/helpers/asyncToGenerator":"450Ii","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK"}],"4faLr":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isImageRemote=void 0;r.isImageRemote=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.origin;if(URL&&URL.prototype){var r=new URL(e);return!!r.host&&r.origin!==t}return!0}},{}],gpU6t:[function(e,t,r){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.checkWebpSupport=void 0;r.checkWebpSupport=function(){return void 0!==n?Promise.resolve(n):new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",t.onload=t.onerror=function(){n=2===t.height,e(n)}}))}},{}],"39BSw":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.safeUnsubscribe=void 0;r.safeUnsubscribe=function(e){console.warn("safeUnsubscribe() is deprecated and will be removed in the next media-client major version"),setTimeout((function(){return e&&e.unsubscribe()}),0)}},{}],"3cyFq":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.isDifferentIdentifier=r.isExternalImageIdentifier=r.isFileIdentifier=void 0;var i=n(e("deep-equal")),a=function(e){return"file"===e.mediaItemType};r.isFileIdentifier=a;r.isExternalImageIdentifier=function(e){return"external-image"===e.mediaItemType};r.isDifferentIdentifier=function(e,t){return a(e)&&a(t)?e.id!==t.id||e.collectionName!==t.collectionName||e.occurrenceKey!==t.occurrenceKey:!(0,i.default)(e,t)}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","deep-equal":"1CGJs"}],"3m7iU":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.withMediaClient=r.getMediaClient=void 0;var i=n(e("@babel/runtime/helpers/extends")),a=n(e("@babel/runtime/helpers/objectWithoutProperties")),o=n(e("@babel/runtime/helpers/classCallCheck")),u=n(e("@babel/runtime/helpers/createClass")),l=n(e("@babel/runtime/helpers/inherits")),s=n(e("@babel/runtime/helpers/possibleConstructorReturn")),c=n(e("@babel/runtime/helpers/getPrototypeOf")),d=n(e("react")),p=e("../client/media-client");function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var b=new Map,h=function(e,t){var r=b.get(e);return r||(r=new p.MediaClient(e,t),b.set(e,r)),r};r.getMediaClient=h;r.withMediaClient=function(e,t){return function(r){(0,l.default)(s,r);var n=f(s);function s(){return(0,o.default)(this,s),n.apply(this,arguments)}return(0,u.default)(s,[{key:"render",value:function(){var r=this.props,n=r.mediaClientConfig,o=(0,a.default)(r,["mediaClientConfig"]),u=n?h(n,t):function(e){var t={authProvider:function(){return Promise.resolve({clientId:"",token:"",baseUrl:""})}};return new p.MediaClient(t,e)}(t);return d.default.createElement(e,(0,i.default)({},o,{mediaClient:u}))}}]),s}(d.default.Component)}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/objectWithoutProperties":"2CLk9","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw",react:"28H6D","../client/media-client":"1F58g"}],"3jjWX":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.addFileAttrsToUrl=r.objectToQueryString=r.getAttrsFromUrl=r.isMediaBlobUrl=void 0;var i=n(e("@babel/runtime/helpers/defineProperty")),a=n(e("url-search-params"));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l="media-blob-url";r.isMediaBlobUrl=function(e){return e.indexOf("".concat(l,"=true"))>-1};var s=function(e,t){var r=e.get(t);return"string"!=typeof r||isNaN(parseInt(r))?void 0:parseInt(r)},c=function(e,t){var r=e.get(t);if(r)return decodeURIComponent(r)};r.getAttrsFromUrl=function(e){var t=new URL(e).hash.replace("#",""),r=new a.default(t),n=r.get("id"),i=r.get("contextId");if(n&&i)return{id:n,contextId:i,collection:c(r,"collection"),alt:c(r,"alt"),height:s(r,"height"),width:s(r,"width"),size:s(r,"size"),name:c(r,"name"),mimeType:c(r,"mimeType")}};var d=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]&&null!==e[t]})).map((function(t){var r=e[t];if(null!=r)return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r.toString()))})).join("&")};r.objectToQueryString=d;r.addFileAttrsToUrl=function(e,t){if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return e;var r=u(u({},(0,i.default)({},l,"true")),t),n=d(r);return"".concat(e,"#").concat(n)}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/defineProperty":"5MCal","url-search-params":"2e0kA"}],"2YAj7":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Card",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"CardLoading",{enumerable:!0,get:function(){return a.CardLoading}}),Object.defineProperty(r,"CardError",{enumerable:!0,get:function(){return o.CardError}}),Object.defineProperty(r,"defaultImageCardDimensions",{enumerable:!0,get:function(){return u.defaultImageCardDimensions}}),Object.defineProperty(r,"fileCardImageViewSelector",{enumerable:!0,get:function(){return l.fileCardImageViewSelector}});var i=n(e("./root/card/cardLoader")),a=e("./utils/lightCards/cardLoading"),o=e("./utils/lightCards/cardError"),u=e("./utils/cardDimensions"),l=e("./files/cardImageView")},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","./root/card/cardLoader":"6AOXp","./utils/lightCards/cardLoading":"EU3RY","./utils/lightCards/cardError":"1Cilb","./utils/cardDimensions":"1Ch1j","./files/cardImageView":"3ulZ6"}],"6AOXp":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/regenerator")),a=n(e("@babel/runtime/helpers/interopRequireWildcard")),o=n(e("@babel/runtime/helpers/slicedToArray")),u=n(e("@babel/runtime/helpers/asyncToGenerator")),l=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),c=n(e("@babel/runtime/helpers/assertThisInitialized")),d=n(e("@babel/runtime/helpers/inherits")),p=n(e("@babel/runtime/helpers/possibleConstructorReturn")),f=n(e("@babel/runtime/helpers/getPrototypeOf")),b=n(e("@babel/runtime/helpers/defineProperty")),h=n(e("react")),m=e("../..");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,p.default)(this,r)}}var y=function(t){(0,d.default)(p,t);var r,n=v(p);function p(){var e;(0,l.default)(this,p);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e=n.call.apply(n,[this].concat(r)),(0,b.default)((0,c.default)(e),"state",{Card:p.Card,MediaCardErrorBoundary:p.MediaCardErrorBoundary}),e}return(0,s.default)(p,[{key:"componentDidMount",value:(r=(0,u.default)(i.default.mark((function t(){var r,n,u,l,s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.state.Card){t.next=16;break}return t.prev=1,t.next=4,Promise.all([Promise.resolve().then((function(){return e("@atlaskit/media-client")})).then((function(e){return(0,a.default)(e)})),Promise.resolve().then((function(){return e("./index")})).then((function(e){return(0,a.default)(e)})),Promise.resolve().then((function(){return e("../media-card-analytics-error-boundary")})).then((function(e){return(0,a.default)(e)}))]);case 4:r=t.sent,n=(0,o.default)(r,3),u=n[0],l=n[1],s=n[2],p.Card=u.withMediaClient(l.Card,this.props.featureFlags),p.MediaCardErrorBoundary=s.default,this.setState({Card:p.Card,MediaCardErrorBoundary:p.MediaCardErrorBoundary}),t.next=16;break;case 14:t.prev=14,t.t0=t.catch(1);case 16:case"end":return t.stop()}}),t,this,[[1,14]])}))),function(){return r.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.dimensions,r=e.testId,n=this.state,i=n.Card,a=n.MediaCardErrorBoundary;return i&&a?h.default.createElement(a,null,h.default.createElement(i,this.props)):h.default.createElement(m.CardLoading,{testId:r,dimensions:t})}}]),p}(h.default.PureComponent);r.default=y,(0,b.default)(y,"displayName","AsyncCard")},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/regenerator":"1gEKr","@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/slicedToArray":"2D1XJ","@babel/runtime/helpers/asyncToGenerator":"450Ii","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/assertThisInitialized":"4YOil","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","../..":"2YAj7","@atlaskit/media-client":"1JnCh","./index":"5PSFD","../media-card-analytics-error-boundary":"53lP1"}],"5PSFD":[function(e,t,r){t.exports=Promise.all([e("./loaders/browser/js-loader")(e("./bundle-url").getBundleURL()+e("./relative-path")("7CBh4","70ast")),e("./loaders/browser/js-loader")(e("./bundle-url").getBundleURL()+e("./relative-path")("7CBh4","6MktS")),e("./loaders/browser/js-loader")(e("./bundle-url").getBundleURL()+e("./relative-path")("7CBh4","37l4x"))]).then((()=>{t.bundle.root._loadedBundles=t.bundle.root._loadedBundles||{};for(var e=["70ast","6MktS","37l4x"],r=0;r<e.length;r++)t.bundle.root._loadedBundles[e[r]]=!0;return t.bundle.root("68pNV")}))},{"./loaders/browser/js-loader":"4HTlk","./bundle-url":"6aW1b","./relative-path":"KfeVS"}],"53lP1":[function(e,t,r){t.exports=e("./loaders/browser/js-loader")(e("./bundle-url").getBundleURL()+e("./relative-path")("7CBh4","3c66x")).then((()=>{t.bundle.root._loadedBundles=t.bundle.root._loadedBundles||{};for(var e=["3c66x"],r=0;r<e.length;r++)t.bundle.root._loadedBundles[e[r]]=!0;return t.bundle.root("1sC3Z")}))},{"./loaders/browser/js-loader":"4HTlk","./bundle-url":"6aW1b","./relative-path":"KfeVS"}],EU3RY:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.CardLoading=void 0;var a=i(e("@babel/runtime/helpers/classCallCheck")),o=i(e("@babel/runtime/helpers/createClass")),u=i(e("@babel/runtime/helpers/inherits")),l=i(e("@babel/runtime/helpers/possibleConstructorReturn")),s=i(e("@babel/runtime/helpers/getPrototypeOf")),c=n(e("react")),d=i(e("@atlaskit/icon/glyph/file")),p=e("./getDimensionsWithDefault"),f=e("./styled");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var h=function(e){(0,u.default)(r,e);var t=b(r);function r(){return(0,a.default)(this,r),t.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props,t=e.dimensions,r=e.testId,n=(0,p.getDimensionsWithDefault)(t);return c.default.createElement(f.Wrapper,{"data-testid":r||"media-card-loading","data-test-loading":!0,dimensions:n},this.icon)}},{key:"icon",get:function(){return c.default.createElement(d.default,{label:"loading",size:"medium"})}}]),r}(c.Component);r.CardLoading=h},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw",react:"28H6D","@atlaskit/icon/glyph/file":"3PUy4","./getDimensionsWithDefault":"4OU1F","./styled":"3EJHf"}],"4OU1F":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getDimensionsWithDefault=void 0;r.getDimensionsWithDefault=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:"100%",height:"100%"};return{height:"number"==typeof e.height?"".concat(e.height,"px"):e.height,width:"number"==typeof e.width?"".concat(e.width,"px"):e.width}}},{}],"3EJHf":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.Wrapper=r.blinkLoadingAnimation=void 0;var a=i(e("@babel/runtime/helpers/taggedTemplateLiteral")),o=n(e("styled-components")),u=e("@atlaskit/media-ui"),l=e("@atlaskit/theme/components"),s=e("@atlaskit/theme/colors");function c(){var e=(0,a.default)(["\n  "," background: ",";\n  color: ",";\n  ","\n  max-height: 100%;\n  max-width: 100%;\n\n  ","\n  > span {\n    animation: "," 0.8s infinite;\n  }\n"]);return c=function(){return e},e}function d(){var e=(0,a.default)(["\n  0%{\n    opacity: 1;\n  }\n\n  50%{\n    opacity: 0.6;\n  }\n\n  100%{\n    opacity: 1;\n  }\n"]);return d=function(){return e},e}var p=(0,o.keyframes)(d());r.blinkLoadingAnimation=p;var f=o.default.div(c(),u.center,(0,l.themed)({light:s.N20,dark:s.DN50}),(0,l.themed)({light:s.N50,dark:s.DN100}),u.borderRadius,(function(e){return"\n      width: ".concat(e.dimensions.width,";\n      height: ").concat(e.dimensions.height,";\n    ")}),p);r.Wrapper=f},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/taggedTemplateLiteral":"3h9Bz","styled-components":"3zU0W","@atlaskit/media-ui":"6QZ57","@atlaskit/theme/components":"3dsiw","@atlaskit/theme/colors":"7iJNZ"}],"3dsiw":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getTheme",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"themed",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"AtlaskitThemeProvider",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"Appearance",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"ResetTheme",{enumerable:!0,get:function(){return l.ResetTheme}}),Object.defineProperty(r,"Reset",{enumerable:!0,get:function(){return l.Reset}}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"withTheme",{enumerable:!0,get:function(){return c.withTheme}}),Object.defineProperty(r,"createTheme",{enumerable:!0,get:function(){return d.createTheme}});var i=n(e("./utils/getTheme")),a=n(e("./utils/themed")),o=n(e("./components/AtlaskitThemeProvider")),u=n(e("./components/Appearance")),l=e("./components/Reset"),s=n(e("./components/Theme")),c=e("./hoc"),d=e("./utils/createTheme")},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","./utils/getTheme":"2v6vk","./utils/themed":"Rkmkc","./components/AtlaskitThemeProvider":"2o0P5","./components/Appearance":"3QlaK","./components/Reset":"4aMQN","./components/Theme":"36iiU","./hoc":"7gUCD","./utils/createTheme":"25nhl"}],"2v6vk":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&n.includes(e.theme.mode))return e.theme}return{mode:"light"}};var n=["light","dark"]},{}],Rkmkc:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){if("string"==typeof e)return r=e,n=t,function(e){var t=(0,i.default)(e);if(e&&e[r]&&n){var a=n[e[r]];if(a&&a[t.mode]){var o=a[t.mode];if(o)return o}}return""};var r,n;var a=e;return function(e){var t=(0,i.default)(e);if(t.mode in a){var r=a[t.mode];if(r)return r}return""}};var i=n(e("./getTheme"))},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","./getTheme":"2v6vk"}],"2o0P5":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=i(e("@babel/runtime/helpers/classCallCheck")),o=i(e("@babel/runtime/helpers/createClass")),u=i(e("@babel/runtime/helpers/assertThisInitialized")),l=i(e("@babel/runtime/helpers/inherits")),s=i(e("@babel/runtime/helpers/possibleConstructorReturn")),c=i(e("@babel/runtime/helpers/getPrototypeOf")),d=i(e("@babel/runtime/helpers/taggedTemplateLiteral")),p=i(e("@babel/runtime/helpers/defineProperty")),f=n(e("react")),b=i(e("prop-types")),h=n(e("styled-components")),m=i(e("exenv")),v=n(e("../colors")),y=e("../constants"),g=i(e("./Theme"));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}function k(){var e=(0,d.default)(["\n  background-color: ",";\n  color: ",";\n\n  a {\n    color: ",";\n  }\n  a:hover {\n    color: ",";\n  }\n  a:active {\n    color: ",";\n  }\n  a:focus {\n    outline-color: ",";\n  }\n  h1 {\n    color: ",";\n  }\n  h2 {\n    color: ",";\n  }\n  h3 {\n    color: ",";\n  }\n  h4 {\n    color: ",";\n  }\n  h5 {\n    color: ",";\n  }\n  h6 {\n    color: ",";\n  }\n  small {\n    color: ",";\n  }\n"]);return k=function(){return e},e}function w(e){return"\n    body { background: ".concat(e,"; }\n  ")}function O(e){return{theme:(0,p.default)({},y.CHANNEL,{mode:e})}}var x=h.default.div(k(),(function(e){return e.background}),v.text,v.link,v.linkHover,v.linkActive,v.linkOutline,v.heading,v.heading,v.heading,v.heading,v.heading,v.subtleHeading,v.subtleText),C=function(e){(0,l.default)(r,e);var t=E(r);function r(e){var n;return(0,a.default)(this,r),n=t.call(this,e),(0,p.default)((0,u.default)(n),"getThemeMode",(function(){return{mode:n.state.theme[y.CHANNEL].mode}})),n.state=O(e.mode),n}return(0,o.default)(r,[{key:"getChildContext",value:function(){return{hasAtlaskitThemeProvider:!0}}},{key:"UNSAFE_componentWillMount",value:function(){if(!this.context.hasAtlaskitThemeProvider&&m.default.canUseDOM){var e=w(this.props.background(this.state));this.stylesheet=document.createElement("style"),this.stylesheet.type="text/css",this.stylesheet.innerHTML=e,document&&document.head&&document.head.appendChild(this.stylesheet)}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.mode!==this.props.mode){var t=O(e.mode);if(this.stylesheet){var r=w(e.background(t));this.stylesheet.innerHTML=r}this.setState(t)}}},{key:"componentWillUnmount",value:function(){this.stylesheet&&document&&document.head&&(document.head.removeChild(this.stylesheet),delete this.stylesheet)}},{key:"render",value:function(){var e=this.props.children,t=this.state.theme;return f.default.createElement(g.default.Provider,{value:this.getThemeMode},f.default.createElement(h.ThemeProvider,{theme:t},f.default.createElement(x,{background:this.props.background},e)))}}]),r}(f.Component);r.default=C,(0,p.default)(C,"defaultProps",{mode:y.DEFAULT_THEME_MODE,background:v.background}),(0,p.default)(C,"childContextTypes",{hasAtlaskitThemeProvider:b.default.bool}),(0,p.default)(C,"contextTypes",{hasAtlaskitThemeProvider:b.default.bool})},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/assertThisInitialized":"4YOil","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw","@babel/runtime/helpers/taggedTemplateLiteral":"3h9Bz","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","prop-types":"3clGO","styled-components":"3zU0W",exenv:"2edb2","../colors":"7iJNZ","../constants":"kmcF0","./Theme":"36iiU"}],"7iJNZ":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.DN600A=r.DN700A=r.DN800A=r.DN0=r.DN10=r.DN20=r.DN30=r.DN40=r.DN50=r.DN60=r.DN70=r.DN80=r.DN90=r.DN100=r.DN200=r.DN300=r.DN400=r.DN500=r.DN600=r.DN700=r.DN800=r.DN900=r.N800A=r.N700A=r.N600A=r.N500A=r.N400A=r.N300A=r.N200A=r.N100A=r.N90A=r.N80A=r.N70A=r.N60A=r.N50A=r.N40A=r.N30A=r.N20A=r.N10A=r.N900=r.N800=r.N700=r.N600=r.N500=r.N400=r.N300=r.N200=r.N100=r.N90=r.N80=r.N70=r.N60=r.N50=r.N40=r.N30=r.N20=r.N10=r.N0=r.T500=r.T400=r.T300=r.T200=r.T100=r.T75=r.T50=r.P500=r.P400=r.P300=r.P200=r.P100=r.P75=r.P50=r.B500=r.B400=r.B300=r.B200=r.B100=r.B75=r.B50=r.G500=r.G400=r.G300=r.G200=r.G100=r.G75=r.G50=r.Y500=r.Y400=r.Y300=r.Y200=r.Y100=r.Y75=r.Y50=r.R500=r.R400=r.R300=r.R200=r.R100=r.R75=r.R50=void 0,r.skeleton=r.green=r.yellow=r.red=r.purple=r.teal=r.blue=r.primary=r.linkOutline=r.linkActive=r.linkHover=r.link=r.codeBlock=r.subtleHeading=r.heading=r.placeholderText=r.subtleText=r.textActive=r.textHover=r.text=r.backgroundOnLayer=r.backgroundHover=r.backgroundActive=r.background=r.DN10A=r.DN20A=r.DN30A=r.DN40A=r.DN50A=r.DN60A=r.DN70A=r.DN80A=r.DN90A=r.DN100A=r.DN200A=r.DN300A=r.DN400A=r.DN500A=void 0;var i=n(e("./utils/themed"));r.R50="#FFEBE6";r.R75="#FFBDAD";r.R100="#FF8F73";r.R200="#FF7452";var a="#FF5630";r.R300=a;r.R400="#DE350B";r.R500="#BF2600";r.Y50="#FFFAE6";r.Y75="#FFF0B3";r.Y100="#FFE380";r.Y200="#FFC400";var o="#FFAB00";r.Y300=o;r.Y400="#FF991F";r.Y500="#FF8B00";r.G50="#E3FCEF";r.G75="#ABF5D1";r.G100="#79F2C0";r.G200="#57D9A3";var u="#36B37E";r.G300=u;r.G400="#00875A";r.G500="#006644";var l="#DEEBFF";r.B50=l;var s="#B3D4FF";r.B75=s;var c="#4C9AFF";r.B100=c;var d="#2684FF";r.B200=d;var p="#0065FF";r.B300=p;var f="#0052CC";r.B400=f;var b="#0747A6";r.B500=b;r.P50="#EAE6FF";r.P75="#C0B6F2";var h="#998DD9";r.P100=h;r.P200="#8777D9";var m="#6554C0";r.P300=m;r.P400="#5243AA";r.P500="#403294";r.T50="#E6FCFF";r.T75="#B3F5FF";r.T100="#79E2F2";var v="#00C7E6";r.T200=v;var y="#00B8D9";r.T300=y;r.T400="#00A3BF";r.T500="#008DA6";var g="#FFFFFF";r.N0=g;r.N10="#FAFBFC";var E="#F4F5F7";r.N20=E;var k="#EBECF0";r.N30=k;r.N40="#DFE1E6";r.N50="#C1C7D0";r.N60="#B3BAC5";r.N70="#A5ADBA";r.N80="#97A0AF";r.N90="#8993A4";var w="#7A869A";r.N100=w;var O="#6B778C";r.N200=O;r.N300="#5E6C84";r.N400="#505F79";r.N500="#42526E";r.N600="#344563";r.N700="#253858";var x="#172B4D";r.N800=x;var C="#091E42";r.N900=C;r.N10A="rgba(9, 30, 66, 0.02)";var P="rgba(9, 30, 66, 0.04)";r.N20A=P;r.N30A="rgba(9, 30, 66, 0.08)";r.N40A="rgba(9, 30, 66, 0.13)";r.N50A="rgba(9, 30, 66, 0.25)";r.N60A="rgba(9, 30, 66, 0.31)";r.N70A="rgba(9, 30, 66, 0.36)";r.N80A="rgba(9, 30, 66, 0.42)";r.N90A="rgba(9, 30, 66, 0.48)";r.N100A="rgba(9, 30, 66, 0.54)";r.N200A="rgba(9, 30, 66, 0.60)";r.N300A="rgba(9, 30, 66, 0.66)";r.N400A="rgba(9, 30, 66, 0.71)";r.N500A="rgba(9, 30, 66, 0.77)";r.N600A="rgba(9, 30, 66, 0.82)";r.N700A="rgba(9, 30, 66, 0.89)";r.N800A="rgba(9, 30, 66, 0.95)";r.DN900="#E6EDFA";r.DN800="#DCE5F5";r.DN700="#CED9EB";var S="#B8C7E0";r.DN600=S;r.DN500="#ABBBD6";r.DN400="#9FB0CC";var A="#8C9CB8";r.DN300=A;var T="#7988A3";r.DN200=T;r.DN100="#67758F";r.DN90="#56637A";r.DN80="#455166";var R="#3B475C";r.DN70=R;r.DN60="#313D52";var D="#283447";r.DN50=D;r.DN40="#202B3D";var j="#1B2638";r.DN30=j;r.DN20="#121A29";r.DN10="#0E1624";r.DN0="#0D1424";r.DN800A="rgba(13, 20, 36, 0.06)";r.DN700A="rgba(13, 20, 36, 0.14)";r.DN600A="rgba(13, 20, 36, 0.18)";r.DN500A="rgba(13, 20, 36, 0.29)";r.DN400A="rgba(13, 20, 36, 0.36)";r.DN300A="rgba(13, 20, 36, 0.40)";r.DN200A="rgba(13, 20, 36, 0.47)";r.DN100A="rgba(13, 20, 36, 0.53)";r.DN90A="rgba(13, 20, 36, 0.63)";r.DN80A="rgba(13, 20, 36, 0.73)";r.DN70A="rgba(13, 20, 36, 0.78)";r.DN60A="rgba(13, 20, 36, 0.81)";r.DN50A="rgba(13, 20, 36, 0.85)";r.DN40A="rgba(13, 20, 36, 0.89)";r.DN30A="rgba(13, 20, 36, 0.92)";r.DN20A="rgba(13, 20, 36, 0.95)";r.DN10A="rgba(13, 20, 36, 0.97)";var _=(0,i.default)({light:g,dark:j});r.background=_;var F=(0,i.default)({light:l,dark:s});r.backgroundActive=F;var M=(0,i.default)({light:k,dark:R});r.backgroundHover=M;var B=(0,i.default)({light:g,dark:D});r.backgroundOnLayer=B;var N=(0,i.default)({light:C,dark:S});r.text=N;var I=(0,i.default)({light:x,dark:S});r.textHover=I;var L=(0,i.default)({light:f,dark:f});r.textActive=L;var q=(0,i.default)({light:O,dark:A});r.subtleText=q;var U=(0,i.default)({light:w,dark:T});r.placeholderText=U;var z=(0,i.default)({light:x,dark:S});r.heading=z;var H=(0,i.default)({light:O,dark:A});r.subtleHeading=H;var W=(0,i.default)({light:E,dark:D});r.codeBlock=W;var G=(0,i.default)({light:f,dark:c});r.link=G;var V=(0,i.default)({light:p,dark:d});r.linkHover=V;var K=(0,i.default)({light:b,dark:c});r.linkActive=K;var Y=(0,i.default)({light:c,dark:d});r.linkOutline=Y;var X=(0,i.default)({light:f,dark:c});r.primary=X;var Z=(0,i.default)({light:f,dark:c});r.blue=Z;var J=(0,i.default)({light:y,dark:v});r.teal=J;var Q=(0,i.default)({light:m,dark:h});r.purple=Q;var $=(0,i.default)({light:a,dark:a});r.red=$;var ee=(0,i.default)({light:o,dark:o});r.yellow=ee;var te=(0,i.default)({light:u,dark:u});r.green=te;r.skeleton=function(){return P}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","./utils/themed":"Rkmkc"}],kmcF0:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.skeletonShimmer=r.assistive=r.visuallyHidden=r.layers=r.noFocusRing=r.focusRing=r.codeFontFamily=r.fontFamily=r.fontSizeSmall=r.fontSize=r.gridSize=r.borderRadius=r.THEME_MODES=r.DEFAULT_THEME_MODE=r.CHANNEL=r.FLATTENED=void 0;var i=n(e("@babel/runtime/helpers/taggedTemplateLiteral")),a=e("styled-components"),o=e("./colors");function u(){var e=(0,i.default)(["\n  border: 0 !important;\n  clip: rect(1px, 1px, 1px, 1px) !important;\n  height: 1px !important;\n  overflow: hidden !important;\n  padding: 0 !important;\n  position: absolute !important;\n  width: 1px !important;\n  white-space: nowrap !important;\n"]);return u=function(){return e},e}r.FLATTENED="__FLATTENED__";r.CHANNEL="__ATLASKIT_THEME__";r.DEFAULT_THEME_MODE="light";r.THEME_MODES=["light","dark"];r.borderRadius=function(){return 3};var l=function(){return 8};r.gridSize=l;r.fontSize=function(){return 14};r.fontSizeSmall=function(){return 11};r.fontFamily=function(){return"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif"};r.codeFontFamily=function(){return"'SFMono-Medium', 'SF Mono', 'Segoe UI Mono', 'Roboto Mono', 'Ubuntu Mono', Menlo, Consolas, Courier, monospace"};r.focusRing=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.B100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"\n  &:focus {\n    outline: none;\n    box-shadow: 0px 0px 0px ".concat(t,"px ").concat(e,";\n  }\n")};r.noFocusRing=function(){return"\n  box-shadow: none;\n"};r.layers={card:function(){return 100},navigation:function(){return 200},dialog:function(){return 300},layer:function(){return 400},blanket:function(){return 500},modal:function(){return 510},flag:function(){return 600},spotlight:function(){return 700},tooltip:function(){return 800}};r.visuallyHidden=function(){return{border:"0 !important",clip:"rect(1px, 1px, 1px, 1px) !important",height:"1px !important",overflow:"hidden !important",padding:"0 !important",position:"absolute !important",width:"1px !important",whiteSpace:"nowrap !important"}};r.assistive=function(){return(0,a.css)(u())};r.skeletonShimmer=function(){return{css:{backgroundColor:(0,o.skeleton)(),animationDuration:"1.5s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate"},keyframes:{from:{backgroundColor:(0,o.skeleton)()},to:{backgroundColor:o.N30A}}}}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/taggedTemplateLiteral":"3h9Bz","styled-components":"3zU0W","./colors":"7iJNZ"}],"36iiU":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.useGlobalTheme=void 0;var n=(0,e("../utils/createTheme").createTheme)((function(){return{mode:"light"}})),i=n.Provider,a=n.Consumer,o=n.useTheme;r.useGlobalTheme=function(){return o()};var u={Provider:i,Consumer:a};r.default=u},{"../utils/createTheme":"25nhl"}],"25nhl":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.createTheme=function(e){var t=function(e,t){return e(t)},r=(0,o.createContext)(e);function n(e){return((0,o.useContext)(r)||t)(e)}return{Consumer:function(e){var t=e.children,r=n((0,a.default)(e,["children"]));return o.default.createElement(o.default.Fragment,null,t(r))},Provider:function(e){var n=(0,o.useContext)(r),i=e.value||t,a=(0,o.useCallback)((function(e){return i(n,e)}),[n,i]);return o.default.createElement(r.Provider,{value:a},e.children)},useTheme:n}};var a=i(e("@babel/runtime/helpers/objectWithoutProperties")),o=n(e("react"))},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/objectWithoutProperties":"2CLk9",react:"28H6D"}],"3QlaK":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/defineProperty")),a=n(e("@babel/runtime/helpers/typeof"));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}r.default=function(e){var t=e.children,r=e.props,n=e.theme,u="object"===(0,a.default)(r)?"default":r,l="object"===(0,a.default)(r)?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r):{};return Object.keys(n).forEach((function(e){e in l||(l[e]=n[e]({appearance:u}))})),t(l)}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/defineProperty":"5MCal","@babel/runtime/helpers/typeof":"7KaB7"}],"4aMQN":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.Reset=function(e){return l.default.createElement(y.Provider,{value:e.theme},l.default.createElement(y.Consumer,null,(function(t){return l.default.createElement(v,(0,a.default)({},f(f({},t),{},{mode:void 0}),e),e.children)})))},r.ResetTheme=void 0;var a=i(e("@babel/runtime/helpers/extends")),o=i(e("@babel/runtime/helpers/defineProperty")),u=i(e("@babel/runtime/helpers/taggedTemplateLiteral")),l=i(e("react")),s=n(e("styled-components")),c=n(e("../colors")),d=e("../utils/createTheme");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(){var e=(0,u.default)(["\n    background-color: ",";\n    color: ",";\n\n    a {\n      color: ",";\n    }\n    a:hover {\n      color: ",";\n    }\n    a:active {\n      color: ",";\n    }\n    a:focus {\n      outline-color: ",";\n    }\n    h1,\n    h2,\n    h3,\n    h4,\n    h5 {\n      color: ",";\n    }\n    h6 {\n      color: ",";\n    }\n    small {\n      color: ",";\n    }\n  "]);return b=function(){return e},e}function h(){var e=(0,u.default)(["\n  ",";\n"]);return h=function(){return e},e}var m=function(e){return function(t){return t[e]||t.textColor}},v=s.default.div(h(),(function(e){return(0,s.css)(b(),e.backgroundColor,e.textColor,m("linkColor"),m("linkColorHover"),m("linkColorActive"),m("linkColorOutline"),m("headingColor"),m("subtleHeadingColor"),m("subtleTextColor"))})),y=(0,d.createTheme)((function(){return{backgroundColor:c.N0,linkColor:c.B400,linkColorHover:c.B300,linkColorActive:c.B500,linkColorOutline:c.B100,headingColor:c.N800,subtleHeadingColor:c.N200,subtleTextColor:c.N200,textColor:c.N900}}));r.ResetTheme=y},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/defineProperty":"5MCal","@babel/runtime/helpers/taggedTemplateLiteral":"3h9Bz",react:"28H6D","styled-components":"3zU0W","../colors":"7iJNZ","../utils/createTheme":"25nhl"}],"7gUCD":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.withTheme=function(e){return function(t){return a.default.createElement(o.default.Consumer,null,(function(r){return a.default.createElement(e,(0,i.default)({},t,{theme:r}))}))}};var i=n(e("@babel/runtime/helpers/extends")),a=n(e("react")),o=n(e("./components/Theme"))},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/extends":"bRbXd",react:"28H6D","./components/Theme":"36iiU"}],"1Cilb":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.CardError=void 0;var a=i(e("@babel/runtime/helpers/classCallCheck")),o=i(e("@babel/runtime/helpers/createClass")),u=i(e("@babel/runtime/helpers/inherits")),l=i(e("@babel/runtime/helpers/possibleConstructorReturn")),s=i(e("@babel/runtime/helpers/getPrototypeOf")),c=i(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),p=e("../errorIcon"),f=e("./styled"),b=e("./getDimensionsWithDefault");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var m=function(e){(0,u.default)(r,e);var t=h(r);function r(){return(0,a.default)(this,r),t.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){var e=(0,b.getDimensionsWithDefault)(this.props.dimensions);return d.default.createElement(f.Wrapper,{dimensions:e},this.icon)}},{key:"icon",get:function(){var e=this.props.size;return d.default.createElement(p.ErrorIcon,{size:e})}}]),r}(d.Component);r.CardError=m,(0,c.default)(m,"defaultProps",{size:"medium"})},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","../errorIcon":"1W1HH","./styled":"3EJHf","./getDimensionsWithDefault":"4OU1F"}],"1W1HH":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorIcon=void 0;var a=i(e("@babel/runtime/helpers/classCallCheck")),o=i(e("@babel/runtime/helpers/createClass")),u=i(e("@babel/runtime/helpers/inherits")),l=i(e("@babel/runtime/helpers/possibleConstructorReturn")),s=i(e("@babel/runtime/helpers/getPrototypeOf")),c=i(e("@babel/runtime/helpers/defineProperty")),d=n(e("react")),p=i(e("@atlaskit/icon/glyph/editor/warning")),f=e("./styled");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var h=function(e){(0,u.default)(r,e);var t=b(r);function r(){return(0,a.default)(this,r),t.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props.size;return d.default.createElement(f.ErrorIconWrapper,null,d.default.createElement(p.default,{label:"Error",size:e}))}}]),r}(d.Component);r.ErrorIcon=h,(0,c.default)(h,"defaultProps",{size:"small"})},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","@atlaskit/icon/glyph/editor/warning":"HyUV5","./styled":"kCBVn"}],HyUV5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=a(e("react")),i=a(e("@atlaskit/icon/base"));function a(e){return e&&e.__esModule?e:{default:e}}const o=e=>n.default.createElement(i.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13.31 5.343l7.359 13.17A1 1 0 0119.796 20H4.204a1 1 0 01-.873-1.488l7.36-13.169a1.5 1.5 0 012.618 0zM12 8.5a1.091 1.091 0 00-1.081 1.239l.513 3.766a.573.573 0 001.136 0l.513-3.766A1.091 1.091 0 0012 8.5zm0 8.63a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));o.displayName="EditorWarningIcon";var u=o;r.default=u},{react:"28H6D","@atlaskit/icon/base":"6KSXI"}],kCBVn:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorIconWrapper=void 0;var i=n(e("@babel/runtime/helpers/taggedTemplateLiteral"));function a(){var e=(0,i.default)(["\n  display: flex;\n  color: #ff991f;\n"]);return a=function(){return e},e}var o=n(e("styled-components")).default.div(a());r.ErrorIconWrapper=o},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/taggedTemplateLiteral":"3h9Bz","styled-components":"3zU0W"}],"1Ch1j":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getDefaultCardDimensions=r.getCardMaxWidth=r.getCardMinWidth=r.getCardMaxHeight=r.maxSquareCardDimensions=r.maxHorizontalCardDimensions=r.maxImageCardDimensions=r.minHorizontalCardDimensions=r.minSquareCardDimensions=r.minImageCardDimensions=r.minSmallCardDimensions=r.defaultSquareCardDimensions=r.defaultHorizontalCardDimensions=r.defaultImageCardDimensions=r.defaultSmallCardDimensions=void 0;r.defaultSmallCardDimensions={width:"100%",height:42};var n={width:156,height:125};r.defaultImageCardDimensions=n;var i={width:435,height:125};r.defaultHorizontalCardDimensions=i;var a={width:300,height:300};r.defaultSquareCardDimensions=a;var o={width:200,height:32};r.minSmallCardDimensions=o;var u={width:144,height:96};r.minImageCardDimensions=u;var l={width:272,height:275};r.minSquareCardDimensions=l;var s={width:400,height:125};r.minHorizontalCardDimensions=s;var c={width:480,height:360};r.maxImageCardDimensions=c;var d={width:400,height:116};r.maxHorizontalCardDimensions=d;var p={width:400,height:348};r.maxSquareCardDimensions=p;r.getCardMaxHeight=function(e){return"image"===e?c.height:"horizontal"===e?d.height:"square"===e?p.height:p.width};r.getCardMinWidth=function(e){return"image"===e?u.width:"horizontal"===e?s.width:"square"===e?l.width:o.width};r.getCardMaxWidth=function(e){return"image"===e?c.width:"horizontal"===e?d.width:p.width};r.getDefaultCardDimensions=function(e){return"image"===e?n:"square"===e?a:"horizontal"===e?i:n}},{}],"3ulZ6":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.FileCardImageView=r.FileCardImageViewBase=r.fileCardImageViewSelector=void 0;var a=i(e("@babel/runtime/helpers/classCallCheck")),o=i(e("@babel/runtime/helpers/createClass")),u=i(e("@babel/runtime/helpers/assertThisInitialized")),l=i(e("@babel/runtime/helpers/inherits")),s=i(e("@babel/runtime/helpers/possibleConstructorReturn")),c=i(e("@babel/runtime/helpers/getPrototypeOf")),d=i(e("@babel/runtime/helpers/defineProperty")),p=n(e("react")),f=e("@atlaskit/media-ui"),b=i(e("@atlaskit/icon/glyph/vid-play")),h=e("./cardOverlay"),m=e("./styled"),v=e("../../utils/lightCards/cardLoading"),y=e("../../utils/shouldDisplayImageThumbnail"),g=e("../../utils/progressBar"),E=i(e("../../utils/cardActions")),k=e("@atlaskit/analytics-next"),w=e("../../utils/analytics"),O=e("../../utils/fileAttributesContext");function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var C="media-file-card-view";r.fileCardImageViewSelector=C;var P=function(e){(0,l.default)(r,e);var t=x(r);function r(){var e;(0,a.default)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,d.default)((0,u.default)(e),"wasThumbnailDisplayed",!1),(0,d.default)((0,u.default)(e),"renderCardContents",(function(){var t=e.props,r=t.status,n=t.mediaType,i=t.fileSize;if("error"===r)return e.renderErrorContents();if("failed-processing"===r)return e.renderFailedContents();var a=""===i&&"processing"===r;return"video"===n||e.isFileCardImageReadyForDisplay||a?e.renderSuccessCardContents():e.renderLoadingContents()})),(0,d.default)((0,u.default)(e),"renderLoadingContents",(function(){return p.default.createElement("div",{className:"wrapper"},p.default.createElement("div",{className:"img-wrapper"},p.default.createElement(v.CardLoading,null)))})),(0,d.default)((0,u.default)(e),"renderErrorContents",(function(){var t=e.props,r=t.status,n=t.error,i=t.alt,a=t.mediaName,o=t.mediaType,u=t.onRetry,l=t.actions,s=t.fileSize;return p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{className:"wrapper"}),p.default.createElement(h.CardOverlay,{cardStatus:r,error:n,persistent:!0,mediaName:a,mediaType:o,alt:i,onRetry:u,subtitle:s,actions:l}))})),(0,d.default)((0,u.default)(e),"renderFailedContents",(function(){var t=e.props,r=t.status,n=t.mediaName,i=t.mediaType,a=t.actions,o=t.fileSize;return p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{className:"wrapper"}),p.default.createElement(h.CardOverlay,{cardStatus:r,noHover:!0,persistent:!0,mediaName:n,mediaType:i,subtitle:o,actions:a}))})),(0,d.default)((0,u.default)(e),"renderUploadingCardOverlay",(function(){var t=e.props,r=t.status,n=t.mediaName,i=t.mediaType,a=t.dataURI,o=t.selectable,u=t.selected,l="doc"===i||!a;return p.default.createElement(h.CardOverlay,{cardStatus:r,persistent:l,mediaName:n,selectable:o,selected:u})})),(0,d.default)((0,u.default)(e),"renderPlayButton",(function(){var t=e.props,r=t.status,n=t.mediaItemType,i=t.mediaType,a=t.mimeType,o=t.selectable,u=t.dataURI;return"video"!==i||o&&!(0,y.shouldDisplayImageThumbnail)(r,n,u,i,a)?null:p.default.createElement(m.PlayIconWrapper,null,p.default.createElement(m.PlayIconBackground,null,p.default.createElement(b.default,{testId:"media-card-play-button",label:"play",size:"large"})))})),(0,d.default)((0,u.default)(e),"onImageLoad",(function(){var t=e.props,r=t.createAnalyticsEvent,n=t.fileAttributes;n&&e.shouldFireEvent(w.RenderEventAction.SUCCEEDED)&&(0,w.fireMediaCardEvent)((0,w.getRenderSucceededEventPayload)(n),r)})),(0,d.default)((0,u.default)(e),"onImageError",(function(){var t=e.props.fileAttributes;if(t&&e.shouldFireEvent(w.RenderEventAction.FAILED)){var r=e.props,n=r.createAnalyticsEvent,i=r.mediaItemType;"file"===i?(0,w.fireMediaCardEvent)((0,w.getRenderFailedFileUriPayload)(t),n):"external-image"===i&&(0,w.fireMediaCardEvent)((0,w.getRenderFailedExternalUriPayload)(t),n)}})),(0,d.default)((0,u.default)(e),"renderMediaImage",(function(){var t=e.props,r=t.status,n=t.mediaItemType,i=t.dataURI,a=t.mediaType,o=t.mimeType,u=t.previewOrientation,l=t.onDisplayImage,s=t.alt;return(0,y.shouldDisplayImageThumbnail)(r,n,i,a,o)?(!e.wasThumbnailDisplayed&&l&&"image"===a&&(l(),e.wasThumbnailDisplayed=!0),p.default.createElement(f.MediaImage,{dataURI:i,alt:s,crop:e.isCropped,stretch:e.isStretched,previewOrientation:u,onImageLoad:e.onImageLoad,onImageError:e.onImageError})):null})),(0,d.default)((0,u.default)(e),"shouldFireEvent",(function(t){return!e.lastAnalyticsAction||e.lastAnalyticsAction!==t})),(0,d.default)((0,u.default)(e),"renderProgressBar",(function(){var t=e.props,r=t.mediaName,n=t.progress,i=t.actions;return"uploading"!==t.status?null:p.default.createElement(m.ProgressBarWrapper,null,p.default.createElement(m.Overlay,null,p.default.createElement(m.Title,null,p.default.createElement(f.Ellipsify,{testId:"media-card-file-name",text:r||"",lines:2})),p.default.createElement(m.Body,null,p.default.createElement(m.ProgressWrapper,null,p.default.createElement(g.ProgressBar,{progress:n})),p.default.createElement(m.CardActionsWrapper,null,i?p.default.createElement(E.default,{actions:i,triggerColor:"white"}):null))))})),(0,d.default)((0,u.default)(e),"renderSuccessCardContents",(function(){var t=e.props,r=t.disableOverlay,n=t.selectable,i=t.status,a=null;return r||("uploading"===i?n&&(a=e.renderUploadingCardOverlay()):a=e.renderSuccessCardOverlay()),p.default.createElement("div",{className:"wrapper"},p.default.createElement("div",{className:"img-wrapper"},e.renderMediaImage(),e.renderProgressBar(),e.renderPlayButton()),a)})),(0,d.default)((0,u.default)(e),"renderSuccessCardOverlay",(function(){var t=e.props,r=t.status,n=t.mediaName,i=t.mediaType,a=t.fileSize,o=t.dataURI,u=t.selectable,l=t.selected,s=t.actions,c="doc"===i||!o;return p.default.createElement(h.CardOverlay,{cardStatus:r,persistent:c,mediaName:n,mediaType:i,selectable:u,selected:l,subtitle:a,actions:s})})),e}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props,t=e.disableOverlay,r=e.selectable,n=e.selected,i=e.mediaType,a=e.progress,o=e.status,u=e.mediaName;return p.default.createElement(m.Wrapper,{"data-testid":"media-file-card-view","data-test-media-name":u,"data-test-status":o,"data-test-progress":a,"data-test-selected":!!n||void 0,disableOverlay:t,selectable:r,selected:n,mediaType:i,className:C},this.renderCardContents())}},{key:"isFileCardImageReadyForDisplay",get:function(){var e=this.props,t=e.dataURI,r=e.status;return!!t||!["loading","processing"].includes(r)}},{key:"isCropped",get:function(){return"crop"===this.props.resizeMode}},{key:"isStretched",get:function(){return"stretchy-fit"===this.props.resizeMode}}]),r}(p.Component);r.FileCardImageViewBase=P,(0,d.default)(P,"defaultProps",{resizeMode:"crop",disableOverlay:!1});var S=(0,k.withAnalyticsEvents)()((0,O.withFileAttributes)(P));r.FileCardImageView=S},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/assertThisInitialized":"4YOil","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","@atlaskit/media-ui":"6QZ57","@atlaskit/icon/glyph/vid-play":"3IMM8","./cardOverlay":"38X2X","./styled":"2R1Pg","../../utils/lightCards/cardLoading":"EU3RY","../../utils/shouldDisplayImageThumbnail":"6KHKz","../../utils/progressBar":"3a46Z","../../utils/cardActions":"28cPc","@atlaskit/analytics-next":"74ERu","../../utils/analytics":"42ZYe","../../utils/fileAttributesContext":"45Yzh"}],"38X2X":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.CardOverlay=void 0;var a=i(e("@babel/runtime/helpers/classCallCheck")),o=i(e("@babel/runtime/helpers/createClass")),u=i(e("@babel/runtime/helpers/assertThisInitialized")),l=i(e("@babel/runtime/helpers/inherits")),s=i(e("@babel/runtime/helpers/possibleConstructorReturn")),c=i(e("@babel/runtime/helpers/getPrototypeOf")),d=i(e("@babel/runtime/helpers/defineProperty")),p=n(e("react")),f=i(e("classnames")),b=i(e("@atlaskit/icon/glyph/check")),h=e("@atlaskit/media-ui"),m=e("../../../utils/fileIcon"),v=e("../../../utils/errorIcon"),y=i(e("../../../utils/cardActions")),g=e("./retryButton"),E=e("./styled");function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var w=function(e){(0,l.default)(r,e);var t=k(r);function r(e){var n;return(0,a.default)(this,r),n=t.call(this,e),(0,d.default)((0,u.default)(n),"onMenuToggle",(function(e){n.setState({isMenuExpanded:e.isOpen})})),n.state={isMenuExpanded:!1},n}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props,t=e.cardStatus,r=e.error,n=e.noHover,i=e.mediaName,a=e.persistent,o=e.selected,u=e.actions,l=function(e,t,r,n){return r||!t||"uploading"===e&&!n?"":t}(t,i,r,o),s=a?void 0:"white";return p.default.createElement(E.Overlay,{hasError:!!r,noHover:n,className:this.wrapperClassNames},p.default.createElement(E.TopRow,{className:"top-row"},this.errorLine(),p.default.createElement(E.TitleWrapper,{className:"title"},l?p.default.createElement(h.Ellipsify,{testId:"media-card-file-name",text:l,lines:2}):null),this.tickBox()),p.default.createElement(E.BottomRow,{className:"bottom-row"},p.default.createElement(E.LeftColumn,null,this.bottomLeftColumn()),p.default.createElement(E.RightColumn,null,u?p.default.createElement(y.default,{actions:u,onToggle:this.onMenuToggle,triggerColor:s}):null)))}},{key:"errorLine",value:function(){var e=this.props,t=e.error,r=e.alt;return t&&p.default.createElement(p.default.Fragment,null,p.default.createElement(E.ErrorLine,null,p.default.createElement(E.ErrorMessage,null,t)),r&&p.default.createElement(E.ErrorLine,null,p.default.createElement(E.AltWrapper,null,r)))}},{key:"tickBox",value:function(){var e=this.props,t=e.selected,r=e.selectable,n=p.default.createElement(b.default,{label:"tick"}),i=(0,f.default)("tickbox",{selected:t});return r&&p.default.createElement(E.TickBox,{className:i}," ",n," ")}},{key:"bottomLeftColumn",value:function(){var e=this.props,t=e.error,r=e.onRetry;if(t)return r?p.default.createElement(E.ErrorWrapper,null,p.default.createElement(v.ErrorIcon,null),p.default.createElement(g.RetryButton,{onClick:r})):p.default.createElement(v.ErrorIcon,null);var n=this.props,i=n.mediaType,a=n.subtitle,o=n.icon,u=(0,f.default)("metadata"),l=i||o?p.default.createElement(m.FileIcon,{mediaType:i,iconUrl:o}):null,s=a?p.default.createElement(E.Subtitle,{className:"file-size"},a):null;return p.default.createElement("div",null,p.default.createElement(E.Metadata,{className:u},l,s))}},{key:"removeBtnClick",value:function(e){return function(t){t.preventDefault(),t.stopPropagation(),e()}}},{key:"wrapperClassNames",get:function(){var e=this.props,t=e.error,r=e.noHover,n=e.selectable,i=e.selected,a=e.mediaType,o=e.persistent,u=this.state.isMenuExpanded;return t?(0,f.default)("overlay",{error:t,active:u}):(0,f.default)("overlay",a,{active:u,selectable:n,selected:i,persistent:!o,noHover:r})}}]),r}(p.Component);r.CardOverlay=w,(0,d.default)(w,"defaultProps",{actions:[],mediaName:""})},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/assertThisInitialized":"4YOil","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D",classnames:"7zNS2","@atlaskit/icon/glyph/check":"6G5pZ","@atlaskit/media-ui":"6QZ57","../../../utils/fileIcon":"2pXDa","../../../utils/errorIcon":"1W1HH","../../../utils/cardActions":"28cPc","./retryButton":"22hqT","./styled":"2t0Z7"}],"2pXDa":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.FileIcon=void 0;var a=i(e("@babel/runtime/helpers/classCallCheck")),o=i(e("@babel/runtime/helpers/createClass")),u=i(e("@babel/runtime/helpers/inherits")),l=i(e("@babel/runtime/helpers/possibleConstructorReturn")),s=i(e("@babel/runtime/helpers/getPrototypeOf")),c=n(e("react")),d=e("../mediaTypeIcon"),p=e("./styled");function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var b="file-type-icon",h=function(e){(0,u.default)(r,e);var t=f(r);function r(){return(0,a.default)(this,r),t.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props,t=e.mediaType,r=e.iconUrl,n=e.style,i=t||"unknown",a=c.default.createElement(d.MediaTypeIcon,{type:t,size:"small",className:b}),o=r?c.default.createElement("img",{src:r,className:"custom-icon",alt:i}):a;return c.default.createElement(p.FileTypeIcon,{style:n,className:b},o)}}]),r}(c.Component);r.FileIcon=h},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw",react:"28H6D","../mediaTypeIcon":"1S4y5","./styled":"2Fygh"}],"1S4y5":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.MediaTypeIcon=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("react")),c=n(e("@atlaskit/icon/glyph/image")),d=n(e("@atlaskit/icon/glyph/audio")),p=n(e("@atlaskit/icon/glyph/media-services/zip")),f=n(e("@atlaskit/icon/glyph/media-services/video")),b=n(e("@atlaskit/icon/glyph/document")),h=n(e("@atlaskit/icon/glyph/page")),m=e("./styled");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var y={image:c.default,audio:d.default,video:f.default,doc:b.default,unknown:h.default,archive:p.default},g=function(e){(0,o.default)(r,e);var t=v(r);function r(){return(0,i.default)(this,r),t.apply(this,arguments)}return(0,a.default)(r,[{key:"render",value:function(){var e=this.props,t=e.type,r=e.size,n=void 0===r?"small":r,i=e.className,a=t&&y[t]||y.unknown;return s.default.createElement(m.IconWrapper,{type:t||"unknown"},s.default.createElement(a,{label:"media-type",size:n,className:i}))}}]),r}(s.default.Component);r.MediaTypeIcon=g},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw",react:"28H6D","@atlaskit/icon/glyph/image":"7iHmP","@atlaskit/icon/glyph/audio":"5aLq9","@atlaskit/icon/glyph/media-services/zip":"3adUI","@atlaskit/icon/glyph/media-services/video":"6N3NB","@atlaskit/icon/glyph/document":"6EK5d","@atlaskit/icon/glyph/page":"7dciD","./styled":"60jBT"}],"5aLq9":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=a(e("react")),i=a(e("@atlaskit/icon/base"));function a(e){return e&&e.__esModule?e:{default:e}}const o=e=>n.default.createElement(i.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M19 6.673V15.2a2.8 2.8 0 01-2.8 2.8h-.4a2.8 2.8 0 01-2.8-2.8v-.4a2.8 2.8 0 012.8-2.8h.4c.278 0 .547.04.8.116V8.242l-6 .621V16.2A2.8 2.8 0 018.2 19h-.4A2.8 2.8 0 015 16.2v-.4A2.8 2.8 0 017.8 13h.4c.278 0 .547.04.8.116V6.654c0-.38.31-.721.72-.764l8.56-.886c.398-.041.72.235.72.615v1.054z" fill="currentColor"/></svg>'},e));o.displayName="AudioIcon";var u=o;r.default=u},{react:"28H6D","@atlaskit/icon/base":"6KSXI"}],"60jBT":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.IconWrapper=void 0;var i=n(e("@babel/runtime/helpers/taggedTemplateLiteral")),a=n(e("styled-components")),o=e("@atlaskit/theme/colors");function u(){var e=(0,i.default)(["\n  display: inline-flex;\n  color: ",";\n"]);return u=function(){return e},e}var l={image:o.Y200,audio:o.P200,video:"#ff7143",doc:o.B300,unknown:"#3dc7dc",archive:""},s=a.default.div(u(),(function(e){var t=e.type;return l[t]||l.unknown}));r.IconWrapper=s},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/taggedTemplateLiteral":"3h9Bz","styled-components":"3zU0W","@atlaskit/theme/colors":"7iJNZ"}],"2Fygh":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.FileTypeIcon=void 0;var i=n(e("@babel/runtime/helpers/taggedTemplateLiteral")),a=n(e("styled-components")),o=e("@atlaskit/media-ui");function u(){var e=(0,i.default)(["\n  float: left;\n  margin-right: 6px;\n  position: relative;\n  top: 1px;\n  img {\n    ",";\n  }\n"]);return u=function(){return e},e}var l=a.default.div(u(),(0,o.size)("12px !important"));r.FileTypeIcon=l},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/taggedTemplateLiteral":"3h9Bz","styled-components":"3zU0W","@atlaskit/media-ui":"6QZ57"}],"28cPc":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n.CardActionsView}}),Object.defineProperty(r,"CardActionsView",{enumerable:!0,get:function(){return n.CardActionsView}}),Object.defineProperty(r,"CardActionIconButton",{enumerable:!0,get:function(){return i.CardActionIconButton}}),Object.defineProperty(r,"CardActionsDropdownMenu",{enumerable:!0,get:function(){return a.CardActionsDropdownMenu}}),Object.defineProperty(r,"CardActionIconButtonVariant",{enumerable:!0,get:function(){return o.CardActionIconButtonVariant}});var n=e("./cardActionsView"),i=e("./cardActionIconButton"),a=e("./cardActionsDropdownMenu"),o=e("./styled")},{"./cardActionsView":"7dBus","./cardActionIconButton":"36etr","./cardActionsDropdownMenu":"tUUOs","./styled":"5NvH7"}],"7dBus":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.CardActionsView=void 0;var a=i(e("@babel/runtime/helpers/classCallCheck")),o=i(e("@babel/runtime/helpers/createClass")),u=i(e("@babel/runtime/helpers/inherits")),l=i(e("@babel/runtime/helpers/possibleConstructorReturn")),s=i(e("@babel/runtime/helpers/getPrototypeOf")),c=n(e("react")),d=e("./styled"),p=e("./cardActionIconButton"),f=e("./cardActionsDropdownMenu"),b=e("../preventClickThrough"),h=e("../analytics"),m=e("@atlaskit/analytics-next");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var y=function(e){return c.default.createElement(p.CardActionIconButton,e)},g=function(e){(0,u.default)(r,e);var t=v(r);function r(){return(0,a.default)(this,r),t.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props.actions;if(!e.length)return null;var t=e.find(E),r=e.filter(k(t));return c.default.createElement(b.PreventClickThrough,null,c.default.createElement(d.Wrapper,null,t?this.renderActionIconButton(t,!0):null,this.renderOtherActionButtons(r)))}},{key:"renderActionIconButton",value:function(e,t){var r=this.props,n=r.triggerColor,i=r.variant,a=e.icon,o=e.handler,u=e.label,l=t?"mediaCardPrimaryActionButton":"mediaCardSecondaryActionButton",s=(0,m.withAnalyticsEvents)({onClick:(0,h.createAndFireMediaCardEvent)({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:l,attributes:{label:u}})})(y);return c.default.createElement(s,{icon:a,triggerColor:n,onClick:function(){return o()},variant:i})}},{key:"renderOtherActionButtons",value:function(e){if(0===e.length)return null;var t=this.props,r=t.triggerColor,n=t.onToggle,i=t.variant,a=e.find(E),o=e.filter(k(a));return a&&0===o.length?this.renderActionIconButton(a,!1):c.default.createElement(f.CardActionsDropdownMenu,{actions:e,triggerColor:r,onOpenChange:n,triggerVariant:i})}}]),r}(c.Component);function E(e){return!!e.icon}function k(e){return function(t){return t!==e}}r.CardActionsView=g},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw",react:"28H6D","./styled":"5NvH7","./cardActionIconButton":"36etr","./cardActionsDropdownMenu":"tUUOs","../preventClickThrough":"5pIUl","../analytics":"42ZYe","@atlaskit/analytics-next":"74ERu"}],"5NvH7":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.CardActionButton=r.CardActionIconButtonVariant=r.Wrapper=void 0;var i=n(e("@babel/runtime/helpers/taggedTemplateLiteral")),a=n(e("styled-components")),o=e("@atlaskit/theme/colors"),u=e("@atlaskit/media-ui"),l=e("../../styles");function s(){var e=(0,i.default)(["\n  ","\n"]);return s=function(){return e},e}function c(){var e=(0,i.default)(["\n  display: flex;\n  position: relative;\n  line-height: 0;\n"]);return c=function(){return e},e}var d,p=(0,a.default)(l.Root)(c());r.Wrapper=p,r.CardActionIconButtonVariant=d,function(e){e.default="default",e.filled="filled"}(d||(r.CardActionIconButtonVariant=d={}));var f=a.default.div(s(),(function(e){var t=e.variant;return"\n    ".concat(u.center," ").concat(u.borderRadius," ").concat((0,u.size)(26)," color: ").concat(o.N500,";\n\n    &:hover {\n      cursor: pointer;\n    }\n\n    ").concat(function(e){return"filled"===e?"\n    background: ".concat(o.N0,";\n    margin-right: 8px;\n    opacity: 0.8;\n\n    &:last-child {\n      margin-right: 0;\n    }\n\n    &:hover {\n      opacity: 0.6;\n    }\n  "):"\n    &:hover {\n      background-color: rgba(9, 30, 66, 0.06);\n    }\n  "}(t),"\n  ")}));r.CardActionButton=f},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/taggedTemplateLiteral":"3h9Bz","styled-components":"3zU0W","@atlaskit/theme/colors":"7iJNZ","@atlaskit/media-ui":"6QZ57","../../styles":"3xn5Q"}],"3xn5Q":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"defaultTransitionDuration",{enumerable:!0,get:function(){return l.defaultTransitionDuration}}),Object.defineProperty(r,"antialiased",{enumerable:!0,get:function(){return s.antialiased}}),Object.defineProperty(r,"borderRadiusLeft",{enumerable:!0,get:function(){return s.borderRadiusLeft}}),Object.defineProperty(r,"capitalize",{enumerable:!0,get:function(){return s.capitalize}}),Object.defineProperty(r,"centerSelf",{enumerable:!0,get:function(){return s.centerSelf}}),Object.defineProperty(r,"centerSelfX",{enumerable:!0,get:function(){return s.centerSelfX}}),Object.defineProperty(r,"centerSelfY",{enumerable:!0,get:function(){return s.centerSelfY}}),Object.defineProperty(r,"centerX",{enumerable:!0,get:function(){return s.centerX}}),Object.defineProperty(r,"hexToRgb",{enumerable:!0,get:function(){return s.hexToRgb}}),Object.defineProperty(r,"rgba",{enumerable:!0,get:function(){return s.rgba}}),Object.defineProperty(r,"spaceAround",{enumerable:!0,get:function(){return s.spaceAround}}),Object.defineProperty(r,"transition",{enumerable:!0,get:function(){return s.transition}}),Object.defineProperty(r,"withAppearance",{enumerable:!0,get:function(){return s.withAppearance}}),Object.defineProperty(r,"easeOutCubic",{enumerable:!0,get:function(){return c.easeOutCubic}}),Object.defineProperty(r,"easeOutExpo",{enumerable:!0,get:function(){return c.easeOutExpo}}),Object.defineProperty(r,"spin",{enumerable:!0,get:function(){return d.spin}}),r.default=r.FadeinImage=r.cardShadow=r.Root=void 0;var i=n(e("@babel/runtime/helpers/taggedTemplateLiteral")),a=n(e("styled-components")),o=e("@atlaskit/theme/constants"),u=e("@atlaskit/media-ui"),l=e("./config"),s=e("./mixins"),c=e("./easing"),d=e("./animations");function p(){var e=(0,i.default)(["\n  ",";\n"]);return p=function(){return e},e}function f(){var e=(0,i.default)(["\n  box-sizing: border-box;\n  font-family: ",";\n\n  * {\n    box-sizing: border-box;\n  }\n"]);return f=function(){return e},e}var b=a.default.div(f(),(0,o.fontFamily)());r.Root=b;r.cardShadow="\n  box-shadow: 0 1px 1px rgba(9, 30, 66, 0.2), 0 0 1px 0 rgba(9, 30, 66, 0.24);\n";var h=a.default.div(p(),u.fadeIn);r.FadeinImage=h;var m=b;r.default=m},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/taggedTemplateLiteral":"3h9Bz","styled-components":"3zU0W","@atlaskit/theme/constants":"kmcF0","@atlaskit/media-ui":"6QZ57","./config":"1foyn","./mixins":"5BgoD","./easing":"4mTk6","./animations":"2rm7G"}],"1foyn":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.defaultTransitionDuration=void 0;r.defaultTransitionDuration=".3s"},{}],"5BgoD":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.withAppearance=r.capitalize=r.rgba=r.hexToRgb=r.transition=r.spaceAround=r.borderRadiusLeft=r.centerSelf=r.centerSelfX=r.centerSelfY=r.antialiased=r.centerX=void 0;var n=e("@atlaskit/theme/constants"),i=e("./config");r.centerX="\n  display: flex;\n  justify-content: center;\n";r.antialiased="\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n";r.centerSelfY="\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n";r.centerSelfX="\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n";r.centerSelf="\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n";var a="\n  border-top-left-radius: ".concat((0,n.borderRadius)(),";\n  border-bottom-left-radius: ").concat((0,n.borderRadius)(),";\n");r.borderRadiusLeft=a;r.spaceAround="\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n";r.transition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return"\n  transition: ".concat(e," ").concat(i.defaultTransitionDuration,";\n")};var o=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?"".concat(parseInt(t[1],16),",").concat(parseInt(t[2],16),",").concat(parseInt(t[3],16)):null};r.hexToRgb=o;r.rgba=function(e,t){return"rgba(".concat(o(e),", ").concat(t,")")};r.capitalize="\n  &::first-letter {\n    text-transform: uppercase;\n  }\n";r.withAppearance=function(e){return function(t){var r=t.appearance;return r&&e[r]||""}}},{"@atlaskit/theme/constants":"kmcF0","./config":"1foyn"}],"4mTk6":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.easeOutExpo=r.easeOutCubic=void 0;r.easeOutCubic="cubic-bezier(0.215, 0.61, 0.355, 1)";r.easeOutExpo="cubic-bezier(0.19, 1, 0.22, 1)"},{}],"2rm7G":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.spin=void 0;var i=n(e("@babel/runtime/helpers/taggedTemplateLiteral"));function a(){var e=(0,i.default)(["\n  to { transform: rotate(360deg); }\n"]);return a=function(){return e},e}var o=(0,e("styled-components").keyframes)(a());r.spin=o},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/taggedTemplateLiteral":"3h9Bz","styled-components":"3zU0W"}],"36etr":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.CardActionIconButton=void 0;var a=i(e("@babel/runtime/helpers/classCallCheck")),o=i(e("@babel/runtime/helpers/createClass")),u=i(e("@babel/runtime/helpers/assertThisInitialized")),l=i(e("@babel/runtime/helpers/inherits")),s=i(e("@babel/runtime/helpers/possibleConstructorReturn")),c=i(e("@babel/runtime/helpers/getPrototypeOf")),d=i(e("@babel/runtime/helpers/defineProperty")),p=n(e("react")),f=e("./styled");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var h=function(e){(0,l.default)(r,e);var t=b(r);function r(){var e;(0,a.default)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,d.default)((0,u.default)(e),"onMouseDown",(function(e){e.preventDefault()})),e}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props,t=e.icon,r=e.triggerColor,n=e.onClick,i=e.variant;return p.default.createElement(f.CardActionButton,{"data-testid":"media-card-primary-action",onClick:n,onMouseDown:this.onMouseDown,style:{color:r},variant:i},t)}}]),r}(p.Component);r.CardActionIconButton=h},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/assertThisInitialized":"4YOil","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","./styled":"5NvH7"}],tUUOs:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.CardActionsDropdownMenu=void 0;var a=i(e("@babel/runtime/helpers/classCallCheck")),o=i(e("@babel/runtime/helpers/createClass")),u=i(e("@babel/runtime/helpers/inherits")),l=i(e("@babel/runtime/helpers/possibleConstructorReturn")),s=i(e("@babel/runtime/helpers/getPrototypeOf")),c=i(e("@babel/runtime/helpers/extends")),d=n(e("react")),p=i(e("@atlaskit/icon/glyph/more")),f=n(e("@atlaskit/dropdown-menu")),b=e("./styled"),h=e("@atlaskit/analytics-next"),m=e("../analytics");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var y=(0,h.withAnalyticsEvents)({onClick:(0,m.createAndFireMediaCardEvent)({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"mediaCardDropDownMenu",attributes:{}})})((function(e){return d.default.createElement(b.CardActionButton,e)})),g=function(e){return d.default.createElement(f.DropdownItem,(0,c.default)({"data-testid":"media-card-actions-menu-item"},e))},E=function(e,t){var r=e.label,n=e.handler,i=(0,h.withAnalyticsEvents)({onClick:(0,m.createAndFireMediaCardEvent)({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"mediaCardDropDownMenuItem",attributes:{label:r}})})(g);return d.default.createElement(i,{key:t,onClick:n},r)},k=function(e){(0,u.default)(r,e);var t=v(r);function r(){return(0,a.default)(this,r),t.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props,t=e.actions,r=e.triggerColor,n=e.onOpenChange,i=e.triggerVariant;return t.length>0?d.default.createElement(f.default,{"data-testid":"media-card-actions-menu",onOpenChange:n,trigger:d.default.createElement(y,{variant:i,style:{color:r}},d.default.createElement(p.default,{label:"more"}))},d.default.createElement(f.DropdownItemGroup,null,t.map(E))):null}}]),r}(d.Component);r.CardActionsDropdownMenu=k},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw","@babel/runtime/helpers/extends":"bRbXd",react:"28H6D","@atlaskit/icon/glyph/more":"5xNC2","@atlaskit/dropdown-menu":"6GS9r","./styled":"5NvH7","@atlaskit/analytics-next":"74ERu","../analytics":"42ZYe"}],"5xNC2":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=a(e("react")),i=a(e("@atlaskit/icon/base"));function a(e){return e&&e.__esModule?e:{default:e}}const o=e=>n.default.createElement(i.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><circle cx="5" cy="12" r="2"/><circle cx="12" cy="12" r="2"/><circle cx="19" cy="12" r="2"/></g></svg>'},e));o.displayName="MoreIcon";var u=o;r.default=u},{react:"28H6D","@atlaskit/icon/base":"6KSXI"}],"74ERu":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"AnalyticsEvent",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"UIAnalyticsEvent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"AnalyticsListener",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"AnalyticsContext",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"withAnalyticsContext",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"AnalyticsErrorBoundary",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"withAnalyticsEvents",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"AnalyticsReactContext",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"useAnalyticsEvents",{enumerable:!0,get:function(){return p.useAnalyticsEvents}}),Object.defineProperty(r,"useCallbackWithAnalytics",{enumerable:!0,get:function(){return f.useCallbackWithAnalytics}}),Object.defineProperty(r,"usePlatformLeafEventHandler",{enumerable:!0,get:function(){return b.usePlatformLeafEventHandler}}),Object.defineProperty(r,"usePlatformLeafSyntheticEventHandler",{enumerable:!0,get:function(){return h.usePlatformLeafSyntheticEventHandler}}),Object.defineProperty(r,"createAndFireEvent",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(r,"cleanProps",{enumerable:!0,get:function(){return v.default}});var i=n(e("./events/AnalyticsEvent")),a=n(e("./events/UIAnalyticsEvent")),o=n(e("./components/AnalyticsListener/index")),u=n(e("./components/AnalyticsContext/index")),l=n(e("./hocs/withAnalyticsContext")),s=n(e("./components/AnalyticsErrorBoundary")),c=n(e("./hocs/withAnalyticsEvents")),d=n(e("@atlaskit/analytics-next-stable-react-context")),p=e("./hooks/useAnalyticsEvents"),f=e("./hooks/useCallbackWithAnalytics"),b=e("./hooks/usePlatformLeafEventHandler"),h=e("./hooks/usePlatformLeafSyntheticEventHandler"),m=n(e("./utils/createAndFireEvent")),v=n(e("./utils/cleanProps"))},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","./events/AnalyticsEvent":"2gKQ5","./events/UIAnalyticsEvent":"6ShKs","./components/AnalyticsListener/index":"5DkNf","./components/AnalyticsContext/index":"7vrTw","./hocs/withAnalyticsContext":"2BnXW","./components/AnalyticsErrorBoundary":"1DyOB","./hocs/withAnalyticsEvents":"3O5nY","@atlaskit/analytics-next-stable-react-context":"GJcyG","./hooks/useAnalyticsEvents":"6NOMx","./hooks/useCallbackWithAnalytics":"7Mvn9","./hooks/usePlatformLeafEventHandler":"5ig36","./hooks/usePlatformLeafSyntheticEventHandler":"6w5Er","./utils/createAndFireEvent":"2rOBl","./utils/cleanProps":"2gzVV"}],"2gKQ5":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/typeof")),a=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),u=n(e("@babel/runtime/helpers/defineProperty"));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(){function e(t){var r=this;(0,a.default)(this,e),(0,u.default)(this,"clone",(function(){return new e({payload:s({},r.payload)})})),this.payload=t.payload}return(0,o.default)(e,[{key:"update",value:function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"===(0,i.default)(e)&&(this.payload=s(s({},this.payload),e)),this}}]),e}();r.default=c},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/typeof":"7KaB7","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/defineProperty":"5MCal"}],"6ShKs":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/toConsumableArray")),a=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),u=n(e("@babel/runtime/helpers/assertThisInitialized")),l=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/possibleConstructorReturn")),d=n(e("@babel/runtime/helpers/getPrototypeOf")),p=n(e("@babel/runtime/helpers/defineProperty"));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}var b=function(e){(0,s.default)(r,e);var t=f(r);function r(e){var n;return(0,a.default)(this,r),n=t.call(this,e),(0,p.default)((0,u.default)(n),"clone",(function(){return n.hasFired?null:new r({context:(0,i.default)(n.context),handlers:(0,i.default)(n.handlers),payload:JSON.parse(JSON.stringify(n.payload))})})),(0,p.default)((0,u.default)(n),"fire",(function(e){n.hasFired||(n.handlers.forEach((function(t){return t((0,u.default)(n),e)})),n.hasFired=!0)})),n.context=e.context||[],n.handlers=e.handlers||[],n.hasFired=!1,n}return(0,o.default)(r,[{key:"update",value:function(e){return this.hasFired?this:(0,l.default)((0,d.default)(r.prototype),"update",this).call(this,e)}}]),r}(n(e("./AnalyticsEvent")).default);r.default=b},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/toConsumableArray":"7nvTJ","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/assertThisInitialized":"4YOil","@babel/runtime/helpers/get":"5MhC6","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw","@babel/runtime/helpers/defineProperty":"5MCal","./AnalyticsEvent":"2gKQ5"}],"5DkNf":[function(e,t,r){"use strict";e("process");var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("./LegacyAnalyticsListener")),a=(n(e("./ModernAnalyticsListener")),i.default);r.default=a},{process:"2uau6","@babel/runtime/helpers/interopRequireDefault":"3lav5","./LegacyAnalyticsListener":"24ize","./ModernAnalyticsListener":"5uh9n"}],"24ize":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=i(e("@babel/runtime/helpers/toConsumableArray")),o=i(e("@babel/runtime/helpers/classCallCheck")),u=i(e("@babel/runtime/helpers/createClass")),l=i(e("@babel/runtime/helpers/assertThisInitialized")),s=i(e("@babel/runtime/helpers/inherits")),c=i(e("@babel/runtime/helpers/possibleConstructorReturn")),d=i(e("@babel/runtime/helpers/getPrototypeOf")),p=i(e("@babel/runtime/helpers/defineProperty")),f=n(e("react")),b=i(e("prop-types")),h=i(e("@atlaskit/analytics-next-stable-react-context"));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}var v={getAtlaskitAnalyticsEventHandlers:b.default.func,getAtlaskitAnalyticsContext:b.default.func},y=function(){return[]},g=function(e){(0,s.default)(r,e);var t=m(r);function r(e){var n;return(0,o.default)(this,r),n=t.call(this,e),(0,p.default)((0,l.default)(n),"getChildContext",(function(){return{getAtlaskitAnalyticsEventHandlers:n.getAnalyticsEventHandlers,getAtlaskitAnalyticsContext:n.getAtlaskitAnalyticsContext}})),(0,p.default)((0,l.default)(n),"getAnalyticsEventHandlers",(function(){var e=n.props,t=e.channel,r=e.onEvent,i=n.context.getAtlaskitAnalyticsEventHandlers,o=void 0===i?y:i;return[function(e,n){"*"!==t&&t!==n||r(e,n)}].concat((0,a.default)(o()))})),(0,p.default)((0,l.default)(n),"getAtlaskitAnalyticsContext",(function(){var e=n.context.getAtlaskitAnalyticsContext;return(void 0===e?y:e)()})),n.contextValue={getAtlaskitAnalyticsContext:n.getAtlaskitAnalyticsContext,getAtlaskitAnalyticsEventHandlers:n.getAnalyticsEventHandlers},n}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props.children;return f.default.createElement(h.default.Provider,{value:this.contextValue},e)}}]),r}(f.Component);(0,p.default)(g,"contextTypes",v),(0,p.default)(g,"childContextTypes",v);var E=g;r.default=E},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/toConsumableArray":"7nvTJ","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/assertThisInitialized":"4YOil","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","prop-types":"3clGO","@atlaskit/analytics-next-stable-react-context":"GJcyG"}],"5uh9n":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=i(e("@babel/runtime/helpers/toConsumableArray")),o=n(e("react")),u=i(e("@atlaskit/analytics-next-stable-react-context")),l=e("../../hooks/useAnalyticsContext"),s=e("../../hooks/useTrackedRef"),c=function(e){var t=e.children,r=e.channel,n=e.onEvent,i=(0,l.useAnalyticsContext)(),c=(0,s.useTrackedRef)(n),d=(0,s.useTrackedRef)(r),p=(0,o.useCallback)((function(){return[].concat((0,a.default)(i.getAtlaskitAnalyticsEventHandlers()),[function(e,t){"*"!==d.current&&d.current!==t||c.current(e,t)}])}),[i,d,c]),f=(0,o.useMemo)((function(){return{getAtlaskitAnalyticsEventHandlers:p,getAtlaskitAnalyticsContext:i.getAtlaskitAnalyticsContext}}),[i,p]);return o.default.createElement(u.default.Provider,{value:f},t)};r.default=c},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/toConsumableArray":"7nvTJ",react:"28H6D","@atlaskit/analytics-next-stable-react-context":"GJcyG","../../hooks/useAnalyticsContext":"7LHae","../../hooks/useTrackedRef":"42e1A"}],"7LHae":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.useAnalyticsContext=void 0;var i=e("react"),a=n(e("@atlaskit/analytics-next-stable-react-context"));r.useAnalyticsContext=function(){return(0,i.useContext)(a.default)}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5",react:"28H6D","@atlaskit/analytics-next-stable-react-context":"GJcyG"}],"42e1A":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.useTrackedRef=void 0;var n=e("react");r.useTrackedRef=function(e){var t=(0,n.useRef)(e);return(0,n.useEffect)((function(){t.current=e}),[e]),t}},{react:"28H6D"}],"7vrTw":[function(e,t,r){"use strict";e("process");var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("./LegacyAnalyticsContext")),a=(n(e("./ModernAnalyticsContext")),i.default);r.default=a},{process:"2uau6","@babel/runtime/helpers/interopRequireDefault":"3lav5","./LegacyAnalyticsContext":"5dTux","./ModernAnalyticsContext":"2KwzN"}],"5dTux":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=i(e("@babel/runtime/helpers/toConsumableArray")),o=i(e("@babel/runtime/helpers/classCallCheck")),u=i(e("@babel/runtime/helpers/createClass")),l=i(e("@babel/runtime/helpers/assertThisInitialized")),s=i(e("@babel/runtime/helpers/inherits")),c=i(e("@babel/runtime/helpers/possibleConstructorReturn")),d=i(e("@babel/runtime/helpers/getPrototypeOf")),p=i(e("@babel/runtime/helpers/defineProperty")),f=n(e("react")),b=i(e("prop-types")),h=i(e("@atlaskit/analytics-next-stable-react-context"));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}var v={getAtlaskitAnalyticsContext:b.default.func,getAtlaskitAnalyticsEventHandlers:b.default.func},y=function(){return[]},g=function(e){(0,s.default)(r,e);var t=m(r);function r(e){var n;return(0,o.default)(this,r),n=t.call(this,e),(0,p.default)((0,l.default)(n),"getChildContext",(function(){return{getAtlaskitAnalyticsContext:n.getAnalyticsContext}})),(0,p.default)((0,l.default)(n),"getAnalyticsContext",(function(){var e=n.props.data,t=n.context.getAtlaskitAnalyticsContext,r=void 0===t?y:t;return[].concat((0,a.default)(r()),[e])})),(0,p.default)((0,l.default)(n),"getAnalyticsEventHandlers",(function(){var e=n.context.getAtlaskitAnalyticsEventHandlers;return(void 0===e?y:e)()})),n.contextValue={getAtlaskitAnalyticsContext:n.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:n.getAnalyticsEventHandlers},n}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props.children;return f.default.createElement(h.default.Provider,{value:this.contextValue},e)}}]),r}(f.Component);(0,p.default)(g,"contextTypes",v),(0,p.default)(g,"childContextTypes",v);var E=g;r.default=E},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/toConsumableArray":"7nvTJ","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/assertThisInitialized":"4YOil","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","prop-types":"3clGO","@atlaskit/analytics-next-stable-react-context":"GJcyG"}],"2KwzN":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=i(e("@babel/runtime/helpers/toConsumableArray")),o=n(e("react")),u=i(e("@atlaskit/analytics-next-stable-react-context")),l=e("../../hooks/useAnalyticsContext"),s=e("../../hooks/useTrackedRef"),c=function(e){var t=e.data,r=e.children,n=(0,s.useTrackedRef)(t),i=(0,l.useAnalyticsContext)(),c=(0,o.useCallback)((function(){return[].concat((0,a.default)(i.getAtlaskitAnalyticsContext()),[n.current])}),[i,n]),d=(0,o.useMemo)((function(){return{getAtlaskitAnalyticsContext:c,getAtlaskitAnalyticsEventHandlers:i.getAtlaskitAnalyticsEventHandlers}}),[i,c]);return o.default.createElement(u.default.Provider,{value:d},r)};r.default=c},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/toConsumableArray":"7nvTJ",react:"28H6D","@atlaskit/analytics-next-stable-react-context":"GJcyG","../../hooks/useAnalyticsContext":"7LHae","../../hooks/useTrackedRef":"42e1A"}],"2BnXW":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=i(e("@babel/runtime/helpers/extends")),o=i(e("@babel/runtime/helpers/defineProperty")),u=i(e("@babel/runtime/helpers/objectWithoutProperties")),l=n(e("react")),s=i(e("../components/AnalyticsContext"));function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){return function(t){var r=(0,l.forwardRef)((function(r,n){var i=r.analyticsContext,o=(0,u.default)(r,["analyticsContext"]),c=(0,l.useMemo)((function(){return d(d({},e),i)}),[i]);return l.default.createElement(s.default,{data:c},l.default.createElement(t,(0,a.default)({},o,{ref:n})))}));return r.displayName="WithAnalyticsContext(".concat(t.displayName||t.name,")"),r}};r.default=p},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/defineProperty":"5MCal","@babel/runtime/helpers/objectWithoutProperties":"2CLk9",react:"28H6D","../components/AnalyticsContext":"7vrTw"}],"1DyOB":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseAnalyticsErrorBoundary=void 0;var a=i(e("@babel/runtime/helpers/classCallCheck")),o=i(e("@babel/runtime/helpers/createClass")),u=i(e("@babel/runtime/helpers/assertThisInitialized")),l=i(e("@babel/runtime/helpers/inherits")),s=i(e("@babel/runtime/helpers/possibleConstructorReturn")),c=i(e("@babel/runtime/helpers/getPrototypeOf")),d=i(e("@babel/runtime/helpers/defineProperty")),p=n(e("react")),f=i(e("../hocs/withAnalyticsEvents")),b=i(e("./AnalyticsContext/LegacyAnalyticsContext"));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,d.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var y=function(e){(0,l.default)(r,e);var t=v(r);function r(){var e;(0,a.default)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,d.default)((0,u.default)(e),"fireAnalytics",(function(t){var r=e.props,n=r.createAnalyticsEvent,i=r.channel,a=r.data;n({action:"UnhandledError",eventType:"ui",attributes:m(m({browserInfo:window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"unknown"},a),t)}).fire(i)})),e}return(0,o.default)(r,[{key:"componentDidCatch",value:function(e,t){var r={error:e,info:t};this.fireAnalytics(r)}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.children;return p.default.createElement(b.default,{data:t},r)}}]),r}(p.Component);r.BaseAnalyticsErrorBoundary=y;var g=(0,f.default)()(y);r.default=g},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/assertThisInitialized":"4YOil","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","../hocs/withAnalyticsEvents":"3O5nY","./AnalyticsContext/LegacyAnalyticsContext":"5dTux"}],"3O5nY":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=i(e("@babel/runtime/helpers/extends")),o=n(e("react")),u=e("../hooks/useAnalyticsEvents"),l=e("../hooks/usePatchedProps"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var r=(0,o.forwardRef)((function(r,n){var i=(0,l.usePatchedProps)(e,r).patchedEventProps,s=(0,u.useAnalyticsEvents)().createAnalyticsEvent;return o.default.createElement(t,(0,a.default)({},r,i,{createAnalyticsEvent:s,ref:n}))}));return r.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),r}};r.default=s},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/extends":"bRbXd",react:"28H6D","../hooks/useAnalyticsEvents":"6NOMx","../hooks/usePatchedProps":"nRjVw"}],"6NOMx":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.useAnalyticsEvents=function(){var e=(0,o.useAnalyticsContext)();return{createAnalyticsEvent:(0,i.useCallbackOne)((function(t){return new a.default({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}};var i=e("use-memo-one"),a=n(e("../events/UIAnalyticsEvent")),o=e("./useAnalyticsContext")},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","use-memo-one":"7KjvS","../events/UIAnalyticsEvent":"6ShKs","./useAnalyticsContext":"7LHae"}],nRjVw:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.usePatchedProps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=(0,u.useAnalyticsEvents)(),n=r.createAnalyticsEvent,l=(0,o.useMemo)((function(){return Object.keys(e).reduce((function(r,o){var u=e[o];if(!["object","function"].includes((0,a.default)(u)))return r;var l=t[o],c=function(){var e="function"==typeof u?u(n,t):n(u);if(l&&"function"==typeof l){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];l.apply(void 0,i.concat([e]))}};return c?s(s({},r),{},(0,i.default)({},o,c)):r}),{})}),[e,t,n]);return{patchedEventProps:l}};var i=n(e("@babel/runtime/helpers/defineProperty")),a=n(e("@babel/runtime/helpers/typeof")),o=e("react"),u=e("./useAnalyticsEvents");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/defineProperty":"5MCal","@babel/runtime/helpers/typeof":"7KaB7",react:"28H6D","./useAnalyticsEvents":"6NOMx"}],"7Mvn9":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.useCallbackWithAnalytics=void 0;var n=e("react"),i=e("./useAnalyticsEvents"),a=e("./useTrackedRef");r.useCallbackWithAnalytics=function(e,t,r){var o=(0,i.useAnalyticsEvents)().createAnalyticsEvent,u=(0,a.useTrackedRef)(e),l=(0,a.useTrackedRef)(t);return(0,n.useCallback)((function(){var e="function"==typeof l.current?l.current.apply(l,arguments):l.current;o(e).fire(r),u.current.apply(u,arguments)}),[o,u,l,r])}},{react:"28H6D","./useAnalyticsEvents":"6NOMx","./useTrackedRef":"42e1A"}],"5ig36":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.usePlatformLeafEventHandler=function(e){var t=e.fn,r=e.action,n=e.componentName,s=e.packageName,c=e.packageVersion,d=e.analyticsData,p=(0,o.useAnalyticsEvents)().createAnalyticsEvent,f=(0,u.useTrackedRef)(d),b=(0,u.useTrackedRef)(t);return(0,a.useCallback)((function(e){var t=p({action:r,actionSubject:n,attributes:{componentName:n,packageName:s,packageVersion:c}}),a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({componentName:n,packageName:s,packageVersion:c},f.current);t.context.push(a);var o=t.clone();o&&o.fire("atlaskit"),b.current(e,t)}),[r,n,s,c,p,f,b])};var i=n(e("@babel/runtime/helpers/defineProperty")),a=e("react"),o=e("./useAnalyticsEvents"),u=e("./useTrackedRef");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","./useAnalyticsEvents":"6NOMx","./useTrackedRef":"42e1A"}],"6w5Er":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.usePlatformLeafSyntheticEventHandler=function(e){var t=e.fn,r=e.action,n=e.componentName,s=e.packageName,c=e.packageVersion,d=e.analyticsData,p=(0,o.useAnalyticsEvents)().createAnalyticsEvent,f=(0,u.useTrackedRef)(d),b=(0,u.useTrackedRef)(t);return(0,a.useCallback)((function(){var e=p({action:r,actionSubject:n,attributes:{componentName:n,packageName:s,packageVersion:c}}),t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({componentName:n,packageName:s,packageVersion:c},f.current);e.context.push(t);var a=e.clone();a&&a.fire("atlaskit"),b.current(e)}),[r,n,s,c,p,f,b])};var i=n(e("@babel/runtime/helpers/defineProperty")),a=e("react"),o=e("./useAnalyticsEvents"),u=e("./useTrackedRef");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","./useAnalyticsEvents":"6NOMx","./useTrackedRef":"42e1A"}],"2rOBl":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=function(e){return function(t){return function(r){var n=r(t),i=n.clone();return i&&i.fire(e),n}}}},{}],"2gzVV":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){e.createAnalyticsEvent;return(0,i.default)(e,["createAnalyticsEvent"])};var i=n(e("@babel/runtime/helpers/objectWithoutProperties"))},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/objectWithoutProperties":"2CLk9"}],"42ZYe":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.fireMediaCardEvent=function(e,t){if(t){t(e).fire(a.ANALYTICS_MEDIA_CHANNEL)}},r.createAndFireMediaCardEvent=r.getCopiedFilePayload=r.getRenderFailedFileStatusPayload=r.getRenderErrorEventPayload=r.getRenderErrorRequestMetadata=r.getRenderErrorErrorDetail=r.getRenderErrorErrorReason=r.getRenderErrorFailReason=r.getRenderFailedExternalUriPayload=r.getRenderFailedFileUriPayload=r.getFailedFileUriFailReason=r.getRenderSucceededEventPayload=r.getRenderCommencedEventPayload=r.getFileAttributes=r.RenderEventAction=void 0;var n,i=e("@atlaskit/media-client"),a=e("@atlaskit/media-common"),o=e("@atlaskit/analytics-next"),u=e("../errors");r.RenderEventAction=n,function(e){e.COMMENCED="commenced",e.SUCCEEDED="succeeded",e.FAILED="failed"}(n||(r.RenderEventAction=n={}));r.getFileAttributes=function(e,t){return{fileMediatype:e.mediaType,fileMimetype:e.mimeType,fileId:e.id,fileSize:e.size,fileStatus:t}};r.getRenderCommencedEventPayload=function(e){return{eventType:"operational",action:n.COMMENCED,actionSubject:"mediaCardRender",attributes:{fileAttributes:e}}};r.getRenderSucceededEventPayload=function(e){return{eventType:"operational",action:n.SUCCEEDED,actionSubject:"mediaCardRender",attributes:{fileAttributes:e,status:"success"}}};var l=function(e){return e?"uploading"===e?"local-uri":"remote-uri":"unknown-uri"};r.getFailedFileUriFailReason=l;r.getRenderFailedFileUriPayload=function(e){return{eventType:"operational",action:n.FAILED,actionSubject:"mediaCardRender",attributes:{fileAttributes:e,status:"fail",failReason:l(e.fileStatus)}}};r.getRenderFailedExternalUriPayload=function(e){return{eventType:"operational",action:n.FAILED,actionSubject:"mediaCardRender",attributes:{fileAttributes:e,status:"fail",failReason:"external-uri"}}};var s=function(e){return(0,u.isMediaCardError)(e)?e.primaryReason:"nativeError"};r.getRenderErrorFailReason=s;var c=function(e){if((0,u.isMediaCardError)(e)&&e.secondaryError){var t=(0,i.getMediaClientErrorReason)(e.secondaryError);if("unknown"!==t)return t}return"nativeError"};r.getRenderErrorErrorReason=c;var d=function(e){return(0,u.isMediaCardError)(e)&&e.secondaryError?e.secondaryError.message:e.message};r.getRenderErrorErrorDetail=d;var p=function(e){if((0,u.isMediaCardError)(e)&&e.secondaryError&&(0,i.isRequestError)(e.secondaryError))return e.secondaryError.metadata};r.getRenderErrorRequestMetadata=p;r.getRenderErrorEventPayload=function(e,t){return{eventType:"operational",action:n.FAILED,actionSubject:"mediaCardRender",attributes:{fileAttributes:e,status:"fail",failReason:s(t),error:c(t),errorDetail:d(t),request:p(t)}}};r.getRenderFailedFileStatusPayload=function(e){return{eventType:"operational",action:n.FAILED,actionSubject:"mediaCardRender",attributes:{fileAttributes:e,status:"fail",failReason:"failed-processing"}}};r.getCopiedFilePayload=function(e){return{eventType:"ui",action:"copied",actionSubject:"file",actionSubjectId:e,attributes:{}}};r.createAndFireMediaCardEvent=function(e){return(0,o.createAndFireEvent)(a.ANALYTICS_MEDIA_CHANNEL)(e)}},{"@atlaskit/media-client":"1JnCh","@atlaskit/media-common":"2BoMi","@atlaskit/analytics-next":"74ERu","../errors":"4qzi9"}],"4qzi9":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.isMediaCardError=d,r.ensureMediaCardError=r.isLocalPreviewError=r.MediaCardError=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/assertThisInitialized")),o=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf"));function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var c=function(e){(0,o.default)(r,e);var t=s(r);function r(e,n){var o;return(0,i.default)(this,r),(o=t.call(this,e)).primaryReason=e,o.secondaryError=n,Object.setPrototypeOf((0,a.default)(o),(this instanceof r?this.constructor:void 0).prototype),"captureStackTrace"in Error&&Error.captureStackTrace((0,a.default)(o),this instanceof r?this.constructor:void 0),o}return r}((0,n(e("@babel/runtime/helpers/wrapNativeSuper")).default)(Error));function d(e){return e instanceof c}r.MediaCardError=c;r.isLocalPreviewError=function(e){return d(e)&&"local-preview-get"===e.primaryReason};r.ensureMediaCardError=function(e,t){return d(t)?t:new c(e,t)}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/assertThisInitialized":"4YOil","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw","@babel/runtime/helpers/wrapNativeSuper":"7Mazd"}],"5pIUl":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.PreventClickThrough=function(e){var t=e.children;return i.default.createElement("span",{onClick:function(e){e.stopPropagation(),e.preventDefault()}},t)},r.createPreventClickThrough=void 0;var i=n(e("react"));r.createPreventClickThrough=function(e){return function(t){t.stopPropagation(),t.preventDefault(),e()}}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5",react:"28H6D"}],"22hqT":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.NewExpRetryButton=r.RetryButton=void 0;var i=n(e("@babel/runtime/helpers/extends")),a=n(e("react")),o=e("../../../utils/analytics"),u=e("@atlaskit/analytics-next"),l=e("./styled"),s=e("react-intl"),c=e("@atlaskit/media-ui"),d=e("../../../utils/preventClickThrough"),p=n(e("@atlaskit/icon/glyph/retry")),f=(0,u.withAnalyticsEvents)({onClick:(0,o.createAndFireMediaCardEvent)({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"mediaCardRetry",attributes:{}})}),b=f((function(e){return a.default.createElement(l.Retry,(0,i.default)({"data-testid":"media-card-retry-button"},e))}));r.RetryButton=function(e){var t=e.onClick;return a.default.createElement(b,{onClick:(0,d.createPreventClickThrough)(t)},a.default.createElement(s.FormattedMessage,c.messages.retry))};var h=f((function(e){return a.default.createElement(l.NewExpRetry,(0,i.default)({"data-testid":"media-card-retry-button"},e),a.default.createElement(p.default,{label:"Retry",size:"small"}))}));r.NewExpRetryButton=function(e){var t=e.onClick;return a.default.createElement(h,{onClick:(0,d.createPreventClickThrough)(t)},a.default.createElement(s.FormattedMessage,c.messages.retry))}},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/extends":"bRbXd",react:"28H6D","../../../utils/analytics":"42ZYe","@atlaskit/analytics-next":"74ERu","./styled":"2t0Z7","react-intl":"4XDLZ","@atlaskit/media-ui":"6QZ57","../../../utils/preventClickThrough":"5pIUl","@atlaskit/icon/glyph/retry":"47UWx"}],"2t0Z7":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.Metadata=r.Subtitle=r.TitleWrapper=r.ErrorWrapper=r.NewExpRetry=r.Retry=r.AltWrapper=r.ErrorMessage=r.RightColumn=r.BottomRow=r.TopRow=r.LeftColumn=r.ErrorLine=r.Overlay=r.TickBox=void 0;var a=i(e("@babel/runtime/helpers/taggedTemplateLiteral")),o=i(e("styled-components")),u=e("../../../styles"),l=e("@atlaskit/media-ui"),s=e("@atlaskit/theme/components"),c=n(e("@atlaskit/theme/colors"));function d(){var e=(0,a.default)(["\n  display: flex;\n  align-items: center;\n"]);return d=function(){return e},e}function p(){var e=(0,a.default)(["\n  "," font-size: 12px;\n  color: #5e6c84;\n"]);return p=function(){return e},e}function f(){var e=(0,a.default)(["\n  box-sizing: border-box;\n  word-wrap: break-word;\n  color: ",";\n  font-size: 12px;\n  line-height: 18px;\n"]);return f=function(){return e},e}function b(){var e=(0,a.default)(["\n  display: flex;\n"]);return b=function(){return e},e}function h(){var e=(0,a.default)(["\n  user-select: none;\n  cursor: pointer;\n"]);return h=function(){return e},e}function m(){var e=(0,a.default)(["\n  user-select: none;\n  "," box-sizing: border-box;\n  margin-left: 5px;\n  font-weight: bold;\n  color: ",";\n  font-size: 12px;\n\n  &:hover {\n    cursor: pointer;\n    text-decoration: underline;\n    color: ",";\n  }\n"]);return m=function(){return e},e}function v(){var e=(0,a.default)(["\n  font-weight: normal;\n"]);return v=function(){return e},e}function y(){var e=(0,a.default)(["\n  "," display: inline-block;\n  vertical-align: middle;\n  font-weight: bold;\n  color: ",";\n  font-size: 12px;\n  line-height: 15px;\n  overflow: hidden;\n  max-width: ~'calc(100% - 24px)';\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return y=function(){return e},e}function g(){var e=(0,a.default)([""]);return g=function(){return e},e}function E(){var e=(0,a.default)(["\n  display: flex;\n  align-items: center;\n  height: 16px;\n"]);return E=function(){return e},e}function k(){var e=(0,a.default)([""]);return k=function(){return e},e}function w(){var e=(0,a.default)(["\n  width: 100%;\n  position: relative;\n  box-sizing: border-box;\n  vertical-align: middle;\n"]);return w=function(){return e},e}function O(){var e=(0,a.default)(["\n  height: 24px;\n  display: flex;\n  align-items: center;\n"]);return O=function(){return e},e}function x(){var e=(0,a.default)(["\n  "," "," "," display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  background: transparent;\n  transition: 0.3s background ",", 0.3s border-color;\n  padding: 16px;\n\n  "," &:not(.persistent):hover, &.active {\n    .top-row {\n      .title {\n        color: ",";\n      }\n    }\n\n    .bottom-row {\n      .delete-btn {\n        display: flex;\n      }\n    }\n  }\n\n  &.noHover:hover {\n    .top-row {\n      .title {\n        color: ",";\n      }\n    }\n  }\n\n  .file-type-icon {\n    display: block;\n  }\n\n  &:not(.persistent) {\n    &:not(.error, .noHover):hover {\n      background-color: ",";\n    }\n\n    &.selectable {\n      &.selected {\n        background-color: ",";\n\n        &:hover {\n          /* TODO FIL-3884 add new overlay with rgba(colors.N900, 0.16) */\n        }\n\n        .title,\n        .bottom-row,\n        .file-size,\n        .more-btn {\n          color: ",";\n        }\n      }\n    }\n  }\n\n  &.persistent {\n    &:not(.active) {\n      overflow: hidden;\n    }\n\n    .top-row {\n      .title {\n        transition: opacity 0.3s;\n        opacity: 0;\n        color: white;\n        visibility: hidden;\n      }\n    }\n\n    .bottom-row {\n      opacity: 0;\n      transition: transform 0.2s, opacity 0.5s;\n      /* This is the height of the overlay footer, needs to be present now since the parent uses flex and 100% doesn't look right anymore */\n      transform: translateY(35px);\n\n      .file-type-icon {\n        display: none;\n      }\n\n      .file-size {\n        color: white;\n        display: none;\n      }\n\n      .more-btn {\n        color: ",";\n        display: none;\n\n        &:hover {\n          background-color: rgba(9, 30, 66, 0.2);\n        }\n      }\n\n      .delete-btn {\n        display: none;\n\n        &:hover {\n          background-color: rgba(9, 30, 66, 0.2);\n        }\n      }\n    }\n\n    &:hover,\n    &.active {\n      background-color: ",";\n\n      .title {\n        opacity: 1;\n        visibility: visible;\n      }\n\n      .file-type-icon,\n      .file-size {\n        display: block;\n      }\n\n      .more-btn {\n        "," color: ",";\n      }\n\n      .delete-btn {\n        display: flex;\n      }\n\n      .bottom-row {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n\n    /* Selectable */\n    &.selectable {\n      &:hover {\n        .tickbox {\n          opacity: 1;\n        }\n      }\n\n      &.selected {\n        .tickbox {\n          background-color: "," !important;\n          border-color: "," !important;\n          color: white;\n        }\n      }\n    }\n  }\n\n  &.error {\n    .top-row {\n      overflow: visible;\n    }\n    &:hover,\n    &.active {\n      .top-row {\n        .title {\n          color: ",";\n        }\n      }\n    }\n  }\n"]);return x=function(){return e},e}function C(){var e=(0,a.default)(["\n  "," "," background-color: ",';\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  border-radius: 20px;\n  color: #798599; /* TODO FIL-3884: Align color with new design */\n  display: flex;\n  opacity: 0;\n\n  &.selected {\n    opacity: 1;\n    color: white;\n    background-color: #0052cc; /* TODO FIL-3884: Align with tickbox icons */\n  }\n\n  /* Enforce dimensions of "tick" icon */\n  svg {\n    position: absolute;\n    width: 14px;\n  }\n']);return C=function(){return e},e}var P=o.default.div(C(),(0,l.size)(14),(0,u.transition)(),(0,u.rgba)("#ffffff",.5));r.TickBox=P;var S=o.default.div(x(),(0,l.size)(),(0,l.absolute)(),l.borderRadius,u.easeOutCubic,(function(e){var t=e.hasError,r=e.noHover;return t||r?"\n        cursor: default;\n\n        &:hover {\n          background: transparent;\n        }\n      ":""}),c.B400,c.N800,(0,u.rgba)(c.N900,.06),c.B200,c.N0,c.N0,(0,u.rgba)(c.N900,.5),u.centerX,c.N0,c.B200,c.B200,c.N800);r.Overlay=S;var A=o.default.div(O());r.ErrorLine=A;var T=o.default.div(w());r.LeftColumn=T;var R=o.default.div(k());r.TopRow=R;var D=o.default.div(E());r.BottomRow=D;var j=o.default.div(g());r.RightColumn=j;var _=o.default.div(y(),u.antialiased,c.N70);r.ErrorMessage=_;var F=(0,o.default)(_)(v());r.AltWrapper=F;var M=o.default.div(m(),u.antialiased,c.B400,c.B300);r.Retry=M;var B=o.default.a(h());r.NewExpRetry=B;var N=o.default.div(b());r.ErrorWrapper=N;var I=o.default.div(f(),(0,s.themed)({light:c.N800,dark:c.DN900}));r.TitleWrapper=I;var L=o.default.div(p(),(0,l.ellipsis)("100px"));r.Subtitle=L;var q=o.default.div(d());r.Metadata=q},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/taggedTemplateLiteral":"3h9Bz","styled-components":"3zU0W","../../../styles":"3xn5Q","@atlaskit/media-ui":"6QZ57","@atlaskit/theme/components":"3dsiw","@atlaskit/theme/colors":"7iJNZ"}],"47UWx":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=a(e("react")),i=a(e("@atlaskit/icon/base"));function a(e){return e&&e.__esModule?e:{default:e}}const o=e=>n.default.createElement(i.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M6 10h2.954a1 1 0 010 2H5.099A1.1 1.1 0 014 10.9V7a1 1 0 112 0v3z" fill-rule="nonzero"/><path d="M7.39 10.09H5.3a8 8 0 11.818 6H7.84v-1.02a6 6 0 10-.45-4.98z" fill-rule="nonzero"/><circle cx="7" cy="15.61" r="1"/></g></svg>'},e));o.displayName="RetryIcon";var u=o;r.default=u},{react:"28H6D","@atlaskit/icon/base":"6KSXI"}],"2R1Pg":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.CardActionsWrapper=r.ProgressWrapper=r.Body=r.Title=r.Overlay=r.ProgressBarWrapper=r.PlayIconBackground=r.PlayIconWrapper=r.Wrapper=void 0;var i=n(e("@babel/runtime/helpers/taggedTemplateLiteral")),a=n(e("styled-components")),o=e("@atlaskit/media-ui"),u=e("@atlaskit/theme/components"),l=e("@atlaskit/theme/colors"),s=e("../../styles"),c=e("../../styles/getSelectedBorderStyle");function d(){var e=(0,i.default)(["\n  margin-left: 4px;\n  /*\n    button must appear above overlay\n   */\n  z-index: 2;\n"]);return d=function(){return e},e}function p(){var e=(0,i.default)(["\n  flex-grow: 1;\n\n  /*\n    force the height to always be 20px (the height of the cancel icon),\n    so that the height of the progress bar doesn't jump when cards with\n    and without a cancel icon are rendered side-by-side.\n  */\n  height: ","px;\n\n  /*\n    vertically center the progress bar within the 20px, keeping the progress bar full width\n  */\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return p=function(){return e},e}function f(){var e=(0,i.default)(["\n  display: flex;\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  padding: 8px;\n  color: ",";\n"]);return f=function(){return e},e}function b(){var e=(0,i.default)(["\n  "," width: 100%;\n  padding: 8px;\n  color: ",";\n  font-size: 12px;\n  line-height: 18px;\n  word-wrap: break-word;\n"]);return b=function(){return e},e}function h(){var e=(0,i.default)(["\n  ","\n  ","\n  border-radius: inherit;\n  background-color: rgba(9, 30, 66, 0.5);\n"]);return h=function(){return e},e}function m(){var e=(0,i.default)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n"]);return m=function(){return e},e}function v(){var e=(0,i.default)(["\n  background: rgba(23, 43, 77, 0.7);\n  border-radius: 100%;\n  padding: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition-property: width, height;\n  transition-duration: 0.1s;\n  width: 56px;\n  height: 56px;\n"]);return v=function(){return e},e}function y(){var e=(0,i.default)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n\n  /* we want to override default icon size and hover state */\n  &:hover > * {\n    width: 64px;\n    height: 64px;\n  }\n"]);return y=function(){return e},e}function g(){var e=(0,i.default)(["\n  ","\n  ","\n  ","\n\n  line-height: normal;\n  position: relative;\n\n  ","\n\n  "," .wrapper {\n    ",";\n    display: block;\n    height: inherit;\n    position: relative;\n\n    .img-wrapper {\n      position: relative;\n      width: inherit;\n      height: inherit;\n      overflow: hidden;\n      display: block;\n      ","\n    }\n  }\n"]);return g=function(){return e},e}var E=(0,a.default)(s.Root)(g(),(function(e){return e.disableOverlay?"":s.cardShadow}),o.borderRadius,(function(e){var t=e.mediaType;return"background: ".concat("image"===t?"transparent":(0,u.themed)({light:l.N20,dark:l.DN50})(e),";")}),c.getSelectedBorderStyle,(0,o.size)(),o.borderRadius,o.borderRadius);r.Wrapper=E;var k=a.default.div(y());r.PlayIconWrapper=k;var w=a.default.div(v());r.PlayIconBackground=w;var O=a.default.div(m());r.ProgressBarWrapper=O;var x=a.default.div(h(),(0,o.absolute)(),(0,o.size)());r.Overlay=x;var C=a.default.div(b(),(0,o.absolute)(),l.N0);r.Title=C;var P=a.default.div(f(),l.N0);r.Body=P;var S=a.default.div(p(),26);r.ProgressWrapper=S;var A=a.default.div(d());r.CardActionsWrapper=A},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/taggedTemplateLiteral":"3h9Bz","styled-components":"3zU0W","@atlaskit/media-ui":"6QZ57","@atlaskit/theme/components":"3dsiw","@atlaskit/theme/colors":"7iJNZ","../../styles":"3xn5Q","../../styles/getSelectedBorderStyle":"4r0nS"}],"4r0nS":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSelectedBorderStyle=void 0;var n=e("@atlaskit/media-ui"),i=e("@atlaskit/editor-shared-styles/selection");r.getSelectedBorderStyle=function(e){var t=e.selected;return"\n    ".concat(i.hideNativeBrowserTextSelectionStyles,"\n\n    &::after {\n      content: '';\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      top: 0;\n      box-sizing: border-box;\n      pointer-events: none;\n      ").concat(n.borderRadius,"\n      ").concat(t?(0,i.getSelectionStyles)([i.SelectionStyle.Border]):"","\n    }\n  ")}},{"@atlaskit/media-ui":"6QZ57","@atlaskit/editor-shared-styles/selection":"4FoBz"}],"6KHKz":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shouldDisplayImageThumbnail=void 0;var n=e("@atlaskit/media-client");r.shouldDisplayImageThumbnail=function(e,t,r,i,a){return!("doc"===i||!a&&"file"===t)&&(!!r&&("external-image"===t||a&&(0,n.isMimeTypeSupportedByBrowser)(a)||"complete"===e))}},{"@atlaskit/media-client":"1JnCh"}],"3a46Z":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.ProgressBar=void 0;var a=i(e("@babel/runtime/helpers/classCallCheck")),o=i(e("@babel/runtime/helpers/createClass")),u=i(e("@babel/runtime/helpers/inherits")),l=i(e("@babel/runtime/helpers/possibleConstructorReturn")),s=i(e("@babel/runtime/helpers/getPrototypeOf")),c=n(e("react")),d=e("./styled");function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var f=function(e){(0,u.default)(r,e);var t=p(r);function r(){return(0,a.default)(this,r),t.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){if("number"!=typeof this.props.progress)return null;var e=Math.min(1,Math.max(0,this.props.progress)),t={width:"".concat(100*e,"%")};return c.default.createElement(d.ProgressWrapper,null,c.default.createElement("div",{className:"progressBar",style:t}))}}]),r}(c.Component);r.ProgressBar=f},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/classCallCheck":"1lVaN","@babel/runtime/helpers/createClass":"4UIzK","@babel/runtime/helpers/inherits":"2D7aH","@babel/runtime/helpers/possibleConstructorReturn":"1ob9m","@babel/runtime/helpers/getPrototypeOf":"4M8Bw",react:"28H6D","./styled":"7h0Ya"}],"7h0Ya":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.ProgressWrapper=void 0;var i=n(e("@babel/runtime/helpers/taggedTemplateLiteral")),a=n(e("styled-components")),o=e("@atlaskit/media-ui");function u(){var e=(0,i.default)(["\n  "," z-index: 30;\n  overflow: hidden;\n  background-color: rgba(255, 255, 255, 0.3);\n\n  .progressBar {\n    width: 0%;\n    height: 3px;\n    transition: width 0.25s ease-in;\n    background-color: white;\n  }\n"]);return u=function(){return e},e}var l=a.default.div(u(),o.borderRadius);r.ProgressWrapper=l},{"@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/taggedTemplateLiteral":"3h9Bz","styled-components":"3zU0W","@atlaskit/media-ui":"6QZ57"}],"45Yzh":[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.withFileAttributes=function(e){return function(t){var r=(0,o.useContext)(u);return r?o.default.createElement(e,(0,a.default)({},t,{fileAttributes:r})):o.default.createElement(e,t)}},r.FileAttributesProvider=void 0;var a=i(e("@babel/runtime/helpers/extends")),o=n(e("react")),u=o.default.createContext(null);r.FileAttributesProvider=function(e){var t=e.children,r=e.data;return r?o.default.createElement(u.Provider,{value:r},t):o.default.createElement(o.default.Fragment,null,t)}},{"@babel/runtime/helpers/interopRequireWildcard":"1qX9u","@babel/runtime/helpers/interopRequireDefault":"3lav5","@babel/runtime/helpers/extends":"bRbXd",react:"28H6D"}],NZqDS:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=a(e("react")),i=a(e("@atlaskit/icon/base"));function a(e){return e&&e.__esModule?e:{default:e}}const o=e=>n.default.createElement(i.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12.654 8.764a.858.858 0 01-1.213-1.213l1.214-1.214a3.717 3.717 0 015.257 0 3.714 3.714 0 01.001 5.258l-1.214 1.214-.804.804a3.72 3.72 0 01-5.263.005.858.858 0 011.214-1.214c.781.782 2.05.78 2.836-.005l.804-.803 1.214-1.214a1.998 1.998 0 00-.001-2.831 2 2 0 00-2.83 0l-1.215 1.213zm-.808 6.472a.858.858 0 011.213 1.213l-1.214 1.214a3.717 3.717 0 01-5.257 0 3.714 3.714 0 01-.001-5.258l1.214-1.214.804-.804a3.72 3.72 0 015.263-.005.858.858 0 01-1.214 1.214 2.005 2.005 0 00-2.836.005l-.804.803L7.8 13.618a1.998 1.998 0 00.001 2.831 2 2 0 002.83 0l1.215-1.213z" fill="currentColor"/></svg>'},e));o.displayName="EditorLinkIcon";var u=o;r.default=u},{react:"28H6D","@atlaskit/icon/base":"6KSXI"}]},[]);
//# sourceMappingURL=shared.6bbd0c3f.js.map
