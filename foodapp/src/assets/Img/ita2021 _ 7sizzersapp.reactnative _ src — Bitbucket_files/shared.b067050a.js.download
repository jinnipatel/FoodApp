!function(e,t,n,r,a){var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l="function"==typeof s.parcelRequire5160&&s.parcelRequire5160,o=l.cache||{},i="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(t,n){if(!o[t]){if(!e[t]){var r="function"==typeof s.parcelRequire5160&&s.parcelRequire5160;if(!n&&r)return r(t,!0);if(l)return l(t,!0);if(i&&"string"==typeof t)return i(t);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}f.resolve=function(n){return e[t][1][n]||n},f.cache={};var d=o[t]=new c.Module(t);e[t][0].call(d.exports,f,d,d.exports,this)}return o[t].exports;function f(e){return c(f.resolve(e))}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=e,c.cache=o,c.parent=l,c.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(c,"root",{get:function(){return s.parcelRequire5160}}),s.parcelRequire5160=c;for(var d=0;d<t.length;d++)c(t[d])}({"5fbLX":[function(e,t,n){var r=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");r.defineInteropFlag(n),r.export(n,"default",(function(){return s.default}));var a=e("./ref-selector"),s=r.interopDefault(a)},{"./ref-selector":"3M3jE","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3M3jE":[function(e,t,n){var r=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");r.defineInteropFlag(n);var a=e("@babel/runtime/helpers/defineProperty"),s=r.interopDefault(a),l=e("@atlaskit/button"),o=r.interopDefault(l),i=e("@atlaskit/tooltip"),c=r.interopDefault(i),d=e("@atlaskit/icon/glyph/bitbucket/branches"),f=r.interopDefault(d),u=e("@atlaskit/icon/glyph/chevron-down"),p=r.interopDefault(u),h=e("@atlaskit/inline-dialog"),m=r.interopDefault(h),g=e("react"),b=r.interopDefault(g),y=e("react-intl"),v=e("src/components/accessibility"),x=e("../ref-selector/ref-selector.style"),S=e("./ref-selector.i18n"),k=r.interopDefault(S),R=e("./ref-selector-panel"),D=r.interopDefault(R);class _ extends g.PureComponent{constructor(...e){super(...e),s.default(this,"state",{isOpen:!1}),s.default(this,"handleClose",(()=>this.setState({isOpen:!1}))),s.default(this,"handleRefSelected",(e=>{this.setState({isOpen:!1}),this.props.onChange(e)}))}toggle(){this.state.isOpen||this.props.onOpen(),this.setState((e=>({isOpen:!e.isOpen})))}render(){const{intl:e,label:t,renderRef:n,repository:r}=this.props,{isOpen:a}=this.state,s=t||b.default.createElement(y.FormattedMessage,k.default.noRefSelected);return b.default.createElement(x.RefSelectorWrapper,{"data-qa":"ref-selector"},b.default.createElement(x.InlineDialogWrapper,null,b.default.createElement(m.default,{content:b.default.createElement(D.default,{onRefSelected:this.handleRefSelected,renderRef:n,repository:r}),isOpen:a,onClose:this.handleClose},b.default.createElement(c.default,{content:s,tag:"p",position:"top"},b.default.createElement(o.default,{"aria-expanded":a,isSelected:a,iconBefore:b.default.createElement(f.default,{size:"medium",label:""}),iconAfter:b.default.createElement(p.default,{label:""}),onClick:()=>{this.toggle()}},b.default.createElement(v.ScreenReadersOnly,null,e.formatMessage(k.default.refBranchLabel)),s)))))}}s.default(_,"defaultProps",{onChange:()=>{},onOpen:()=>{}}),n.default=y.injectIntl(_)},{"@babel/runtime/helpers/defineProperty":"5MCal","@atlaskit/button":"5gisq","@atlaskit/tooltip":"2SKbM","@atlaskit/icon/glyph/bitbucket/branches":"37eWz","@atlaskit/icon/glyph/chevron-down":"NTbpX","@atlaskit/inline-dialog":"1W5vP",react:"28H6D","react-intl":"4XDLZ","src/components/accessibility":"56MbL","../ref-selector/ref-selector.style":"20iA0","./ref-selector.i18n":"5ciRj","./ref-selector-panel":"2oTZP","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"20iA0":[function(e,t,n){var r=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");r.defineInteropFlag(n),r.export(n,"Filter",(function(){return c})),r.export(n,"RefLink",(function(){return d})),r.export(n,"RefSelectorPanel",(function(){return f})),r.export(n,"InlineDialogWrapper",(function(){return u})),r.export(n,"RefSelectorWrapper",(function(){return p}));var a=e("@emotion/styled-base"),s=r.interopDefault(a),l=e("@atlaskit/theme"),o=e("@atlassian/bitkit-responsive"),i=e("src/components/component-link");const c=s.default("div",{target:"e1tv17y60"})("margin-bottom:",l.gridSize(),"px;padding-left:",l.gridSize(),"px;padding-right:",l.gridSize(),"px;"),d=s.default(i.ComponentLinkProxy,{target:"e1tv17y61"})({name:"1tmlw65",styles:"padding:6px 0;line-height:initial;"}),f=s.default("div",{target:"e1tv17y62"})("width:",44*l.gridSize(),"px;",o.media.upToSmall("\n    width: 300px;\n  "),""),u=s.default("div",{target:"e1tv17y63"})("& > div{padding:",2*l.gridSize(),"px ",2*l.gridSize(),"px 0;}"),p=s.default("div",{target:"e1tv17y64"})({name:"139lh2g",styles:"max-width:fit-content;width:calc(100% - 200px);"})},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/bitkit-responsive":"6pj4A","src/components/component-link":"YTS0j","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"5ciRj":[function(e,t,n){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(n);var r=e("react-intl");n.default=r.defineMessages({branchesTab:{id:"frontbucket.repository.source.refSelector.branchesTab",defaultMessage:"Branches"},filterBranches:{id:"frontbucket.repository.source.refSelector.filterBranches",defaultMessage:"Filter branches"},filterTags:{id:"frontbucket.repository.source.refSelector.filterTags",defaultMessage:"Filter tags"},loadMore:{id:"frontbucket.repository.source.refSelector.loadMore",defaultMessage:"Load more"},noRefSelected:{id:"frontbucket.repository.source.refSelector.noRefSelected",defaultMessage:"Select a ref"},noResultsBranches:{id:"frontbucket.repository.source.refSelector.noResultsBranches",defaultMessage:"We can't find branches with that name."},tagsEmptyState:{id:"frontbucket.repository.source.refSelector.tagsEmptyState",defaultMessage:"There are no tags in this repository."},noResultsTags:{id:"frontbucket.repository.source.refSelector.noResultsTags",defaultMessage:"We can't find tags with that name."},refBranchLabel:{id:"frontbucket.repository.source.refSelector.refBranchLabel",defaultMessage:"branch:"},tagsTab:{id:"frontbucket.repository.source.refSelector.tagsTab",defaultMessage:"Tags"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"2oTZP":[function(e,t,n){var r=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");r.defineInteropFlag(n);var a=e("@babel/runtime/helpers/defineProperty"),s=r.interopDefault(a),l=e("@atlaskit/textfield"),o=r.interopDefault(l),i=e("@atlaskit/tabs"),c=r.interopDefault(i),d=e("lodash-es"),f=e("react"),u=r.interopDefault(f),p=e("react-intl"),h=e("../../containers/ref-selector/filtered-ref-list"),m=r.interopDefault(h),g=e("./ref-selector.i18n"),b=r.interopDefault(g),y=e("./ref-selector.style");class v extends u.default.PureComponent{constructor(...e){super(...e),s.default(this,"state",{filter:"",selectedTabIndex:0}),s.default(this,"handleFilterChange",d.debounce((e=>this.setState({filter:e})),200)),s.default(this,"onTabSelected",((e,t)=>{this.setState({selectedTabIndex:t})})),s.default(this,"placeholders",[this.props.intl.formatMessage(b.default.filterBranches),this.props.intl.formatMessage(b.default.filterTags)])}renderTabs(){const{intl:e,onRefSelected:t,renderRef:n,repository:r}=this.props,{filter:a}=this.state,s=u.default.createElement(m.default,{filter:a,onRefSelected:t,renderRef:n,repository:r,type:"branch"}),l=u.default.createElement(m.default,{filter:a,onRefSelected:t,renderRef:n,repository:r,type:"tag"});return[{content:s,label:e.formatMessage(b.default.branchesTab)},{content:l,label:e.formatMessage(b.default.tagsTab)}]}render(){const{selectedTabIndex:e}=this.state;return u.default.createElement(y.RefSelectorPanel,null,u.default.createElement(y.Filter,null,u.default.createElement(o.default,{autoFocus:!0,"aria-label":`${this.placeholders[e]}`,onChange:e=>{this.handleFilterChange(e.target.value)},placeholder:this.placeholders[e]})),u.default.createElement(c.default,{onSelect:this.onTabSelected,selected:e,tabs:this.renderTabs()}))}}n.default=p.injectIntl(v)},{"@babel/runtime/helpers/defineProperty":"5MCal","@atlaskit/textfield":"6i8G1","@atlaskit/tabs":"3ttq4","lodash-es":"2fDxM",react:"28H6D","react-intl":"4XDLZ","../../containers/ref-selector/filtered-ref-list":"7cyMk","./ref-selector.i18n":"5ciRj","./ref-selector.style":"20iA0","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3ttq4":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./components/Tabs");n.default=r.default;var a=e("./components/TabContent");n.TabContent=a.default;var s=e("./components/TabItem");n.TabItem=s.default},{"./components/Tabs":"3oVXL","./components/TabContent":"5DbXI","./components/TabItem":"236ig"}],"3oVXL":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("tslib"),a=r.__importStar(e("react")),s=e("@atlaskit/analytics-next"),l=e("../styled"),o=e("../version.json"),i=r.__importDefault(e("./TabContent")),c=r.__importDefault(e("./TabItem")),d=r.__importDefault(e("./TabsNavigation")),f=function(e,t,n){return e===n},u=function(e,t){return e===t},p={Content:i.default,Item:c.default},h=function(e){function t(t){var n=e.call(this,t)||this;n.resolveSelected=function(e,t){var r=t||n.props,a=r.tabs,s=r.isSelectedTest,l=s||("number"==typeof e?f:u);return a.find((function(t,n){return l(e,t,n)}))||a[0]},n.onSelect=function(e,t){var r=n.props,a=r.onSelect,s=r.selected;"function"==typeof a&&a(e,t),void 0===s&&n.setState({selected:e})};var r=n.props.selected||n.props.defaultSelected||n.props.tabs[0],a=n.resolveSelected(r);return n.state={selected:a},n}return r.__extends(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){if(void 0!==e.selected&&e.selected!==this.state.selected){var t=this.resolveSelected(e.selected,e);this.setState({selected:t})}else if(e.tabs!==this.props.tabs){var n=this.resolveSelected(this.state.selected,e);this.setState({selected:n})}},t.prototype.render=function(){var e=this.props,t=e.components,n=e.tabs,s=e.testId,o=this.state.selected,i=r.__assign(r.__assign({},p),t),c=i.Content,f=i.Item,u={data:o,elementProps:{role:"tabpanel"}};return a.default.createElement(l.Tabs,{"data-testid":s},a.default.createElement(d.default,{component:f,onSelect:this.onSelect,selected:o,tabs:n}),a.default.createElement(c,r.__assign({},u)))},t.defaultProps={components:{}},t}(a.Component);n.TabsWithoutAnalytics=h;var m=s.createAndFireEvent("atlaskit");n.default=s.withAnalyticsContext({componentName:"tabs",packageName:o.name,packageVersion:o.version})(s.withAnalyticsEvents({onSelect:m({action:"clicked",actionSubject:"tab",attributes:{componentName:"tabs",packageName:o.name,packageVersion:o.version}})})(h))},{tslib:"1k9Lu",react:"28H6D","@atlaskit/analytics-next":"69zYu","../styled":"5QTAz","../version.json":"2rrmo","./TabContent":"5DbXI","./TabItem":"236ig","./TabsNavigation":"245mw"}],"5QTAz":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("tslib"),a=r.__importDefault(e("styled-components")),s=r.__importStar(e("@atlaskit/theme/colors")),l=e("@atlaskit/theme/components"),o=e("@atlaskit/theme/constants"),i=e("@atlaskit/theme/math");function c(e){var t={light:s.B400,dark:s.B100};return l.themed("status",{normal:e,selected:t})}var d,f,u,p,h,m,g=c({light:s.N500,dark:s.DN400}),b=c({light:s.B500,dark:s.B200}),y=c({light:s.B100,dark:s.B100}),v=c({light:s.B400,dark:s.B75}),x=c({light:s.N30,dark:s.DN0});n.Tabs=a.default.div(d||(d=r.__makeTemplateObject(["\n  display: flex;\n  flex-basis: 100%;\n  flex-direction: column;\n  flex-grow: 1;\n  max-width: 100%;\n  min-height: 0%; /* See min-height note */\n"],["\n  display: flex;\n  flex-basis: 100%;\n  flex-direction: column;\n  flex-grow: 1;\n  max-width: 100%;\n  min-height: 0%; /* See min-height note */\n"]))),n.TabPane=a.default.div(f||(f=r.__makeTemplateObject(["\n  display: flex;\n  flex-grow: 1;\n  min-height: 0%; /* See min-height note */\n  padding-left: ","px;\n  padding-right: ","px;\n"],["\n  display: flex;\n  flex-grow: 1;\n  min-height: 0%; /* See min-height note */\n  padding-left: ","px;\n  padding-right: ","px;\n"])),o.gridSize,o.gridSize),n.NavWrapper=a.default.div(u||(u=r.__makeTemplateObject(["\n  position: relative;\n"],["\n  position: relative;\n"]))),n.Nav=a.default.div(p||(p=r.__makeTemplateObject(["\n  display: flex;\n  font-weight: 500;\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n"],["\n  display: flex;\n  font-weight: 500;\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n"]))),n.NavLine=a.default.span(h||(h=r.__makeTemplateObject(["\n  background-color: ",";\n  border-radius: ",";\n  bottom: 0;\n  content: '';\n  height: ",";\n  left: ","px;\n  margin: 0;\n  position: absolute;\n  right: ","px;\n  width: inherit;\n"],["\n  background-color: ",";\n  border-radius: ",";\n  bottom: 0;\n  content: '';\n  height: ",";\n  left: ","px;\n  margin: 0;\n  position: absolute;\n  right: ","px;\n  width: inherit;\n"])),x,"2px","2px",o.gridSize,o.gridSize),n.NavItem=a.default.div(m||(m=r.__makeTemplateObject(["\n  color: ",";\n  cursor: pointer;\n  line-height: 1.8;\n  margin: 0;\n  padding: ","px ","px;\n  position: relative;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:hover {\n    color: ",";\n  }\n  &:active,\n  &:active::before {\n    color: ",";\n  }\n\n  &:focus {\n    border-radius: ","px;\n    box-shadow: 0 0 0 2px "," inset;\n    outline: none;\n  }\n"],["\n  color: ",";\n  cursor: pointer;\n  line-height: 1.8;\n  margin: 0;\n  padding: ","px ","px;\n  position: relative;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:hover {\n    color: ",";\n  }\n  &:active,\n  &:active::before {\n    color: ",";\n  }\n\n  &:focus {\n    border-radius: ","px;\n    box-shadow: 0 0 0 2px "," inset;\n    outline: none;\n  }\n"])),g,i.divide(o.gridSize,2),o.gridSize,v,b,o.borderRadius,y)},{tslib:"1k9Lu","styled-components":"3zU0W","@atlaskit/theme/colors":"2QU0D","@atlaskit/theme/components":"6HH2u","@atlaskit/theme/constants":"5HWx8","@atlaskit/theme/math":"4tCVv"}],"2rrmo":[function(e,t,n){t.exports=JSON.parse('{"name":"@atlaskit/tabs","version":"12.0.1","sideEffects":false}')},{}],"5DbXI":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("tslib"),a=r.__importStar(e("react")),s=e("../styled"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=e.elementProps;return a.default.createElement(s.TabPane,r.__assign({},n),t.content)},t.defaultProps={data:{},elementProps:{}},t}(a.Component);n.default=l},{tslib:"1k9Lu",react:"28H6D","../styled":"5QTAz"}],"236ig":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("tslib"),a=r.__importStar(e("react")),s=e("../styled"),l=function(){},o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=e.elementProps,l=e.innerRef,o=e.isSelected;return a.default.createElement(s.NavItem,r.__assign({},n,{innerRef:l,status:o?"selected":"normal"}),t.label,o&&a.default.createElement(s.NavLine,{status:"selected"}))},t.defaultProps={data:{},elementProps:{},innerRef:l,isSelected:!1},t}(a.Component);n.default=o},{tslib:"1k9Lu",react:"28H6D","../styled":"5QTAz"}],"245mw":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("tslib"),a=r.__importStar(e("react")),s=e("../styled"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.elementRefs=[],t.tabKeyDownHandler=function(e){if(["ArrowRight","ArrowLeft"].includes(e.key)){var n=t.props,r=n.selected,a=n.tabs,s="ArrowRight"===e.key?1:-1,l=a.indexOf(r)+s;l<0||l>=a.length||(t.onSelect(a[l],l),t.elementRefs[l].focus())}},t.onSelect=function(e,n){t.props.onSelect(e,n)},t.tabMouseDownHandler=function(e){return e.preventDefault()},t}return r.__extends(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.tabs!==this.props.tabs&&(this.elementRefs=[])},t.prototype.render=function(){var e=this,t=this.props,n=t.selected,l=t.component,o=t.tabs;return a.default.createElement(s.NavWrapper,null,a.default.createElement(s.NavLine,{status:"normal"}),a.default.createElement(s.Nav,{role:"tablist"},o.map((function(t,s){var i=t===n,c={elementProps:{"aria-posinset":s+1,"aria-selected":i,"aria-setsize":o.length,"data-testid":t.testId,onClick:function(){return e.onSelect(t,s)},onKeyDown:e.tabKeyDownHandler,onMouseDown:e.tabMouseDownHandler,role:"tab",tabIndex:i?0:-1},innerRef:function(t){e.elementRefs[s]=t},data:t,isSelected:i};return a.default.createElement(l,r.__assign({key:s},c))}))))},t}(a.Component);n.default=l},{tslib:"1k9Lu",react:"28H6D","../styled":"5QTAz"}],"7cyMk":[function(e,t,n){var r=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");r.defineInteropFlag(n);var a=e("react-redux"),s=e("src/selectors/repository-selectors"),l=e("../../components/ref-selector/filtered-ref-list"),o=r.interopDefault(l);n.default=a.connect((e=>({mainRef:s.getRepositoryMainBranch(e),branchingModel:s.getRepositoryBranchingModel(e)})))(o.default)},{"react-redux":"5NPwH","src/selectors/repository-selectors":"3Vekm","../../components/ref-selector/filtered-ref-list":"2yQO0","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"2yQO0":[function(e,t,n){var r=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");r.defineInteropFlag(n),r.export(n,"generateRefUrl",(function(){return b}));var a=e("@babel/runtime/helpers/defineProperty"),s=r.interopDefault(a),l=e("qs"),o=r.interopDefault(l),i=e("react"),c=r.interopDefault(i),d=e("lodash-es"),f=e("src/sections/repository/urls"),u=r.interopDefault(f),p=e("src/utils/fetch"),h=r.interopDefault(p),m=e("./ref-list"),g=r.interopDefault(m);const b=(e,t,n,r,a)=>{const[s,l]=e.full_name.split("/"),i="branch"===n?u.default.api.v20.branches(s,l):u.default.api.v20.tags(s,l);let c=r?[r.name]:[];if(a){const{production:e,development:t}=a,n=[e,t].filter((e=>!!e&&!e.use_mainbranch));c=[...c,...n.map((e=>e.name))]}const d=c.map((e=>`name != "${e}" AND `)).join("");return`${i}?${o.default.stringify({pagelen:50,q:"branch"===n?`${d} name ~ "${t}"`:`name ~ "${t}"`,sort:"branch"===n?"name":"-target.date"})}`};class y extends i.PureComponent{constructor(...e){super(...e),s.default(this,"state",{isLoading:!1,refs:[],nextPageUrl:null}),s.default(this,"fetchRefs",((e,t,n,r,a)=>{const s=b(e,t,n,r,a);this.fetchRefsFromUrl(s,!0)})),s.default(this,"onLoadMorePages",(e=>{this.fetchRefsFromUrl(e,!1)})),s.default(this,"fetchRefsFromUrl",(async(e,t)=>{this.setState({isLoading:!0});try{const n=await fetch(h.default(e));if(!n.ok)throw Error();const{next:r,values:a}=await n.json(),{refs:s}=this.state,{type:l,mainRef:o,branchingModel:i}=this.props;let c=a;if("branch"===l){let e=[];if(this.shouldShowRef(o)&&t&&(e=[o]),i){const{development:n,production:r}=i,a=[n,r].filter((e=>!!e&&!e.use_mainbranch&&this.shouldShowRef(e)&&t));e=d.uniqBy([...e,...a],"name")}c=[...e,...c]}this.setState({isLoading:!1,nextPageUrl:r,refs:t?c:s.concat(c)})}catch(e){}})),s.default(this,"shouldShowRef",(e=>{const{filter:t}=this.props;return!(!e||!e.name)&&e.name.includes(t)}))}componentDidMount(){const{filter:e,repository:t,type:n,mainRef:r,branchingModel:a}=this.props;this.fetchRefs(t,e,n,r,a)}UNSAFE_componentWillReceiveProps(e){const{filter:t,repository:n,type:r,mainRef:a,branchingModel:s}=e;t===this.props.filter&&r===this.props.type&&(!n||this.props.repository&&this.props.repository.uuid===n.uuid)||this.fetchRefs(n,t,r,a,s),this.props.type!==r&&this.setState({refs:[]})}render(){const{onRefSelected:e,renderRef:t,type:n,filter:r}=this.props,{isLoading:a,refs:s,nextPageUrl:l}=this.state,o="tag"===n&&""!==r;return c.default.createElement(g.default,{nextPageUrl:l,isLoading:a,isFiltered:o,onLoadMorePages:this.onLoadMorePages,onRefSelected:e,refs:s,renderRef:t,type:n})}}n.default=y,s.default(y,"defaultProps",{filter:""})},{"@babel/runtime/helpers/defineProperty":"5MCal",qs:"6u280",react:"28H6D","lodash-es":"2fDxM","src/sections/repository/urls":"7JWOO","src/utils/fetch":"ZDSr3","./ref-list":"1joQA","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1joQA":[function(e,t,n){var r=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");r.defineInteropFlag(n);var a=e("@babel/runtime/helpers/defineProperty"),s=r.interopDefault(a),l=e("@atlaskit/spinner"),o=r.interopDefault(l),i=e("react"),c=r.interopDefault(i),d=e("react-intl"),f=e("lodash-es"),u=e("./ref-list.style"),p=e("./ref-selector.i18n"),h=r.interopDefault(p);class m extends i.PureComponent{constructor(...e){super(...e),s.default(this,"renderRef",(e=>{const t=this.props.renderRef(e);return c.default.cloneElement(t,{key:e.name,onClick:n=>{t.props.onClick&&t.props.onClick(n),this.props.onRefSelected(e)}})})),s.default(this,"onLoadMoreScrollHandler",f.debounce((e=>{const t=e.target,{nextPageUrl:n,isLoading:r,onLoadMorePages:a}=this.props;n&&!r&&t.scrollHeight-t.scrollTop<t.clientHeight+100&&a(n)}),200))}renderContents(){const{refs:e,type:t,isFiltered:n}=this.props;return"tag"===t&&0===e.length?n?c.default.createElement(d.FormattedMessage,h.default.noResultsTags):c.default.createElement(d.FormattedMessage,h.default.tagsEmptyState):"branch"===t&&0===e.length?c.default.createElement(d.FormattedMessage,h.default.noResultsBranches):e.map(((e,t)=>c.default.createElement(u.RefListItem,{key:t},this.renderRef(e))))}render(){const{isLoading:e,refs:t}=this.props;return!e||t&&0!==t.length?c.default.createElement(u.ScrollableContents,{onScroll:e=>{e.persist(),this.onLoadMoreScrollHandler(e)}},c.default.createElement(u.RefList,{role:"list"},this.renderContents()),c.default.createElement(u.SpinnerContainer,null,e&&c.default.createElement(o.default,{size:"medium"}))):c.default.createElement(u.LoadingContainer,null,c.default.createElement(o.default,{size:"medium"}))}}n.default=m,s.default(m,"defaultProps",{hasMore:!1,isLoading:!1,onLoadMorePages:()=>{},onRefSelected:()=>{},refs:[],renderRef:e=>c.default.createElement(u.RefButton,{appearance:"link"},e.name)})},{"@babel/runtime/helpers/defineProperty":"5MCal","@atlaskit/spinner":"4afTf",react:"28H6D","react-intl":"4XDLZ","lodash-es":"2fDxM","./ref-list.style":"4ckyy","./ref-selector.i18n":"5ciRj","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"4ckyy":[function(e,t,n){var r=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");r.defineInteropFlag(n),r.export(n,"LoadingContainer",(function(){return c})),r.export(n,"SpinnerContainer",(function(){return d})),r.export(n,"RefButton",(function(){return f})),r.export(n,"RefList",(function(){return u})),r.export(n,"RefListItem",(function(){return p})),r.export(n,"ScrollableContents",(function(){return h}));var a=e("@emotion/styled-base"),s=r.interopDefault(a),l=e("@atlaskit/button"),o=r.interopDefault(l),i=e("@atlaskit/theme");const c=s.default("div",{target:"eq214we0"})("display:flex;justify-content:center;align-items:center;margin:",i.gridSize(),"px;width:100%;min-height:70px;"),d=s.default(c,{target:"eq214we1"})("min-height:",4*i.gridSize(),"px;"),f=s.default(o.default,{target:"eq214we2"})({name:"l5nox8",styles:"&&{padding-left:0;text-align:left;}& span{margin-left:0;}"}),u=s.default("ul",{target:"eq214we3"})("list-style:none;padding-top:",i.gridSize(),"px;padding-left:0;"),p=s.default("li",{target:"eq214we4"})({name:"1oj327w",styles:"margin-top:0;a{display:block;}"}),h=s.default("div",{target:"eq214we5"})({name:"1t3a98l",styles:"min-height:86px;max-height:300px;overflow-y:auto;overflow-x:hidden;width:100%;"})},{"@emotion/styled-base":"7cOcD","@atlaskit/button":"5gisq","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}]},[]);
//# sourceMappingURL=shared.b067050a.js.map
