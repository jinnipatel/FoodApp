!function(e,t,r,a,s){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l="function"==typeof o.parcelRequire5160&&o.parcelRequire5160,n=l.cache||{},i="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(t,r){if(!n[t]){if(!e[t]){var a="function"==typeof o.parcelRequire5160&&o.parcelRequire5160;if(!r&&a)return a(t,!0);if(l)return l(t,!0);if(i&&"string"==typeof t)return i(t);var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}d.resolve=function(r){return e[t][1][r]||r},d.cache={};var u=n[t]=new c.Module(t);e[t][0].call(u.exports,d,u,u.exports,this)}return n[t].exports;function d(e){return c(d.resolve(e))}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=e,c.cache=n,c.parent=l,c.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(c,"root",{get:function(){return o.parcelRequire5160}}),o.parcelRequire5160=c;for(var u=0;u<t.length;u++)c(t[u])}({"1i0Wh":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/extends"),o=a.interopDefault(s),l=e("@atlaskit/page"),n=e("react"),i=a.interopDefault(n),c=e("react-helmet"),u=a.interopDefault(c),d=e("react-intl"),p=e("src/app/sidebar"),f=a.interopDefault(p),m=e("src/connect/web-panels/containers/source-web-panels"),h=a.interopDefault(m),b=e("../../../components/large-repository-warning-message"),g=a.interopDefault(b),y=e("../../../urls"),C=a.interopDefault(y),D=e("../containers/header"),j=a.interopDefault(D),k=e("../containers/sidebar"),v=a.interopDefault(k),x=e("./index.i18n"),w=a.interopDefault(x),E=e("./index.style");class S extends i.default.Component{renderDescription(){const{repository:e,repositoryAccessLevel:t}=this.props;if(!e)return null;if(e.description)return i.default.createElement(E.RepositoryDescription,null,e.description);if(!t||"admin"!==t)return null;const[r,a]=e.full_name.split("/");return i.default.createElement(E.RepositoryDescription,null,i.default.createElement(d.FormattedMessage,o.default({},w.default.repositoryDescriptionPlaceholder,{values:{addRepositoryDescriptionLink:i.default.createElement("a",{href:C.default.ui.admin(r,a)},i.default.createElement(d.FormattedMessage,w.default.addRepositoryDescriptionLink))}})))}renderTitle(){const{path:e}=this.props;if(e&&e.length){const t=`/${e}`.replace(/\//g," / ");return i.default.createElement(u.default,{defer:!1,title:t})}return null}render(){const{header:e,path:t,pathType:r,repository:a,repositoryAccessLevel:s,userUuid:o,isUpToSmallBreakpointActive:c}=this.props;return i.default.createElement(E.Page,null,this.renderTitle(),i.default.createElement(j.default,{path:t,pathType:r}),i.default.createElement(l.Grid,{layout:"fluid",spacing:c?"cosy":"comfortable"},i.default.createElement(l.GridColumn,null,!t&&i.default.createElement(h.default,null),a&&a.size&&i.default.createElement(g.default,{size:a.size,repositoryAccessLevel:s,userUuid:o,repositoryUuid:a.uuid}),this.renderDescription(),e&&i.default.createElement(n.Fragment,null,i.default.createElement(E.SelectorsHeader,null,e)),this.props.children)),i.default.createElement(f.default,null,i.default.createElement(v.default,{path:this.props.path})))}}r.default=S},{"@babel/runtime/helpers/extends":"bRbXd","@atlaskit/page":"kTNzw",react:"28H6D","react-helmet":"5WFGY","react-intl":"4XDLZ","src/app/sidebar":"2jatb","src/connect/web-panels/containers/source-web-panels":"5usaR","../../../components/large-repository-warning-message":"6UR7O","../../../urls":"7JWOO","../containers/header":"6QbbJ","../containers/sidebar":"7wHCT","./index.i18n":"6sJ62","./index.style":"6cR0L","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"5usaR":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("react"),o=a.interopDefault(s),l=e("react-redux"),n=e("src/selectors/repository-selectors"),i=e("src/selectors/user-selectors"),c=e("../components/source-web-panels");class u extends s.PureComponent{render(){const{principalId:e,repository:t}=this.props;if(!e||!t)return null;const[r,a]=t.full_name.split("/");return o.default.createElement(c.SourceViewWebpanels,{principalId:e,repositoryOwner:r,repositorySlug:a})}}r.default=l.connect((e=>({principalId:i.getTargetUserKey(e),repository:n.getCurrentRepository(e)})))(u)},{react:"28H6D","react-redux":"5NPwH","src/selectors/repository-selectors":"3Vekm","src/selectors/user-selectors":"7aW1B","../components/source-web-panels":"5GYTD","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"5GYTD":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"SourceViewWebpanels",(function(){return m}));var s=e("@babel/runtime/helpers/extends"),o=a.interopDefault(s),l=e("react"),n=a.interopDefault(l),i=e("@atlassian/bitbucket-connect-react"),c=e("src/connect/targets"),u=e("src/connect/shared/constants"),d=e("./loading"),p=a.interopDefault(d),f=e("./web-panels.style");class m extends l.PureComponent{render(){const{principalId:e,repositoryOwner:t,repositorySlug:r}=this.props,a=c.repositoryTarget({repositoryOwner:t,repositorySlug:r});return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.ConnectIframes,{moduleType:"webPanels",principalId:e,target:a,location:"org.bitbucket.repository.overview.informationPanel",height:`${f.webPanelHeight}`,width:`${f.webPanelWidth}`,options:{autoresize:!0},loadingComponent:()=>null,loadingFailedComponent:()=>null},(e=>e.length>0&&n.default.createElement(l.Fragment,null,e.map((({Component:e,module:t})=>n.default.createElement(f.SourceWebPanel,{key:t.id,"data-qa":"connect-sourceview-webpanel"},n.default.createElement(e,{loadingComponent:()=>n.default.createElement(p.default,{module:t,delay:u.LOADING_MODULE_DELAY}),loadingTimeoutComponent:e=>n.default.createElement(p.default,o.default({action:"timeout"},e,{module:t})),loadingFailedComponent:()=>n.default.createElement(p.default,{action:"failed",module:t})}))))))),n.default.createElement(i.ConnectModules,{principalId:e,moduleType:"generalPages",target:a}))}}},{"@babel/runtime/helpers/extends":"bRbXd",react:"28H6D","@atlassian/bitbucket-connect-react":"1dbYT","src/connect/targets":"3H1A6","src/connect/shared/constants":"zGxge","./loading":"1HsYT","./web-panels.style":"1J5KC","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3H1A6":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"repositoryTarget",(function(){return b})),a.export(r,"commitFileTarget",(function(){return g})),a.export(r,"commitDirectoryTarget",(function(){return y})),a.export(r,"branchTarget",(function(){return C})),a.export(r,"commitTarget",(function(){return D})),a.export(r,"workspaceTarget",(function(){return j}));var s=e("@babel/runtime/helpers/defineProperty"),o=a.interopDefault(s),l=e("src/sections/repository/urls"),n=a.interopDefault(l),i=e("src/urls/source"),c=a.interopDefault(i),u=e("src/urls/commit"),d=a.interopDefault(u),p=e("src/urls/workspaces"),f=a.interopDefault(p);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){o.default(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const b=({repositoryOwner:e,repositorySlug:t})=>({type:"repository",full_name:`${e}/${t}`,name:t,links:{self:{href:n.default.api.v20.repositoryAbs(e,t)}}}),g=({path:e,hash:t,repositoryOwner:r,repositorySlug:a})=>({type:"commit_file",path:e,commit:{type:"commit",hash:t,repository:b({repositoryOwner:r,repositorySlug:a})},links:{self:{href:c.default.api.v20.sourceAbs(`${r}/${a}`,t,e)}}}),y=e=>h(h({},g(e)),{},{type:"commit_directory"}),C=({name:e,repositoryOwner:t,repositorySlug:r})=>({type:"branch",name:e,repository:b({repositoryOwner:t,repositorySlug:r}),links:{self:{href:n.default.api.v20.branchAbs(t,r,e)}}}),D=({repositoryOwner:e,repositorySlug:t,hash:r})=>({type:"commit",hash:r,repository:b({repositoryOwner:e,repositorySlug:t}),links:{self:{href:d.default.api.v20.commitAbs(`${e}/${t}`,r)}}}),j=e=>({slug:e,type:"workspace",links:{self:{href:`${window.location.origin}${f.default.api.v20.get(e)}`}}})},{"@babel/runtime/helpers/defineProperty":"5MCal","src/sections/repository/urls":"7JWOO","src/urls/source":"4aV7V","src/urls/commit":"24dat","src/urls/workspaces":"2TUXz","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],zGxge:[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"LOADING_MODULE_DELAY",(function(){return s}));const s=300},{"@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1HsYT":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/extends"),o=a.interopDefault(s),l=e("@babel/runtime/helpers/defineProperty"),n=a.interopDefault(l),i=e("react"),c=a.interopDefault(i),u=e("react-intl"),d=e("@atlaskit/spinner"),p=a.interopDefault(d),f=e("lodash-es"),m=e("@atlaskit/button"),h=a.interopDefault(m),b=e("src/connect/shared/loading.i18n"),g=a.interopDefault(b),y=e("./loading.style");class C extends i.PureComponent{constructor(...e){super(...e),n.default(this,"timeout",void 0),n.default(this,"state",{delay:this.props.delay})}componentDidMount(){const{delay:e}=this.state;e&&(this.timeout=setTimeout((()=>this.setState({delay:0})),e))}componentWillUnmount(){clearTimeout(this.timeout)}render(){const{delay:e}=this.state,{action:t,module:r,failedCallback:a}=this.props;if("loading"===t&&e)return!1;const s=f.get(r,"app_name",f.get(r,"app_key","")),l=f.get(r,"app_base_url",f.get(r,"source.url",""));return c.default.createElement(y.Container,null,"loading"===t&&c.default.createElement(y.Spinner,null,c.default.createElement(p.default,{size:"small",delay:0})),s&&l&&c.default.createElement(u.FormattedMessage,o.default({},g.default[t],{values:{link:c.default.createElement("a",{href:l,target:"_blank"},s),action:"timeout"===t&&c.default.createElement(h.default,{appearance:"link",spacing:"none",onClick:a},c.default.createElement(u.FormattedMessage,g.default.cancelText))}})))}}r.default=C,n.default(C,"defaultProps",{action:"loading",delay:0})},{"@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","react-intl":"4XDLZ","@atlaskit/spinner":"4afTf","lodash-es":"2fDxM","@atlaskit/button":"5gisq","src/connect/shared/loading.i18n":"oFhJb","./loading.style":"13k48","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],oFhJb:[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({loading:{id:"frontbucket.connect.loadingDescription",defaultMessage:"Loading app {link}."},timeout:{id:"frontbucket.connect.loadingTimeoutDescription",defaultMessage:"App {link} is not responding. Wait or {action}."},failed:{id:"frontbucket.connect.loadingFailedDescription",defaultMessage:"App {link} failed to load."},cancelText:{id:"frontbucket.connect.cancelText",defaultMessage:"cancel"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"13k48":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Container",(function(){return l})),a.export(r,"Spinner",(function(){return n}));var s=e("@emotion/styled-base"),o=a.interopDefault(s);const l=o.default("small",{target:"e1rsklf90"})({name:"1tbblij",styles:"position:absolute;left:0;top:0;right:0;bottom:0;display:flex;align-items:center;margin:0;padding:0 12px;"}),n=o.default("div",{target:"e1rsklf91"})({name:"ttjnck",styles:"margin:0 8px 0 0;"})},{"@emotion/styled-base":"7cOcD","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1J5KC":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"webPanelHeight",(function(){return n})),a.export(r,"webPanelWidth",(function(){return i})),a.export(r,"SourceWebPanel",(function(){return c})),a.export(r,"PullRequestWebPanel",(function(){return u})),a.export(r,"WebPanelHeader",(function(){return d})),a.export(r,"WebPanelSection",(function(){return p}));var s=e("@emotion/styled-base"),o=a.interopDefault(s),l=e("@atlaskit/theme");const n="50px",i="100%",c=o.default("div",{target:"evqr4d40"})("display:flex;position:relative;margin-bottom:",3*l.gridSize(),"px;min-height:",n,";max-height:280px;overflow:auto;iframe{display:block;}"),u=o.default("div",{target:"evqr4d41"})("display:flex;position:relative;margin-top:",l.gridSize(),"px;overflow:auto;min-height:",n,";max-height:600px;iframe{display:block;overflow:auto;}"),d=o.default("span",{target:"evqr4d42"})(l.typography.h400(),";"),p=o.default("section",{target:"evqr4d43"})("margin-top:",l.gridSize(),"px;margin-bottom:",l.gridSize(),"px;")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"6UR7O":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("react"),o=a.interopDefault(s),l=e("@atlaskit/section-message"),n=a.interopDefault(l),i=e("react-intl"),c=e("src/utils/store"),u=a.interopDefault(c),d=e("src/hooks/intl"),p=e("../urls"),f=a.interopDefault(p),m=e("../constants"),h=e("./large-repository-warning.i18n"),b=a.interopDefault(h);r.default=({size:e=0,repositoryAccessLevel:t,userUuid:r,repositoryUuid:a})=>{const l=`large-message-dismissed::${r}::${a}`,[c,p]=s.useState(!u.default.get(l)),h=d.useIntl();return e>=m.REPOSITORY_SIZE_LIMIT?o.default.createElement(n.default,{appearance:"error",title:h.formatMessage(b.default.hardLimitHeadingLarge),actions:[{key:"more",text:o.default.createElement("a",{href:f.default.external.reduceRepositorySize,target:"_blank"},o.default.createElement(i.FormattedMessage,b.default.softLimitLearnMoreLink))}]},"admin"===t?o.default.createElement(i.FormattedMessage,b.default.hardLimitDescriptionAdmin):o.default.createElement(i.FormattedMessage,b.default.hardLimitDescription)):e>=m.REPOSITORY_SOFT_SIZE_LIMIT&&"admin"===t&&c?o.default.createElement(n.default,{appearance:"warning",title:h.formatMessage(b.default.softLimitHeading),actions:[{key:"more",text:o.default.createElement("a",{href:f.default.external.reduceRepositorySize,target:"_blank"},o.default.createElement(i.FormattedMessage,b.default.softLimitLearnMoreLink))},{key:"dismiss",text:o.default.createElement(i.FormattedMessage,b.default.dismiss),onClick:()=>{p(!1),u.default.set(l,!0)}}]},o.default.createElement(i.FormattedMessage,b.default.softLimitDescriptionAdmin)):null}},{react:"28H6D","@atlaskit/section-message":"EsUY3","react-intl":"4XDLZ","src/utils/store":"1ciM9","src/hooks/intl":"3iQ7X","../urls":"7JWOO","../constants":"2ufLW","./large-repository-warning.i18n":"3zcsv","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"6QbbJ":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("react-redux"),o=e("react-router-dom"),l=e("src/selectors/global-selectors"),n=e("src/selectors/repository-selectors"),i=e("src/selectors/user-selectors"),c=e("../components/header"),u=a.interopDefault(c);r.default=o.withRouter(s.connect((e=>{const{atRef:t,hash:r,ref:a}=e.repository.source.section,s=n.getCurrentRepository(e);return{currentRef:t||a,hash:r,isBannerOpen:Boolean(l.getSiteMessageBanner(e)),repository:s,repositoryAccessLevel:e.repository.details.accessLevel,showInvite:!!e.global.features["exp-share-to-invite-variation"],userIsAnonymous:i.getCurrentUserIsAnonymous(e),forkPolicy:null==s?void 0:s.fork_policy}}))(u.default))},{"react-redux":"5NPwH","react-router-dom":"3PBhg","src/selectors/global-selectors":"7zQ6v","src/selectors/repository-selectors":"3Vekm","src/selectors/user-selectors":"7aW1B","../components/header":"5jOp2","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"5jOp2":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"HeaderWithIntl",(function(){return K}));var s=e("@babel/runtime/helpers/defineProperty"),o=a.interopDefault(s),l=e("qs"),n=a.interopDefault(l),i=e("@atlaskit/button"),c=a.interopDefault(i),u=e("@atlaskit/dropdown-menu"),d=a.interopDefault(u),p=e("@atlaskit/icon/glyph/more"),f=a.interopDefault(p),m=e("@atlaskit/page-header"),h=a.interopDefault(m),b=e("@atlaskit/modal-dialog"),g=e("react"),y=a.interopDefault(g),C=e("react-intl"),D=e("@atlassian/bitbucket-features"),j=e("src/sections/global/components/page.style"),k=e("src/sections/repository/containers/subscriptions-modal-dialog"),v=a.interopDefault(k),x=e("src/sections/repository/components/download-repository-lfs-modal-dialog"),w=a.interopDefault(x),E=e("@atlassian/bitkit-analytics"),S=e("src/sections/repository/facts"),M=e("src/utils/analytics/publish"),P=e("src/connect/file-modules"),I=e("src/urls/source"),F=a.interopDefault(I),L=e("src/sections/repository/urls"),O=a.interopDefault(L),R=e("src/utils/fetch"),T=a.interopDefault(R),_=e("../../../components/repository-access-guard"),A=a.interopDefault(_),H=e("../../../containers/breadcrumbs"),Y=a.interopDefault(H),B=e("../../../containers/checkout-button"),W=a.interopDefault(B),z=e("../../../containers/clone-button"),U=a.interopDefault(z),N=e("../../../components/set-up-pipelines-button"),q=a.interopDefault(N),X=e("./header.i18n"),G=a.interopDefault(X);class V extends y.default.Component{constructor(...e){super(...e),o.default(this,"state",{isDownloadRepoModalOpen:!1}),o.default(this,"onOpenSubscriptionsDialog",(()=>{const{pathname:e}=this.props.location;this.props.history.push(`${e}?subscriptionsModalOpened=true`)})),o.default(this,"onCloseSubscriptionsDialog",(()=>{const{pathname:e}=this.props.location;this.props.history.push(e)})),o.default(this,"closeDownloadRepoModal",(()=>{this.setState({isDownloadRepoModalOpen:!1})})),o.default(this,"openDownloadRepoModal",(()=>{this.setState({isDownloadRepoModalOpen:!0})})),o.default(this,"publishHeaderAnalyticEvent",((e,t)=>{M.publishFact(new S.SourceHeaderActionClickedFact({label:e,repository_uuid:t,frontbucket_view:!0}))})),o.default(this,"getCreateFilePath",((e,t)=>e?"directory"===t?e&&`${e}/`:e&&e.substr(0,e.lastIndexOf("/")+1):null)),o.default(this,"shareRepo",(e=>{const{repository:t}=this.props;t&&(this.publishHeaderAnalyticEvent(e,E.uncurlyUuid(t.uuid)),window.location.href=F.default.ui.permissions(t.full_name))})),o.default(this,"onDownloadRepoAction",(async e=>{M.publishUiEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"sourceHeaderDropdownItem",source:"repositorySourceScreen",attributes:{item:"downloadRepository"}});try{const t=await fetch(T.default(F.default.api.internal.repositoryMetadataURL(e.full_name))),{has_lfs_files:r}=await t.json();r?this.openDownloadRepoModal():this.downloadRepo()}catch(e){this.downloadRepo()}})),o.default(this,"downloadRepo",(()=>{const{repository:e,currentRef:t}=this.props;if(!e||!t)return"";window.location.href=F.default.api.v20.downloadRepo(e.full_name,t.name)}))}renderActions(){const{currentRef:e,hash:t,intl:r,path:a,pathType:s,repository:o,forkPolicy:l,repositoryAccessLevel:n,showInvite:p,userIsAnonymous:m,features:{showSetUpPipelinesButton:h}}=this.props;if(!o||!t)return;const[b,g]=o.full_name.split("/"),D=()=>y.default.createElement("div",{style:{textAlign:"left"}},y.default.createElement(d.default,{"aria-label":r.formatMessage(G.default.actionsMenu),position:"bottom right",triggerType:"button",testId:"repo-actions-menu",triggerButtonProps:{iconBefore:y.default.createElement(f.default,{label:r.formatMessage(G.default.actionsMenu),size:"medium"})}},y.default.createElement(A.default,{requiredLevel:"read"},"allow_forks"===l&&y.default.createElement(u.DropdownItem,{href:O.default.ui.fork(b,g)},y.default.createElement(C.FormattedMessage,G.default.forkRepoAction)),y.default.createElement(u.DropdownItem,{href:O.default.ui.compare(b,g)},y.default.createElement(C.FormattedMessage,G.default.compareRepoAction))),y.default.createElement(A.default,{requiredLevel:"write"},y.default.createElement(u.DropdownItem,{href:F.default.ui.createFile(o.full_name,{refOrHash:t,path:this.getCreateFilePath(a,s),at:e?e.name:void 0}),onClick:()=>{this.publishHeaderAnalyticEvent("new_file",E.uncurlyUuid(o.uuid))}},y.default.createElement(C.FormattedMessage,G.default.newFileAction))),y.default.createElement(u.DropdownItem,{onClick:()=>{M.publishUiEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"sourceHeaderDropdownItem",source:"repositorySourceScreen",attributes:{item:"manageNotifications"}}),this.onOpenSubscriptionsDialog()}},y.default.createElement(C.FormattedMessage,G.default.manageNotifications)),y.default.createElement(u.DropdownItem,{onClick:()=>this.onDownloadRepoAction(o)},y.default.createElement(C.FormattedMessage,G.default.downloadRepoAction)),"admin"===n&&!p&&y.default.createElement(u.DropdownItem,{onClick:()=>this.shareRepo("share")},y.default.createElement(C.FormattedMessage,G.default.shareAction))));return y.default.createElement(i.ButtonGroup,null,a&&"file"===s&&y.default.createElement(P.ConnectFileActions,null),"admin"===n&&p&&y.default.createElement(c.default,{onClick:()=>this.shareRepo("invite")},y.default.createElement(C.FormattedMessage,G.default.inviteAction)),!a&&h?y.default.createElement(q.default,{pipelinesUrl:F.default.ui.pipelines(o.full_name)}):null,a?y.default.createElement(W.default,{onClick:()=>{this.publishHeaderAnalyticEvent("checkout",E.uncurlyUuid(o.uuid))}}):y.default.createElement(U.default,null),!m&&y.default.createElement(D,null))}render(){const{isDownloadRepoModalOpen:e}=this.state,{path:t,repository:r,userIsAnonymous:a,location:s}=this.props,o=n.default.parse(s.search,{ignoreQueryPrefix:!0}),l=t&&t.split("/").pop()||r&&r.name||y.default.createElement(C.FormattedMessage,G.default.heading);return y.default.createElement(j.PageHeaderWrapper,{layout:"fluid","data-qa":"page-header-wrapper"},y.default.createElement(j.PageHeaderColumn,null,y.default.createElement(h.default,{actions:this.renderActions(),breadcrumbs:y.default.createElement(Y.default,{isRoot:!t})},y.default.createElement(w.default,{isOpen:e,onClose:this.closeDownloadRepoModal,onDownload:()=>{this.downloadRepo(),this.closeDownloadRepoModal()}}),y.default.createElement(b.ModalTransition,null,!a&&o.subscriptionsModalOpened&&y.default.createElement(v.default,{onCloseSubscriptionsDialog:this.onCloseSubscriptionsDialog})),l)))}}const Z=D.withFeature(D.FeatureKeys.showSetUpPipelinesButton,!1),K=C.injectIntl(V);r.default=Z(K)},{"@babel/runtime/helpers/defineProperty":"5MCal",qs:"6u280","@atlaskit/button":"5gisq","@atlaskit/dropdown-menu":"6GS9r","@atlaskit/icon/glyph/more":"5xNC2","@atlaskit/page-header":"25jhx","@atlaskit/modal-dialog":"Xl851",react:"28H6D","react-intl":"4XDLZ","@atlassian/bitbucket-features":"3eRSg","src/sections/global/components/page.style":"6enE0","src/sections/repository/containers/subscriptions-modal-dialog":"3x8X1","src/sections/repository/components/download-repository-lfs-modal-dialog":"6N9nP","@atlassian/bitkit-analytics":"5YLSk","src/sections/repository/facts":"46Pt9","src/utils/analytics/publish":"3nwSx","src/connect/file-modules":"5MCzA","src/urls/source":"4aV7V","src/sections/repository/urls":"7JWOO","src/utils/fetch":"ZDSr3","../../../components/repository-access-guard":"3sr0a","../../../containers/breadcrumbs":"6edQt","../../../containers/checkout-button":"mMj3w","../../../containers/clone-button":"5Ocm4","../../../components/set-up-pipelines-button":"30gDR","./header.i18n":"3qMFx","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"6enE0":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"PageHeaderWrapper",(function(){return c})),a.export(r,"PageHeaderColumn",(function(){return u})),a.export(r,"PageSection",(function(){return d})),a.export(r,"PanelHeader",(function(){return p}));var s=e("@emotion/styled-base"),o=a.interopDefault(s),l=e("@atlaskit/theme"),n=e("@atlassian/bitkit-responsive");const i=12*(10*l.gridSize())+"px",c=o.default("header",{target:"e1k2snkw0"})("margin:0 auto;max-width:",(e=>"fluid"===e.layout?"100%":i),";padding:0 ",2.5*l.gridSize(),"px;"),u=o.default("div",{target:"e1k2snkw1"})("margin:0 ",2.5*l.gridSize(),"px;",n.media.upToSmall("\n    margin: 0;\n  "),""),d=o.default("section",{target:"e1k2snkw2"})("margin:0 auto;max-width:",i,";"),p=o.default("h2",{target:"e1k2snkw3"})(l.typography.h400(),";margin:0;display:flex;align-items:center;")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/bitkit-responsive":"6pj4A","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3x8X1":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("redux"),o=e("react-redux"),l=e("src/selectors/repository-selectors"),n=e("../actions"),i=e("../actions/toggle-repository-watch"),c=a.interopDefault(i),u=e("../components/subscriptions-modal-dialog"),d=a.interopDefault(u);r.default=s.compose(o.connect((e=>({hasError:e.repository.subscriptions.hasError,isWatchingRepository:e.repository.details.isWatching,repositoryFullSlug:l.getCurrentRepositoryFullSlug(e),settings:e.repository.subscriptions.settings})),(e=>({onFetchRepositorySubscriptions:(t,r)=>e(n.fetchRepositorySubscriptions(t,r)),onToggleRepositoryWatch:t=>{e(c.default(t))}}))))(d.default)},{redux:"1KhGk","react-redux":"5NPwH","src/selectors/repository-selectors":"3Vekm","../actions":"5IkRt","../actions/toggle-repository-watch":"1Uqpw","../components/subscriptions-modal-dialog":"8MWCl","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1Uqpw":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("./");r.default=e=>({type:a.TOGGLE_REPOSITORY_WATCH.REQUEST,payload:{repositoryFullSlug:e}})},{"./":"5IkRt","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"8MWCl":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/extends"),o=a.interopDefault(s),l=e("@babel/runtime/helpers/defineProperty"),n=a.interopDefault(l),i=e("@atlaskit/button"),c=a.interopDefault(i),u=e("@atlaskit/checkbox"),d=e("@atlaskit/modal-dialog"),p=a.interopDefault(d),f=e("react"),m=a.interopDefault(f),h=e("react-intl"),b=e("src/components/generic-message"),g=e("src/utils/analytics/publish"),y=e("src/i18n"),C=e("../urls"),D=a.interopDefault(C),j=e("./subscriptions-modal-dialog.i18n"),k=a.interopDefault(j);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){n.default(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const w={pullrequests:"labelPullrequests",issues:"labelIssues",commits:"labelCommits",wiki:"labelWiki",forks:"labelForks",commit_status:"labelPipelines"};class E extends f.PureComponent{constructor(...e){super(...e),n.default(this,"handleOnCheckboxChange",(e=>{if(!e.currentTarget)return;const{onFetchRepositorySubscriptions:t,repositoryFullSlug:r,settings:a}=this.props,{checked:s,value:o}=e.currentTarget;t(r,x(x({},a),{[o]:s}))})),n.default(this,"renderCheckbox",(e=>{const{intl:t,isWatchingRepository:r,settings:a}=this.props,s=w[e];return m.default.createElement(u.Checkbox,{isChecked:a[e],isDisabled:!r,label:t.formatMessage(k.default[s]),onChange:this.handleOnCheckboxChange,value:e})}))}componentDidMount(){const{onFetchRepositorySubscriptions:e,repositoryFullSlug:t}=this.props;t&&e(t)}componentDidUpdate(e){const{onFetchRepositorySubscriptions:t,repositoryFullSlug:r}=this.props;r&&r!==e.repositoryFullSlug&&t(r)}render(){if(!this.props.settings)return null;const{hasError:e,isWatchingRepository:t,onFetchRepositorySubscriptions:r,onToggleRepositoryWatch:a,onCloseSubscriptionsDialog:s,repositoryFullSlug:l,settings:n}=this.props,{has_commit_statuses:i,has_issues:u,has_repo:C,has_wiki:j}=n,v=m.default.createElement(h.FormattedMessage,k.default[t?"headingWatching":"headingNotWatching"]),x=()=>m.default.createElement(c.default,{onClick:()=>{g.publishUiEvent({action:"clicked",actionSubject:"button",actionSubjectId:"watchRepositoryButton",source:"repositorySubscriptionsModal",attributes:{item:t?"unwatchRepository":"watchRepository"}}),a(l)},"aria-pressed":t},m.default.createElement(h.FormattedMessage,k.default[t?"buttonUnwatchRepository":"buttonWatchRepository"])),w=()=>m.default.createElement(f.Fragment,null,m.default.createElement("p",null,m.default.createElement(h.FormattedMessage,o.default({tagName:"strong"},k.default.headingSettingsList))),C&&this.renderCheckbox("pullrequests"),u&&this.renderCheckbox("issues"),C&&this.renderCheckbox("commits"),j&&this.renderCheckbox("wiki"),C&&this.renderCheckbox("forks"),C&&i&&this.renderCheckbox("commit_status")),E=()=>m.default.createElement(b.ErrorState,{description:m.default.createElement(h.FormattedMessage,o.default({tagName:"p"},k.default.errorDescription)),onClick:()=>r(l)});return m.default.createElement(p.default,{autoFocus:!1,heading:v,footer:()=>m.default.createElement(d.ModalFooter,null,m.default.createElement(c.default,{appearance:"link",href:D.default.ui.notifications,onClick:()=>g.publishUiEvent({action:"clicked",actionSubject:"link",actionSubjectId:"manageAllSubscriptionsLink",source:"repositorySubscriptionsModal",attributes:{item:"manageAllSubscriptions"}})},m.default.createElement(h.FormattedMessage,k.default.actionManageNotifications)),m.default.createElement(c.default,{appearance:"subtle",onClick:s},m.default.createElement(h.FormattedMessage,y.commonMessages.close))),width:"small"},m.default.createElement(x,null),e?m.default.createElement(E,null):m.default.createElement(w,null))}}r.default=h.injectIntl(E)},{"@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/defineProperty":"5MCal","@atlaskit/button":"5gisq","@atlaskit/checkbox":"6TqBo","@atlaskit/modal-dialog":"Xl851",react:"28H6D","react-intl":"4XDLZ","src/components/generic-message":"1x8uZ","src/utils/analytics/publish":"3nwSx","src/i18n":"5APXb","../urls":"7JWOO","./subscriptions-modal-dialog.i18n":"67NDk","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"67NDk":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({headingWatching:{id:"frontbucket.repository.subscriptionsDialog.headingWatching",defaultMessage:"You are watching this repository"},headingNotWatching:{id:"frontbucket.repository.subscriptionsDialog.headingNotWatching",defaultMessage:"You are not watching this repository"},actionManageNotifications:{id:"frontbucket.repository.subscriptionsDialog.actionManageNotifications",defaultMessage:"Manage all notifications"},buttonWatchRepository:{id:"frontbucket.repository.subscriptionsDialog.buttonWatchRepository",defaultMessage:"Watch this repository"},buttonUnwatchRepository:{id:"frontbucket.repository.subscriptionsDialog.buttonUnwatchRepository",defaultMessage:"Stop watching"},headingSettingsList:{id:"frontbucket.repository.subscriptionsDialog.headingSettingsList",defaultMessage:"Subscribe to notifications about all"},labelPullrequests:{id:"frontbucket.repository.subscriptionsDialog.labelPullrequests",defaultMessage:"Pull requests"},labelIssues:{id:"frontbucket.repository.subscriptionsDialog.labelIssues",defaultMessage:"Issues"},labelCommits:{id:"frontbucket.repository.subscriptionsDialog.labelCommits",defaultMessage:"Commits"},labelWiki:{id:"frontbucket.repository.subscriptionsDialog.labelWiki",defaultMessage:"Wiki changes"},labelForks:{id:"frontbucket.repository.subscriptionsDialog.labelForks",defaultMessage:"Forks"},labelPipelines:{id:"frontbucket.repository.subscriptionsDialog.labelPipelines",defaultMessage:"Pipelines"},errorHeading:{id:"frontbucket.repository.subscriptionsDialog.errorHeading",defaultMessage:"Something went wrong..."},errorDescription:{id:"frontbucket.repository.subscriptionsDialog.errorDescription",defaultMessage:"We were unable to get your notification settings."},errorAction:{id:"frontbucket.repository.subscriptionsDialog.errorAction",defaultMessage:"Try again"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"6N9nP":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/extends"),o=a.interopDefault(s),l=e("react"),n=a.interopDefault(l),i=e("@atlaskit/modal-dialog"),c=a.interopDefault(i),u=e("react-intl"),d=e("src/i18n"),p=e("./download-repository-lfs-modal-dialog.i18n"),f=a.interopDefault(p);class m extends l.Component{render(){const{intl:e,onClose:t,onDownload:r}=this.props,a=n.default.createElement("a",{href:"https://confluence.atlassian.com/x/RjRmMQ",target:"_blank"},e.formatMessage(f.default.lfsLimitationsLink));return n.default.createElement(i.ModalTransition,null,this.props.isOpen&&n.default.createElement(c.default,{actions:[{text:e.formatMessage(f.default.actionDownloadRepository),onClick:r},{text:e.formatMessage(d.commonMessages.cancel),onClick:t}],onClose:t,heading:e.formatMessage(f.default.heading),width:"small"},n.default.createElement(u.FormattedMessage,o.default({tagName:"p"},f.default.downloadWarning)),n.default.createElement(u.FormattedMessage,o.default({tagName:"p"},f.default.readMore,{values:{link:a}}))))}}r.default=u.injectIntl(m)},{"@babel/runtime/helpers/extends":"bRbXd",react:"28H6D","@atlaskit/modal-dialog":"Xl851","react-intl":"4XDLZ","src/i18n":"5APXb","./download-repository-lfs-modal-dialog.i18n":"5vpbw","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"5vpbw":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({heading:{id:"frontbucket.repository.downloadRepositoryLfsModalDialog.heading",defaultMessage:"Download Git LFS repository"},actionDownloadRepository:{id:"frontbucket.repository.downloadRepositoryLfsModalDialog.actionDownloadRepository",defaultMessage:"Download"},lfsLimitationsLink:{id:"frontbucket.repository.downloadRepositoryLfsModalDialog.lfsLimitationsLink",defaultMessage:"workaround for including Git LFS files"},downloadWarning:{id:"frontbucket.repository.downloadRepositoryLfsModalDialog.downloadWarning",defaultMessage:"Currently, Git LFS files are not included when you download an archive of the repository."},readMore:{id:"frontbucket.repository.downloadRepositoryLfsModalDialog.readMore",defaultMessage:"Read about the {link} in an archive."}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"5MCzA":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DEFAULT_EDITOR_KEY",(function(){return s.DEFAULT_EDITOR_KEY})),a.export(r,"ConnectFileViewer",(function(){return l.default})),a.export(r,"ConnectFileActions",(function(){return i.default})),a.export(r,"ConnectFileEditor",(function(){return u.default})),a.export(r,"ConnectFileModuleMenu",(function(){return p.default}));var s=e("./components/file-editor"),o=e("./containers/file-viewer"),l=a.interopDefault(o),n=e("./containers/file-actions"),i=a.interopDefault(n),c=e("./containers/file-editor"),u=a.interopDefault(c),d=e("./containers/file-module-menu"),p=a.interopDefault(d)},{"./components/file-editor":"5rLEf","./containers/file-viewer":"1N9Fq","./containers/file-actions":"54Woj","./containers/file-editor":"5q7jG","./containers/file-module-menu":"yEgNi","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"5rLEf":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DEFAULT_EDITOR_KEY",(function(){return m}));var s=e("@babel/runtime/helpers/extends"),o=a.interopDefault(s),l=e("@babel/runtime/helpers/objectWithoutProperties"),n=a.interopDefault(l),i=e("react"),c=a.interopDefault(i),u=e("@atlassian/bitbucket-connect-react"),d=e("src/connect/targets"),p=e("./loading-failed"),f=a.interopDefault(p);const m="$default";class h extends i.PureComponent{render(){const e=this.props,{source:t,hash:r,height:a,path:s,principalId:l,repositoryFullSlug:i}=e,p=n.default(e,["source","hash","height","path","principalId","repositoryFullSlug"]);if(!l||!i||!r)return null;const[m,h]=i.split("/"),b=[{target:d.commitFileTarget({path:s,hash:r,repositoryOwner:m,repositorySlug:h}),modules:[{moduleType:"fileEditors"},{moduleType:"generalPages"}]}];return c.default.createElement(u.FileEditor,o.default({},p,{defaultStyles:{display:"block",height:a},loadingFailedComponent:f.default,principalId:l,source:t,query:b}))}}r.default=h},{"@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/objectWithoutProperties":"2CLk9",react:"28H6D","@atlassian/bitbucket-connect-react":"1dbYT","src/connect/targets":"3H1A6","./loading-failed":"6DcFC","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"6DcFC":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/extends"),o=a.interopDefault(s),l=e("react"),n=a.interopDefault(l),i=e("react-intl"),c=e("@atlaskit/icon/glyph/editor/error"),u=a.interopDefault(c),d=e("@atlaskit/theme"),p=e("./loading-failed.style"),f=e("./loading-failed.i18n"),m=a.interopDefault(f);class h extends l.PureComponent{render(){const{addonKey:e}=this.props;return n.default.createElement(p.Wrapper,null,n.default.createElement(p.Header,null,n.default.createElement(u.default,{primaryColor:d.colors.R300,label:""}),n.default.createElement(p.Title,null,n.default.createElement(i.FormattedMessage,m.default.connectLoadingErrorTitle))),n.default.createElement(p.Description,null,n.default.createElement(i.FormattedMessage,o.default({},m.default.connectLoadingErrorDescription,{values:{appName:e}}))))}}r.default=h},{"@babel/runtime/helpers/extends":"bRbXd",react:"28H6D","react-intl":"4XDLZ","@atlaskit/icon/glyph/editor/error":"4bvBE","@atlaskit/theme":"5e08t","./loading-failed.style":"14OSZ","./loading-failed.i18n":"1IqT0","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"14OSZ":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Wrapper",(function(){return n})),a.export(r,"Header",(function(){return i})),a.export(r,"Title",(function(){return c})),a.export(r,"Description",(function(){return u}));var s=e("@emotion/styled-base"),o=a.interopDefault(s),l=e("@atlaskit/theme");const n=o.default("div",{target:"e6tvwjo0"})("display:flex;flex-direction:column;align-items:center;flex-grow:1;padding:",4*l.gridSize(),"px;"),i=o.default("div",{target:"e6tvwjo1"})(l.typography.h400(),";align-items:center;display:flex;"),c=o.default("div",{target:"e6tvwjo2"})("margin-left:",l.gridSize(),"px;"),u=o.default("p",{target:"e6tvwjo3"})("color:",l.colors.N500,";")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1IqT0":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({connectLoadingErrorTitle:{id:"frontbucket.repository.source.connect.loadingErrorTitle",defaultMessage:"Your app failed to load"},connectLoadingErrorDescription:{id:"frontbucket.repository.source.connect.loadingErrorDescription",defaultMessage:"Something went wrong when we tried to load the app {appName}."}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1N9Fq":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("react"),o=a.interopDefault(s),l=e("react-redux"),n=e("react-router-dom"),i=e("lodash-es"),c=e("src/utils/path"),u=e("src/selectors/repository-selectors"),d=e("src/selectors/user-selectors"),p=e("../components/file-viewer");class f extends s.PureComponent{render(){const{hash:e,height:t,principalId:r,repository:a,viewer:s}=this.props;if(!r||!a||!e)return null;const{params:l}=this.props.match;if(!l.path)return null;const n=c.safeDecodePath(l.path||""),[i,u]=a.full_name.split("/");return o.default.createElement(p.FileViewer,{height:t,principalId:r,repositoryOwner:i,repositorySlug:u,path:n,hash:e,viewer:s})}}r.default=n.withRouter(l.connect((e=>({principalId:d.getTargetUserKey(e),repository:u.getCurrentRepository(e),hash:i.get(e,"repository.source.section.hash")})))(f))},{react:"28H6D","react-redux":"5NPwH","react-router-dom":"3PBhg","lodash-es":"2fDxM","src/utils/path":"6E7Gi","src/selectors/repository-selectors":"3Vekm","src/selectors/user-selectors":"7aW1B","../components/file-viewer":"5jXmt","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"5jXmt":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"FileViewer",(function(){return u}));var s=e("react"),o=a.interopDefault(s),l=e("@atlassian/bitbucket-connect-react"),n=e("src/connect/targets"),i=e("./loading-failed"),c=a.interopDefault(i);class u extends s.PureComponent{render(){const{hash:e,height:t,path:r,principalId:a,repositoryOwner:s,repositorySlug:i,viewer:u}=this.props;return o.default.createElement(l.ConnectIframe,{defaultStyles:{height:t,width:"100%"},moduleType:"fileViews",principalId:a,target:n.commitFileTarget({path:r,hash:e,repositoryOwner:s,repositorySlug:i}),moduleKey:u,loadingFailedComponent:c.default})}}},{react:"28H6D","@atlassian/bitbucket-connect-react":"1dbYT","src/connect/targets":"3H1A6","./loading-failed":"6DcFC","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"54Woj":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("react"),o=a.interopDefault(s),l=e("react-redux"),n=e("src/selectors/repository-selectors"),i=e("src/selectors/user-selectors"),c=e("../components/file-actions");class u extends s.PureComponent{render(){const{principalId:e,repository:t,hash:r,sourceObject:a}=this.props;if(!e||!t||!r||!a||a.isLoading)return null;const{path:s}=a,[l,n]=t.full_name.split("/");return o.default.createElement(c.FileActions,{principalId:e,repositoryOwner:l,repositorySlug:n,path:s,hash:r})}}r.default=l.connect((e=>({principalId:i.getTargetUserKey(e),repository:n.getCurrentRepository(e),hash:e.repository.source.section.hash,sourceObject:e.repository.source.section.sourceObject})))(u)},{react:"28H6D","react-redux":"5NPwH","src/selectors/repository-selectors":"3Vekm","src/selectors/user-selectors":"7aW1B","../components/file-actions":"1u3v6","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1u3v6":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"FileActions",(function(){return c}));var s=e("react"),o=a.interopDefault(s),l=e("@atlassian/bitbucket-connect-react"),n=e("src/connect/targets"),i=e("./file-actions.style");class c extends s.PureComponent{render(){const{principalId:e,path:t,hash:r,repositoryOwner:a,repositorySlug:s}=this.props;return o.default.createElement(l.WebItems,{location:"org.bitbucket.source.file.actions",principalId:e,target:n.commitFileTarget({path:t,hash:r,repositoryOwner:a,repositorySlug:s}),component:i.WebItemButton,loadingComponent:()=>null},(e=>o.default.createElement("span",{"data-qa":"connect-source-file-actions"},e)))}}},{react:"28H6D","@atlassian/bitbucket-connect-react":"1dbYT","src/connect/targets":"3H1A6","./file-actions.style":"1iP6x","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1iP6x":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"WebItemButton",(function(){return c}));var s=e("@emotion/styled-base"),o=a.interopDefault(s),l=e("@atlaskit/theme"),n=e("@atlaskit/button"),i=a.interopDefault(n);const c=o.default(i.default,{target:"ebsqw0h0"})("margin-right:",l.gridSize(),"px;&:last-child{margin-right:0;}")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlaskit/button":"5gisq","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"5q7jG":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("react-redux"),o=e("src/selectors/repository-selectors"),l=e("src/selectors/user-selectors"),n=e("../components/file-editor"),i=a.interopDefault(n);r.default=s.connect((e=>({hash:e.repository.source.section.hash,principalId:l.getTargetUserKey(e),repositoryFullSlug:o.getCurrentRepositoryFullSlug(e)})))(i.default)},{"react-redux":"5NPwH","src/selectors/repository-selectors":"3Vekm","src/selectors/user-selectors":"7aW1B","../components/file-editor":"5rLEf","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],yEgNi:[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("react"),o=a.interopDefault(s),l=e("react-redux"),n=e("lodash-es"),i=e("src/selectors/repository-selectors"),c=e("src/selectors/user-selectors"),u=e("../components/file-module-menu");class d extends s.PureComponent{render(){const{moduleKey:e,moduleType:t,principalId:r,repository:a,hash:s,defaultLabel:l,onSelect:n,sourceObject:i}=this.props;if(!r||!a||!s||!i||i.isLoading)return null;const{path:c}=i,[d,p]=a.full_name.split("/");return o.default.createElement(u.FileModuleMenu,{moduleKey:e,moduleType:t,principalId:r,repositoryOwner:d,repositorySlug:p,path:c,hash:s,defaultLabel:l,onSelect:n})}}r.default=l.connect((e=>({principalId:c.getTargetUserKey(e),repository:i.getCurrentRepository(e),hash:n.get(e,"repository.source.section.hash"),sourceObject:e.repository.source.section.sourceObject})))(d)},{react:"28H6D","react-redux":"5NPwH","lodash-es":"2fDxM","src/selectors/repository-selectors":"3Vekm","src/selectors/user-selectors":"7aW1B","../components/file-module-menu":"6xh8D","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"6xh8D":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"FileModuleMenu",(function(){return h}));var s=e("react"),o=a.interopDefault(s),l=e("@atlaskit/icon/glyph/presence-active"),n=a.interopDefault(l),i=e("@atlaskit/dropdown-menu"),c=a.interopDefault(i),u=e("lodash-es"),d=e("@atlassian/bitbucket-connect-react"),p=e("src/connect/targets"),f=e("./file-editor"),m=e("./file-module-menu.style");class h extends s.PureComponent{render(){const{defaultLabel:e,hash:t,moduleKey:r,moduleType:a,path:s,principalId:l,repositoryOwner:h,repositorySlug:b}=this.props;return o.default.createElement(d.ConnectModules,{principalId:l,target:p.commitFileTarget({path:s,hash:t,repositoryOwner:h,repositorySlug:b}),moduleType:a},(({modules:t})=>{if(!t.length)return!1;const a=t.find((e=>e.descriptor.key===r));return o.default.createElement(c.default,{position:"bottom right",trigger:a?u.get(a,"descriptor.name.value"):e,triggerButtonProps:{appearance:"subtle"},triggerType:"button"},o.default.createElement(i.DropdownItemGroup,null,o.default.createElement(i.DropdownItem,{onClick:()=>this.props.onSelect(f.DEFAULT_EDITOR_KEY)},o.default.createElement(m.MenuItem,null,o.default.createElement(m.IconWrapper,null,!a&&o.default.createElement(n.default,{size:"small",label:""})),o.default.createElement("span",null,e))),t.map((e=>o.default.createElement(i.DropdownItem,{key:e.id,onClick:()=>this.props.onSelect(e.descriptor.key)},o.default.createElement(m.MenuItem,null,o.default.createElement(m.IconWrapper,null,r===e.descriptor.key&&o.default.createElement(n.default,{size:"small",label:""})),o.default.createElement("span",null,u.get(e,"descriptor.name.value"))))))))}))}}},{react:"28H6D","@atlaskit/icon/glyph/presence-active":"3diiZ","@atlaskit/dropdown-menu":"6GS9r","lodash-es":"2fDxM","@atlassian/bitbucket-connect-react":"1dbYT","src/connect/targets":"3H1A6","./file-editor":"5rLEf","./file-module-menu.style":"7d3CA","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3diiZ":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=o(e("react")),s=o(e("@atlaskit/icon/base"));function o(e){return e&&e.__esModule?e:{default:e}}const l=e=>a.default.createElement(s.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><circle cx="12" cy="12" r="6" fill="currentColor" fill-rule="evenodd"/></svg>'},e));l.displayName="PresenceActiveIcon";var n=l;r.default=n},{react:"28H6D","@atlaskit/icon/base":"6KSXI"}],"7d3CA":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MenuItem",(function(){return n})),a.export(r,"IconWrapper",(function(){return i}));var s=e("@emotion/styled-base"),o=a.interopDefault(s),l=e("@atlaskit/theme");const n=o.default("div",{target:"e1dps1s50"})({name:"k008qs",styles:"display:flex;"}),i=o.default("span",{target:"e1dps1s51"})("width:",3*l.gridSize(),"px;")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],mMj3w:[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("react-redux"),o=e("src/selectors/repository-selectors"),l=e("../components/checkout-button"),n=a.interopDefault(l);r.default=s.connect((e=>{const{section:t}=e.repository.source,r=t.ref?t.ref.name:null;return{repository:o.getCurrentRepository(e),refName:r,hash:e.repository.source.section.hash}}))(n.default)},{"react-redux":"5NPwH","src/selectors/repository-selectors":"3Vekm","../components/checkout-button":"7sQil","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"30gDR":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"SetUpPipelinesButton",(function(){return y}));var s=e("react"),o=a.interopDefault(s),l=e("react-redux"),n=e("@atlaskit/button"),i=a.interopDefault(n),c=e("src/hooks/intl"),u=e("src/utils/analytics/publish"),d=e("src/selectors/repository-selectors"),p=e("src/selectors/workspace-selectors"),f=e("src/selectors/user-selectors"),m=e("../actions/fetch-repository-details"),h=e("../reducers/details"),b=e("./set-up-pipelines-button.i18n"),g=a.interopDefault(b);const y=({pipelinesUrl:e})=>{const t=c.useIntl(),r=l.useDispatch(),a=l.useSelector(f.getCurrentUser),n=l.useSelector(d.getIsPipelinesEnabledLoadingState),b=l.useSelector(d.getIsPipelinesEnabled),y=l.useSelector(d.getIsPipelinesPremium),C=l.useSelector(d.getCurrentRepoWorkspaceSlug),{isFetchWorkspacePlanLoading:D}=l.useSelector(p.getWorkspacePlanRequestStatus),{isWorkspacePremium:j,isWorkspacePaid:k}=l.useSelector(p.getWorkspacePlan),v=!j&&!k,x=n===h.PipelinesEnabledLoadingState.Loaded&&!b&&v,w=s.useCallback((()=>u.publishUiEvent({source:"repository",action:"clicked",actionSubject:"button",actionSubjectId:"setUpPipelinesButton",attributes:{pipelinesPremium:y,paidWorkspace:k,premiumWorkspace:j}})),[y,k,j]),E=s.useCallback((()=>{u.publishScreenEvent("setupBuild",{pipelinesPremium:y,paidWorkspace:k,premiumWorkspace:j})}),[y,j,k]);return s.useEffect((()=>{a&&n===h.PipelinesEnabledLoadingState.NotLoaded&&r(m.fetchIsPipelinesEnabled()),C&&D&&r(m.fetchWorkspacePlan(C))}),[r,a,n,D,C]),s.useEffect((()=>{x&&E()}),[x,E]),x?o.default.createElement(i.default,{appearance:"primary",onClick:w,href:e},t.formatMessage(g.default.setUpAction)):null};r.default=y},{react:"28H6D","react-redux":"5NPwH","@atlaskit/button":"5gisq","src/hooks/intl":"3iQ7X","src/utils/analytics/publish":"3nwSx","src/selectors/repository-selectors":"3Vekm","src/selectors/workspace-selectors":"5WIAi","src/selectors/user-selectors":"7aW1B","../actions/fetch-repository-details":"42s3W","../reducers/details":"5MZk1","./set-up-pipelines-button.i18n":"6FfI3","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"6FfI3":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({setUpAction:{id:"frontbucket.repository.source.setUpAction",defaultMessage:"Set up build"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3qMFx":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({actionsMenu:{id:"frontbucket.repository.source.header.actionsMenu",defaultMessage:"Repository actions"},heading:{id:"frontbucket.repository.source.breadcrumbs.pageBreadcrumb",defaultMessage:"Source"},newFileAction:{id:"frontbucket.repository.source.header.newFileAction",defaultMessage:"Add file"},inviteAction:{id:"frontbucket.repository.source.header.inviteAction",defaultMessage:"Invite"},shareAction:{id:"frontbucket.repository.source.header.shareAction",defaultMessage:"Share repository"},manageNotifications:{id:"frontbucket.repository.source.manageNotifications",defaultMessage:"Manage notifications"},leaveRepoAction:{id:"frontbucket.repository.source.header.leaveRepoAction",defaultMessage:"Leave repository"},downloadRepoAction:{id:"frontbucket.repository.source.header.downloadRepoAction",defaultMessage:"Download repository"},compareRepoAction:{id:"frontbucket.repository.source.header.compareRepoAction",defaultMessage:"Compare branches or tags"},forkRepoAction:{id:"frontbucket.repository.source.header.forkRepoAction",defaultMessage:"Fork this repository"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"7wHCT":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("date-fns/difference_in_days"),o=a.interopDefault(s),l=e("date-fns/parse"),n=a.interopDefault(l),i=e("react-redux"),c=e("src/redux/sidebar"),u=e("src/selectors/global-selectors"),d=e("src/selectors/user-selectors"),p=e("../components/sidebar"),f=a.interopDefault(p),m=e("../constants");r.default=i.connect((e=>{const t=d.getCurrentUser(e),r=t&&t.created_on?t.created_on:null;return{isCollapsed:!u.getIsMobileHeaderActive(e)&&!c.isSourceSidebarOpen(e),expandedWidth:c.getSourceSidebarWidth(e),isNewUser:!!r&&o.default(n.default(Date.now()),n.default(r))<m.NEW_USER_EXPERIMENT_AGE_IN_DAYS}}),(e=>({onResize:t=>e(c.updateSidebarState({isOpen:!t.isCollapsed,width:t.width,sidebarType:"source"})),toggleSidebar:()=>e(c.updateSidebarState({sidebarType:"source"}))})))(f.default)},{"date-fns/difference_in_days":"2QMmA","date-fns/parse":"4CHMV","react-redux":"5NPwH","src/redux/sidebar":"5Jrr8","src/selectors/global-selectors":"7zQ6v","src/selectors/user-selectors":"7aW1B","../components/sidebar":"23tJv","../constants":"H1o8z","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"2QMmA":[function(e,t,r){var a=e("../parse/index.js"),s=e("../difference_in_calendar_days/index.js"),o=e("../compare_asc/index.js");t.exports=function(e,t){var r=a(e),l=a(t),n=o(r,l),i=Math.abs(s(r,l));return r.setDate(r.getDate()-n*i),n*(i-(o(r,l)===-n))}},{"../parse/index.js":"4CHMV","../difference_in_calendar_days/index.js":"4fN1e","../compare_asc/index.js":"4IZDe"}],"4fN1e":[function(e,t,r){var a=e("../start_of_day/index.js");t.exports=function(e,t){var r=a(e),s=a(t),o=r.getTime()-6e4*r.getTimezoneOffset(),l=s.getTime()-6e4*s.getTimezoneOffset();return Math.round((o-l)/864e5)}},{"../start_of_day/index.js":"5SjvJ"}],"5SjvJ":[function(e,t,r){var a=e("../parse/index.js");t.exports=function(e){var t=a(e);return t.setHours(0,0,0,0),t}},{"../parse/index.js":"4CHMV"}],"23tJv":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/defineProperty"),o=a.interopDefault(s),l=e("react"),n=a.interopDefault(l),i=e("src/components/sidebar"),c=e("src/components/feedback-button"),u=a.interopDefault(c),d=e("src/connect/discovery-card/discovery-card"),p=a.interopDefault(d),f=e("src/sections/global/containers/sidebar"),m=a.interopDefault(f),h=e("src/connect/web-cards"),b=e("src/components/build-status-card"),g=e("../../../components/sidebar-keyboard-shortcuts"),y=a.interopDefault(g),C=e("../components/source-details-card"),D=a.interopDefault(C),j=e("../containers/build-status-provider"),k=a.interopDefault(j),v=e("./new-user-card"),x=a.interopDefault(v);class w extends l.PureComponent{render(){const e=[],t=[];return this.props.isNewUser&&(e.push({type:i.Cards.NewUser,content:n.default.createElement(x.default,{isCollapsed:!0})}),t.push({type:i.Cards.NewUser,content:n.default.createElement(x.default,null)})),e.push({type:i.Cards.Discovery,content:n.default.createElement(p.default,{isCollapsed:!0})},{type:i.Cards.SourceDetails,content:n.default.createElement(D.default,{isCollapsed:!0})},{type:i.Cards.BuildStatus,content:n.default.createElement(b.BuildStatusCard,{isCollapsed:!0})},{type:i.Cards.ConnectSource,content:n.default.createElement(h.ConnectSourceWebCards,{isCollapsed:!0})}),t.push({type:i.Cards.Discovery,content:n.default.createElement(p.default,null)},{type:i.Cards.SourceDetails,content:n.default.createElement(D.default,null)},{type:i.Cards.BuildStatus,content:n.default.createElement(b.BuildStatusCard,null)},{type:i.Cards.ConnectSource,content:n.default.createElement(h.ConnectSourceWebCards,null)},{type:i.Cards.FeedbackButton,content:n.default.createElement(u.default,{feedbackKey:"source-browser"})}),n.default.createElement(y.default,{sidebarType:"source",toggleSidebar:this.props.toggleSidebar},n.default.createElement(k.default,null,n.default.createElement(m.default,{collapsedContent:e,expandedContent:t,isCollapsed:!!this.props.isCollapsed,onResize:this.props.onResize,expandedWidth:this.props.expandedWidth})))}}o.default(w,"defaultProps",{isCollapsed:!1}),r.default=w},{"@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","src/components/sidebar":"63pE2","src/components/feedback-button":"1VPOi","src/connect/discovery-card/discovery-card":"2CIFI","src/sections/global/containers/sidebar":"4NoYN","src/connect/web-cards":"5jpZI","src/components/build-status-card":"6I9lx","../../../components/sidebar-keyboard-shortcuts":"7CJpr","../components/source-details-card":"2MPwN","../containers/build-status-provider":"3fnXs","./new-user-card":"2hj4e","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1VPOi":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/defineProperty"),o=a.interopDefault(s),l=e("@atlaskit/button"),n=a.interopDefault(l),i=e("react"),c=a.interopDefault(i),u=e("react-intl"),d=e("@atlaskit/spinner"),p=a.interopDefault(d),f=e("src/jira-issue-collectors"),m=e("src/utils/wait-for-react-render"),h=a.interopDefault(m),b=e("./feedback-button.i18n"),g=a.interopDefault(b);class y extends i.PureComponent{constructor(...e){super(...e),o.default(this,"state",{showCollectorDialog:void 0,isLoading:!1}),o.default(this,"onGiveFeedbackClicked",(()=>{var e;this.setState({isLoading:!0}),f.initializeJiraIssueCollector(this.props.feedbackKey),e=()=>{h.default((()=>{const e=window.__jira_issue_collector_trigger_fns__;if(!f.issueCollectors||!e)return void this.setState({isLoading:!1});const t=f.issueCollectors[this.props.feedbackKey];t?(this.setState({showCollectorDialog:e[t.id]}),this.state.showCollectorDialog&&this.state.showCollectorDialog(),this.setState({isLoading:!1})):this.setState({isLoading:!1})}),1500)},"complete"===document.readyState?setTimeout(e,0):window.onload=e}))}render(){const e=c.default.createElement(p.default,{size:"small",delay:0});return c.default.createElement(n.default,{onClick:this.onGiveFeedbackClicked,iconBefore:this.state.isLoading?e:""},c.default.createElement(u.FormattedMessage,g.default.giveFeedback))}}r.default=y},{"@babel/runtime/helpers/defineProperty":"5MCal","@atlaskit/button":"5gisq",react:"28H6D","react-intl":"4XDLZ","@atlaskit/spinner":"4afTf","src/jira-issue-collectors":"4iWJA","src/utils/wait-for-react-render":"1B2fs","./feedback-button.i18n":"23STy","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"4iWJA":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"issueCollectors",(function(){return d})),a.export(r,"initializeJiraIssueCollector",(function(){return f}));var s=e("@babel/runtime/helpers/defineProperty"),o=a.interopDefault(s),l=e("./settings"),n=e("./csp"),i=a.interopDefault(n);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){o.default(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const d=l.settings().JIRA_ISSUE_COLLECTORS,p=e=>{const t=document.querySelectorAll(e);t.length>0&&t.forEach(((e,t)=>{t>0&&e.remove()}))},f=(e,t)=>{const r=d[e];if(r){const e=r.id,a=r.url;(e=>{Array.from(document.querySelectorAll("script[data-issue-collector]")).filter((t=>t.attributes["data-issue-collector"].value!==e)).forEach((e=>{e.remove()}))})(e);if(!document.querySelector(`script[data-issue-collector="${e}"]`)){window.__jira_issue_collector_trigger_fns__=window.__jira_issue_collector_trigger_fns__||{},window.ATL_JQ_PAGE_PROPS=window.ATL_JQ_PAGE_PROPS||{},window.ATL_JQ_PAGE_PROPS[e]=window.ATL_JQ_PAGE_PROPS[e]||{},window.ATL_JQ_PAGE_PROPS[e].triggerFunction=t=>{window.__jira_issue_collector_trigger_fns__[e]=t},t&&(window.ATL_JQ_PAGE_PROPS[e].fieldValues=()=>u(u({},window.ATL_JQ_PAGE_PROPS[e].fieldValues),t));const r=document.createElement("script");r.setAttribute("nonce",i.default),r.defer=!0,r.setAttribute("data-issue-collector",e),r.src=a,document.head.appendChild(r)}setTimeout((()=>{p("#atlwdg-blanket"),p("#atlwdg-container")}),3e3)}}},{"@babel/runtime/helpers/defineProperty":"5MCal","./settings":"74FCp","./csp":"6u1eV","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1B2fs":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e,t=0){setTimeout((()=>{window.requestAnimationFrame((()=>window.requestAnimationFrame(e)))}),t)}},{"@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"23STy":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({giveFeedback:{id:"frontbucket.components.feedbackButton.giveFeedback",defaultMessage:"Give feedback"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"2CIFI":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"BaseDiscoveryCardWithIntl",(function(){return j}));var s=e("@babel/runtime/helpers/defineProperty"),o=a.interopDefault(s),l=e("react"),n=a.interopDefault(l),i=e("react-intl"),c=e("react-redux"),u=e("@atlaskit/onboarding"),d=e("src/utils/analytics/publish"),p=e("src/selectors/repository-selectors"),f=e("src/selectors/user-selectors"),m=e("./facts"),h=e("./discovery-card-content"),b=a.interopDefault(h),g=e("./discovery-card.i18n"),y=a.interopDefault(g),C=e("./store");class D extends l.PureComponent{constructor(...e){super(...e),o.default(this,"state",{isSpotlightActive:!1,isCardDismissed:!1}),o.default(this,"handleClose",(()=>{const{userUuid:e}=this.props;e&&C.dismissCard(e),this.setState({isSpotlightActive:!0,isCardDismissed:!0}),d.publishFact(new m.DiscoveryCardClosed),d.publishUiEvent({action:"clicked",actionSubject:"button",actionSubjectId:"discoveryCardCloseButton",source:"discoveryCard"})})),o.default(this,"handleDismiss",(()=>{this.setState({isSpotlightActive:!1,isCardDismissed:!0})})),o.default(this,"toggleCollapse",(e=>{e?(d.publishFact(new m.DiscoveryCardExpand),d.publishUiEvent({action:"clicked",actionSubject:"button",actionSubjectId:"discoveryCardExpandButton",source:"discoveryCard"})):(d.publishFact(new m.DiscoveryCardMinimize),d.publishUiEvent({action:"clicked",actionSubject:"button",actionSubjectId:"discoveryCardMinimizeButton",source:"discoveryCard"}))}))}componentDidMount(){const{isOwner:e,isCollapsed:t,userUuid:r}=this.props;!t&&e&&r&&C.shouldDisplayCard(r)&&(d.publishFact(new m.DiscoveryCardView),d.publishScreenEvent("discovery-card-view"))}render(){const{isSpotlightActive:e,isCardDismissed:t}=this.state,{intl:r,isCardEnabled:a,isCollapsed:s,isOwner:o,userUuid:l}=this.props;if(!a)return null;if(o){if(e&&t)return n.default.createElement(u.Spotlight,{actions:[{onClick:()=>this.handleDismiss(),text:r.formatMessage(y.default.ok)}],dialogPlacement:"left bottom",dialogWidth:240,key:"navigation-account-menu",target:"navigation-account-menu",targetRadius:24},n.default.createElement("p",null,r.formatMessage(y.default.spotlightMessage),n.default.createElement("strong",null,r.formatMessage(y.default.integrations)),"."));if(!t&&l&&C.shouldDisplayCard(l))return n.default.createElement(b.default,{isCollapsed:s,handleClose:this.handleClose,toggleCollapse:this.toggleCollapse})}return null}}const j=i.injectIntl(D);r.default=c.connect((e=>{const t=f.getCurrentUser(e),r=p.getCurrentRepositoryOwner(e);return{isOwner:!(!t||!r)&&t.uuid===r.uuid,isCardEnabled:e.global.features["discovery-card"],userUuid:t?t.uuid:void 0}}))(j)},{"@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","react-intl":"4XDLZ","react-redux":"5NPwH","@atlaskit/onboarding":"5AeqL","src/utils/analytics/publish":"3nwSx","src/selectors/repository-selectors":"3Vekm","src/selectors/user-selectors":"7aW1B","./facts":"4hk7R","./discovery-card-content":"13Ifb","./discovery-card.i18n":"qDtMm","./store":"77cdy","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"4hk7R":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DiscoveryCardView",(function(){return i})),a.export(r,"DiscoveryCardMinimize",(function(){return c})),a.export(r,"DiscoveryCardExpand",(function(){return u})),a.export(r,"DiscoveryCardClosed",(function(){return d})),a.export(r,"DiscoveryCardBrowseClick",(function(){return p}));var s=e("@babel/runtime/helpers/defineProperty"),o=a.interopDefault(s),l=e("@atlassian/bitkit-analytics"),n=a.interopDefault(l);class i extends n.default{constructor(...e){super(...e),o.default(this,"name","bitbucket.connect.discovery_card.view")}}class c extends n.default{constructor(...e){super(...e),o.default(this,"name","bitbucket.connect.discovery_card.minimize")}}class u extends n.default{constructor(...e){super(...e),o.default(this,"name","bitbucket.connect.discovery_card.expand")}}class d extends n.default{constructor(...e){super(...e),o.default(this,"name","bitbucket.connect.discovery_card.closed")}}class p extends n.default{constructor(...e){super(...e),o.default(this,"name","bitbucket.connect.discovery_card.click")}}},{"@babel/runtime/helpers/defineProperty":"5MCal","@atlassian/bitkit-analytics":"5YLSk","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"13Ifb":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("react"),o=a.interopDefault(s),l=e("react-intl"),n=e("@atlaskit/tooltip"),i=a.interopDefault(n),c=e("@atlaskit/button"),u=a.interopDefault(c),d=e("@atlaskit/icon/glyph/addon"),p=a.interopDefault(d),f=e("src/components/cards/dropdown-expander/dropdown-expander"),m=a.interopDefault(f),h=e("src/utils/analytics/publish"),b=e("src/urls"),g=a.interopDefault(b),y=e("./discovery-card.style"),C=e("./facts"),D=e("./integrations.svg"),j=a.interopDefault(D),k=e("./discovery-card.i18n"),v=a.interopDefault(k);r.default=l.injectIntl(class extends s.PureComponent{render(){const{intl:e,isCollapsed:t}=this.props,r=o.default.createElement(p.default,{label:""}),a=e.formatMessage(v.default.label);return t?o.default.createElement(i.default,{position:"left",content:a},o.default.createElement(u.default,{appearance:"subtle",iconBefore:r})):o.default.createElement(m.default,{icon:r,label:a,onClose:this.props.handleClose,onChange:this.props.toggleCollapse},o.default.createElement(y.ImageContainer,null,o.default.createElement("img",{alt:a,src:j.default})),o.default.createElement(y.Description,null,e.formatMessage(v.default.body)),o.default.createElement(y.DividingLine,null),o.default.createElement(y.Link,{href:`${g.default.ui.addonDirectory}?ref=discovery-card`,onClick:()=>{h.publishFact(new C.DiscoveryCardBrowseClick),h.publishUiEvent({action:"clicked",actionSubject:"link",actionSubjectId:"browseAppsLink",source:"discoveryCard"})}},e.formatMessage(v.default.browse)))}})},{react:"28H6D","react-intl":"4XDLZ","@atlaskit/tooltip":"2SKbM","@atlaskit/button":"5gisq","@atlaskit/icon/glyph/addon":"2ifht","src/components/cards/dropdown-expander/dropdown-expander":"sSdEh","src/utils/analytics/publish":"3nwSx","src/urls":"6j0K6","./discovery-card.style":"4K8E5","./facts":"4hk7R","./integrations.svg":"66aO2","./discovery-card.i18n":"qDtMm","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"2ifht":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=o(e("react")),s=o(e("@atlaskit/icon/base"));function o(e){return e&&e.__esModule?e:{default:e}}const l=e=>a.default.createElement(s.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M5.376 6.455l5.248-3.104c.792-.469 1.963-.467 2.752 0l5.248 3.104C19.416 6.923 20 7.962 20 8.895v6.21c0 .936-.587 1.973-1.376 2.44l-5.248 3.104c-.792.469-1.963.467-2.752 0l-5.248-3.104C4.584 17.077 4 16.038 4 15.105v-6.21c0-.936.587-1.973 1.376-2.44zm6.99-1.314c-.165-.098-.566-.098-.733 0L6.385 8.245c-.166.098-.367.454-.367.65v6.21c0 .195.2.551.367.65l5.248 3.104c.166.098.567.098.734 0l5.248-3.104c.166-.098.367-.454.367-.65v-6.21c0-.195-.2-.551-.367-.65l-5.248-3.104z"/><path d="M12 16a4 4 0 110-8 4 4 0 010 8zm0-2a2 2 0 100-4 2 2 0 000 4z"/></g></svg>'},e));l.displayName="AddonIcon";var n=l;r.default=n},{react:"28H6D","@atlaskit/icon/base":"6KSXI"}],sSdEh:[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s,o,l=e("@babel/runtime/helpers/defineProperty"),n=a.interopDefault(l),i=e("@atlaskit/dropdown-menu"),c=a.interopDefault(i),u=e("@atlaskit/button"),d=a.interopDefault(u),p=e("@atlaskit/icon/glyph/more"),f=a.interopDefault(p),m=e("@atlaskit/icon/glyph/cross"),h=a.interopDefault(m),b=e("@atlaskit/theme"),g=e("react"),y=a.interopDefault(g),C=e("react-animate-height"),D=a.interopDefault(C),j=e("react-intl"),k=e("./dropdown-expander.i18n"),v=a.interopDefault(k),x=e("./dropdown-expander.style");r.default=j.injectIntl((o=s=class extends g.Component{constructor(...e){super(...e),n.default(this,"state",{isCollapsed:this.props.defaultCollapsed||!1,isClosed:this.props.defaultClosed||!1}),n.default(this,"toggleCollapse",(()=>{const{isCollapsed:e}=this.state;this.props.onChange&&this.props.onChange(e),this.setState((()=>({isCollapsed:!e})))})),n.default(this,"handleClose",(()=>{const{isClosed:e}=this.state;e||(this.setState({isClosed:!0}),this.props.onClose&&this.props.onClose())}))}renderHeading(){const{icon:e,label:t,intl:r,isCollapsible:a}=this.props,{isCollapsed:s}=this.state;return y.default.createElement(g.Fragment,null,y.default.createElement(x.Icon,null,e),y.default.createElement(g.Fragment,null,y.default.createElement(x.PanelHeadingLabel,null,t)),a?y.default.createElement(c.default,{triggerType:"button",triggerButtonProps:{appearance:"subtle",iconBefore:y.default.createElement(f.default,{label:""})},shouldFlip:!1,position:"bottom right"},y.default.createElement(i.DropdownItemGroup,null,y.default.createElement(i.DropdownItem,{onClick:this.toggleCollapse},s?r.formatMessage(v.default.expand):r.formatMessage(v.default.minimize)),y.default.createElement(i.DropdownItem,{onClick:this.handleClose},r.formatMessage(v.default.close)))):y.default.createElement(d.default,{iconBefore:y.default.createElement(h.default,{primaryColor:b.colors.N800,label:r.formatMessage(v.default.close)}),appearance:"subtle",spacing:"none",onClick:this.handleClose}))}render(){const{isCollapsed:e}=this.state;return y.default.createElement(x.Panel,{isCollapsed:e},y.default.createElement(x.PanelHeading,{isCollapsed:e},this.renderHeading()),y.default.createElement(D.default,{duration:200,easing:"linear",height:e?0:"auto"},y.default.createElement(x.PanelBody,null,this.props.children)))}},n.default(s,"defaultProps",{defaultCollapsed:!1,defaultClosed:!1,isCollapsible:!0}),o))},{"@babel/runtime/helpers/defineProperty":"5MCal","@atlaskit/dropdown-menu":"6GS9r","@atlaskit/button":"5gisq","@atlaskit/icon/glyph/more":"5xNC2","@atlaskit/icon/glyph/cross":"5mEDm","@atlaskit/theme":"5e08t",react:"28H6D","react-animate-height":"7yqgA","react-intl":"4XDLZ","./dropdown-expander.i18n":"5SSyQ","./dropdown-expander.style":"5NVzS","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"5SSyQ":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({minimize:{id:"frontbucket.cards.dropdownExpander.minimize",defaultMessage:"Minimize"},expand:{id:"frontbucket.cards.dropdownExpander.expand",defaultMessage:"Expand"},close:{id:"frontbucket.cards.dropdownExpander.close",defaultMessage:"Close"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"5NVzS":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"dividerColor",(function(){return i})),a.export(r,"Panel",(function(){return c})),a.export(r,"PanelHeading",(function(){return u})),a.export(r,"PanelHeadingLabel",(function(){return d})),a.export(r,"PanelBody",(function(){return p})),a.export(r,"Icon",(function(){return f}));var s=e("@emotion/styled-base"),o=a.interopDefault(s),l=e("@atlaskit/theme");const n=l.colors.N0,i=l.colors.N30,c=o.default("div",{target:"e1spt66r0"})("background-color:",n,";border-radius:",l.borderRadius(),"px;text-align:left;margin:0 ",1.5*l.gridSize(),"px;"),u=o.default("div",{target:"e1spt66r1"})("align-items:center;background-color:",n,";border:none;border-bottom:1px solid ",i,";border-radius:",(({isCollapsed:e})=>e?`${l.borderRadius()}px`:`${l.borderRadius()}px ${l.borderRadius()}px 0 0`),";box-sizing:border-box;cursor:pointer;display:flex;flex-wrap:wrap;height:",5*l.gridSize(),"px;padding:0 ",l.gridSize(),"px;position:sticky;top:0;&:hover,&:focus{box-shadow:",(({isCollapsed:e})=>e?`0 0 0 1px ${l.colors.B200}`:"none"),";}"),d=o.default("span",{target:"e1spt66r2"})({name:"ln1i0q",styles:"flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:500;"}),p=o.default("div",{target:"e1spt66r3"})("border-radius:0 0 ",l.borderRadius(),"px ",l.borderRadius(),"px;flex-flow:column;overflow:hidden;padding:",l.gridSize(),"px;"),f=o.default("span",{target:"e1spt66r4"})({name:"1b5prcp",styles:"display:flex;margin-right:4px;"})},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"4K8E5":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Card",(function(){return n})),a.export(r,"ImageContainer",(function(){return i})),a.export(r,"DividingLine",(function(){return c})),a.export(r,"Link",(function(){return u})),a.export(r,"Description",(function(){return d}));var s=e("@emotion/styled-base"),o=a.interopDefault(s),l=e("@atlaskit/theme");const n=o.default("div",{target:"e5czws50"})("& + &{margin-top:",1.5*l.gridSize(),"px;}"),i=o.default("div",{target:"e5czws51"})({name:"170ph2z",styles:"text-align:center;> img{width:120px;}"}),c=o.default("hr",{target:"e5czws52"})("border:none;height:1px;background-color:",l.colors.N40A,";margin:",.5*l.gridSize(),"px;"),u=o.default("a",{target:"e5czws53"})("display:flex;align-items:center;justify-content:center;font-weight:600;padding-top:",.5*l.gridSize(),"px;padding-bottom:",.25*l.gridSize(),"px;"),d=o.default("p",{target:"e5czws54"})("font-weight:normal;padding-left:",.5*l.gridSize(),"px;padding-bottom:",.5*l.gridSize(),"px;")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"66aO2":[function(e,t,r){t.exports=e("./bundle-url").getBundleURL()+e("./relative-path")("3riGy","5T81s")},{"./bundle-url":"6aW1b","./relative-path":"KfeVS"}],qDtMm:[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({label:{id:"frontbucket.connect.discoveryCardIcon.label",defaultMessage:"Level up with an app"},body:{id:"frontbucket.connect.discoveryCard.body",defaultMessage:"Looking for more features? We've got some powerful apps for Bitbucket - get insights into your code, customize your workflow, and more."},browse:{id:"frontbucket.connect.discoveryCard.browseApps",defaultMessage:"Browse apps"},spotlightMessage:{id:"frontbucket.connect.discoveryCard.spotlightMessage",defaultMessage:"If you want to add or manage apps later, just click your profile picture and choose"},integrations:{id:"frontbucket.connect.discoveryCard.spotlightMessage.integrations",defaultMessage:"Integrations"},ok:{id:"frontbucket.connect.discoveryCard.okButton",defaultMessage:"OK"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"77cdy":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"storageKey",(function(){return l})),a.export(r,"dismissCard",(function(){return n})),a.export(r,"shouldDisplayCard",(function(){return i}));var s=e("src/utils/store"),o=a.interopDefault(s);const l=e=>`discoverycard::${e}`;function n(e){o.default.set(l(e),!1)}function i(e){return!1!==o.default.get(l(e))}},{"src/utils/store":"1ciM9","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"4NoYN":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("react-redux"),o=e("src/selectors/global-selectors"),l=e("src/redux/global/actions/scroll-to"),n=a.interopDefault(l),i=e("src/redux/sidebar"),c=e("../components/sidebar"),u=a.interopDefault(c);r.default=s.connect((e=>({isBannerOpen:Boolean(o.getSiteMessageBanner(e))})),(e=>({onCollapsedContentClick:t=>{e(i.updateSidebarState({isOpen:!0,tabIndex:t.tabIndex,sidebarType:"code-review"})),setTimeout((()=>e(n.default({targetId:t.id}))),200)}})))(u.default)},{"react-redux":"5NPwH","src/selectors/global-selectors":"7zQ6v","src/redux/global/actions/scroll-to":"7gmJS","src/redux/sidebar":"5Jrr8","../components/sidebar":"3SGIc","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3SGIc":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/extends"),o=a.interopDefault(s),l=e("@babel/runtime/helpers/defineProperty"),n=a.interopDefault(l),i=e("@atlaskit/icon/glyph/room-menu"),c=a.interopDefault(i),u=e("@atlaskit/tooltip"),d=a.interopDefault(u),p=e("react"),f=a.interopDefault(p),m=e("react-intl"),h=e("src/app/sidebar/sidebar.i18n"),b=a.interopDefault(h),g=e("src/components/sidebar"),y=a.interopDefault(g),C=e("../constants"),D=e("./sidebar.style");class j extends p.PureComponent{render(){const{intl:e}=this.props,t=f.default.createElement(d.default,{position:"left",content:e.formatMessage(b.default.expandIconTooltip)},f.default.createElement(c.default,{label:e.formatMessage(b.default.expandIconTooltip)}));return f.default.createElement(D.Container,{"data-qa":"sidebar-container"},f.default.createElement(y.default,o.default({ariaLabel:e.formatMessage(b.default.sidebarLabel),collapsedWidth:C.SIDEBAR_COLLAPSED_WIDTH,icon:t,minExpandedWidth:C.SIDEBAR_MIN_EXPANDED_WIDTH,maxExpandedWidth:C.SIDEBAR_MAX_EXPANDED_WIDTH,resizable:!0,toggleButtonCollapseLabel:e.formatMessage(b.default.toggleButtonCollapseLabel),toggleButtonExpandLabel:e.formatMessage(b.default.toggleButtonExpandLabel)},this.props)))}}n.default(j,"defaultProps",{expandedWidth:C.SIDEBAR_EXPANDED_WIDTH}),r.default=m.injectIntl(j)},{"@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/defineProperty":"5MCal","@atlaskit/icon/glyph/room-menu":"4BWYG","@atlaskit/tooltip":"2SKbM",react:"28H6D","react-intl":"4XDLZ","src/app/sidebar/sidebar.i18n":"716mq","src/components/sidebar":"63pE2","../constants":"5jw2t","./sidebar.style":"15R8T","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"716mq":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({sidebarLabel:{id:"frontbucket.sidebar.sidebarLabel",defaultMessage:"Sidebar"},expandIconTooltip:{id:"frontbucket.sidebar.expandIconTooltip",defaultMessage:"Click or tap to expand or press the ] (right bracket) key"},toggleButtonExpandLabel:{id:"frontbucket.sidebar.toggleButtonExpandLabel",defaultMessage:"Click or tap to expand the sidebar or press the ] (right bracket) key"},toggleButtonCollapseLabel:{id:"frontbucket.sidebar.toggleButtonCollapseLabel",defaultMessage:"Click or tap to collapse the sidebar or press the ] (right bracket) key"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"15R8T":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Container",(function(){return o}));var s=e("@emotion/styled-base");const o=a.interopDefault(s).default("div",{target:"e1n2qvzn0"})({name:"7qmfuy",styles:"display:flex;height:100vh;position:sticky;justify-content:flex-end;"})},{"@emotion/styled-base":"7cOcD","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"5jpZI":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ConnectSourceWebCards",(function(){return o.default})),a.export(r,"ConnectPullRequestWebCards",(function(){return n.default}));var s=e("./containers/source-web-cards"),o=a.interopDefault(s),l=e("./containers/pr-web-cards"),n=a.interopDefault(l)},{"./containers/source-web-cards":"73Erb","./containers/pr-web-cards":"B9xzZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"73Erb":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/extends"),o=a.interopDefault(s),l=e("@babel/runtime/helpers/defineProperty"),n=a.interopDefault(l),i=e("react"),c=a.interopDefault(i),u=e("react-redux"),d=e("react-router-dom"),p=e("lodash-es"),f=e("src/selectors/repository-selectors"),m=e("src/selectors/user-selectors"),h=e("src/connect/targets"),b=e("../components/web-cards");const g=u.connect((e=>({principalId:m.getTargetUserKey(e),repository:f.getCurrentRepository(e),hash:p.get(e,"repository.source.section.hash"),sourceObject:e.repository.source.section.sourceObject})))((e=>{const{principalId:t,repository:r,hash:a,sourceObject:s,isCollapsed:o}=e;if(!t||!r||!s||s.isLoading)return null;const[l,n]=r.full_name.split("/"),{path:i,treeEntry:u}=s;return""===i?c.default.createElement(b.WebCards,{principalId:t,location:"org.bitbucket.source",isCollapsed:o,target:h.repositoryTarget({repositoryOwner:l,repositorySlug:n})}):i&&a&&u?"directory"===u.type?c.default.createElement(b.WebCards,{principalId:t,location:"org.bitbucket.source.directory",isCollapsed:o,target:h.commitDirectoryTarget({repositoryOwner:l,repositorySlug:n,path:`${i}/`,hash:a})}):c.default.createElement(b.WebCards,{principalId:t,location:"org.bitbucket.source.file",isCollapsed:o,target:h.commitFileTarget({repositoryOwner:l,repositorySlug:n,path:i,hash:a})}):null}));class y extends i.PureComponent{constructor(...e){super(...e),n.default(this,"renderWebCard",(e=>c.default.createElement(g,o.default({},e,{isCollapsed:this.props.isCollapsed}))))}render(){return c.default.createElement(d.Switch,null,c.default.createElement(d.Route,{exact:!0,path:"/:repositoryOwner/:repositorySlug/src/:ref/:path+",render:this.renderWebCard}),c.default.createElement(d.Route,{path:["/:repositoryOwner/:repositorySlug/diff/:path+","/:repositoryOwner/:repositorySlug/history/:path+","/:repositoryOwner/:repositorySlug/history-node/:ref/:path+","/:repositoryOwner/:repositorySlug/src/:refOrHash"],render:this.renderWebCard}))}}r.default=y},{"@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","react-redux":"5NPwH","react-router-dom":"3PBhg","lodash-es":"2fDxM","src/selectors/repository-selectors":"3Vekm","src/selectors/user-selectors":"7aW1B","src/connect/targets":"3H1A6","../components/web-cards":"btd4T","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],btd4T:[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"WebCards",(function(){return y}));var s=e("@babel/runtime/helpers/extends"),o=a.interopDefault(s),l=e("react"),n=a.interopDefault(l),i=e("@atlaskit/tooltip"),c=a.interopDefault(i),u=e("lodash-es"),d=e("@atlassian/bitbucket-connect-react"),p=e("src/sections/repository/sections/pull-request/components/connected-expander"),f=e("./web-card-icon"),m=a.interopDefault(f),h=e("./web-card-loading"),b=a.interopDefault(h),g=e("./web-cards.style");class y extends l.PureComponent{render(){const{principalId:e,target:t,location:r,isCollapsed:a}=this.props;return n.default.createElement(d.ConnectIframes,{moduleType:"webCards",principalId:e,target:t,location:r,width:"100%",loadingComponent:()=>null,loadingFailedComponent:()=>null},(e=>e.length>0&&e.map((({Component:e,module:t})=>{const r=u.get(t,"descriptor.name.value"),s=n.default.createElement(m.default,{url:u.get(t,"descriptor.icon.url"),className:u.get(t,"descriptor.params.auiIcon")});return a?n.default.createElement(c.default,{key:t.id,position:"left",content:r},s):n.default.createElement(g.Card,{key:t.id,"data-qa":"connect-webcard"},n.default.createElement(p.ConnectedExpander,{defaultIsCollapsed:!0,localStorageKey:`${t.id}.card.collapsed`,icon:s,isLoading:!1,label:r,sectionAriaLabel:r},n.default.createElement(e,{loadingComponent:()=>n.default.createElement(b.default,{module:t,delay:300}),loadingTimeoutComponent:e=>n.default.createElement(b.default,o.default({action:"timeout"},e,{module:t})),loadingFailedComponent:()=>n.default.createElement(b.default,{action:"failed",module:t})})))}))))}}},{"@babel/runtime/helpers/extends":"bRbXd",react:"28H6D","@atlaskit/tooltip":"2SKbM","lodash-es":"2fDxM","@atlassian/bitbucket-connect-react":"1dbYT","src/sections/repository/sections/pull-request/components/connected-expander":"1s7Ss","./web-card-icon":"4n6Ts","./web-card-loading":"3Zfb8","./web-cards.style":"1gUGR","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1s7Ss":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ConnectedExpander",(function(){return f}));var s=e("@babel/runtime/helpers/extends"),o=a.interopDefault(s),l=e("@babel/runtime/helpers/objectWithoutProperties"),n=a.interopDefault(l),i=e("react"),c=a.interopDefault(i),u=e("src/components/sidebar/src/expander/expander"),d=a.interopDefault(u),p=e("../hooks/sidebar-card-collapsed");const f=e=>{let{localStorageKey:t,onChange:r,defaultIsCollapsed:a}=e,s=n.default(e,["localStorageKey","onChange","defaultIsCollapsed"]);const{isCardCollapsed:l,setIsCardCollapsed:u}=p.useIsCardCollapsed({localStorageKey:t,defaultIsCardCollapsed:a}),f=i.useCallback((e=>{void 0!==r&&r(e),u(e)}),[r,u]);return c.default.createElement(d.default,o.default({isCollapsed:l,onChange:f},s))}},{"@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/objectWithoutProperties":"2CLk9",react:"28H6D","src/components/sidebar/src/expander/expander":"2Nn8P","../hooks/sidebar-card-collapsed":"4B22x","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"4B22x":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"useIsCardCollapsed",(function(){return c}));var s=e("react"),o=e("react-redux"),l=e("src/utils/store"),n=a.interopDefault(l),i=e("src/redux/pull-request/sidebar-card-collapsed-reducer");const c=({localStorageKey:e,defaultIsCardCollapsed:t=!1})=>{const r=n.default.get(e,void 0);let a=o.useSelector((t=>i.getIsCardCollapsed(t,e)));void 0===a&&(a=void 0===r?t:r);const l=o.useDispatch(),c=s.useCallback((t=>t.isCollapsed?l(i.collapseCard(e)):l(i.expandCard(e))),[l,e]);return s.useEffect((()=>{n.default.set(e,a)}),[e,a]),s.useEffect((()=>{c({isCollapsed:a})}),[]),{isCardCollapsed:a,setIsCardCollapsed:c}}},{react:"28H6D","react-redux":"5NPwH","src/utils/store":"1ciM9","src/redux/pull-request/sidebar-card-collapsed-reducer":"1CjiP","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"4n6Ts":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@emotion/styled-base"),o=a.interopDefault(s),l=e("react"),n=a.interopDefault(l);const i=o.default("span",{target:"e408k2m0"})({name:"96j35y",styles:"height:24px;width:24px;&::before{font-size:20px;margin-left:2px;margin-top:-10px;}"});class c extends l.PureComponent{render(){const{className:e,url:t}=this.props;if(t)return n.default.createElement("img",{src:t,alt:"",width:"24",height:"24"});const r=["aui-icon","aui-icon-large",e].join(" ").trim();return n.default.createElement(i,{className:r})}}r.default=c},{"@emotion/styled-base":"7cOcD",react:"28H6D","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3Zfb8":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/extends"),o=a.interopDefault(s),l=e("@babel/runtime/helpers/defineProperty"),n=a.interopDefault(l),i=e("react"),c=a.interopDefault(i),u=e("react-intl"),d=e("@atlaskit/spinner"),p=a.interopDefault(d),f=e("lodash-es"),m=e("@atlaskit/button"),h=a.interopDefault(m),b=e("src/connect/shared/loading.i18n"),g=a.interopDefault(b),y=e("./loading.style");class C extends i.PureComponent{constructor(...e){super(...e),n.default(this,"timeout",void 0),n.default(this,"state",{delay:this.props.delay})}componentDidMount(){const{delay:e}=this.state;e&&(this.timeout=setTimeout((()=>this.setState({delay:0})),e))}componentWillUnmount(){clearTimeout(this.timeout)}render(){const{delay:e}=this.state,{action:t,module:r,failedCallback:a}=this.props;if("loading"===t&&e)return!1;const s=f.get(r,"app_name",f.get(r,"app_key","")),l=f.get(r,"app_base_url",f.get(r,"source.url",""));return c.default.createElement(y.Container,null,"loading"===t?c.default.createElement(y.Spinner,null,c.default.createElement(p.default,{size:"medium",delay:0})):s&&l&&c.default.createElement(u.FormattedMessage,o.default({},g.default[t],{values:{link:c.default.createElement("a",{href:l,target:"_blank"},s),action:"timeout"===t&&c.default.createElement(h.default,{appearance:"link",spacing:"none",onClick:a},c.default.createElement(u.FormattedMessage,g.default.cancelText))}})))}}r.default=C,n.default(C,"defaultProps",{action:"loading",delay:0})},{"@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","react-intl":"4XDLZ","@atlaskit/spinner":"4afTf","lodash-es":"2fDxM","@atlaskit/button":"5gisq","src/connect/shared/loading.i18n":"oFhJb","./loading.style":"3TyNQ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3TyNQ":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Container",(function(){return n})),a.export(r,"Spinner",(function(){return i}));var s=e("@emotion/styled-base"),o=a.interopDefault(s),l=e("@atlaskit/theme");const n=o.default("small",{target:"ey323gi0"})({name:"rmxqah",styles:"display:flex;justify-content:center;align-items:center;margin:0;"}),i=o.default("div",{target:"ey323gi1"})("margin:",l.gridSize(),"px 0;")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1gUGR":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Card",(function(){return n}));var s=e("@emotion/styled-base"),o=a.interopDefault(s),l=e("@atlaskit/theme");const n=o.default("div",{target:"ejd26n00"})("& + &{margin-top:",1.5*l.gridSize(),"px;}")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],B9xzZ:[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("react"),o=a.interopDefault(s),l=e("react-redux"),n=e("src/selectors/user-selectors"),i=e("src/redux/pull-request/selectors"),c=e("../components/web-cards");class u extends s.PureComponent{render(){const{principalId:e,target:t,isCollapsed:r}=this.props;return e&&t?o.default.createElement(c.WebCards,{principalId:e,target:t,isCollapsed:r,location:"org.bitbucket.pullrequest"}):null}}r.default=l.connect((e=>({principalId:n.getTargetUserKey(e),target:i.getCurrentPullRequest(e)})))(u)},{react:"28H6D","react-redux":"5NPwH","src/selectors/user-selectors":"7aW1B","src/redux/pull-request/selectors":"7faJd","../components/web-cards":"btd4T","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"6I9lx":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"BaseBuildStatusCard",(function(){return S})),a.export(r,"BuildStatusCard",(function(){return M}));var s=e("@babel/runtime/helpers/extends"),o=a.interopDefault(s),l=e("@babel/runtime/helpers/defineProperty"),n=a.interopDefault(l),i=e("react"),c=a.interopDefault(i),u=e("react-intl"),d=e("@atlaskit/button"),p=a.interopDefault(d),f=e("@atlaskit/icon/glyph/refresh"),m=a.interopDefault(f),h=e("@atlaskit/tooltip"),b=a.interopDefault(h),g=e("@atlassian/bitkit-builds"),y=e("src/components/generic-message"),C=a.interopDefault(y),D=e("src/sections/repository/sections/pull-request/components/connected-expander"),j=e("./utils"),k=e("./build-status-card.i18n"),v=a.interopDefault(k),x=e("./build-status-pipelines-promotion"),w=a.interopDefault(x),E=e("./services/build-status-service/build-status-service");class S extends i.PureComponent{constructor(...e){super(...e),n.default(this,"renderLabels",(()=>{const{buildStatusResult:{builds:e},intl:t}=this.props,{FAILED:r,SUCCESSFUL:a}=j.getBuildStatuses(e);if(0===e.length){const e=0;return{rich:c.default.createElement(u.FormattedMessage,o.default({},v.default.zeroBuilds,{values:{formattedCount:c.default.createElement("strong",null,e)}})),plain:t.formatMessage(v.default.zeroBuilds,{formattedCount:e})}}if(r){const a=`${r} of ${e.length}`;return{rich:c.default.createElement(u.FormattedMessage,o.default({},v.default.failedStatus,{values:{total:e.length,formattedCount:c.default.createElement("strong",null,a)}})),plain:t.formatMessage(v.default.failedStatus,{total:e.length,formattedCount:a})}}const s=`${a} of ${e.length}`;return{rich:c.default.createElement(u.FormattedMessage,o.default({},v.default.passedStatus,{values:{total:e.length,formattedCount:c.default.createElement("strong",null,s)}})),plain:t.formatMessage(v.default.passedStatus,{total:e.length,formattedCount:s})}})),n.default(this,"renderExpanderContent",(()=>{const{builds:e,hasError:t,refetch:r,repositoryFullSlug:a,hasStatuses:s}=this.props.buildStatusResult;return t?c.default.createElement(C.default,{iconType:"warning",title:c.default.createElement(u.FormattedMessage,v.default.errorHeading)},c.default.createElement(p.default,{appearance:"link",onClick:r},c.default.createElement(u.FormattedMessage,v.default.errorAction))):e.length?c.default.createElement(g.BuildSummary,{builds:e}):a&&!s?c.default.createElement(w.default,{repositoryFullSlug:a}):null}))}render(){const{isCollapsed:e,intl:t,buildStatusResult:{isLoading:r}}=this.props,{plain:a,rich:s}=this.renderLabels(),o=c.default.createElement(m.default,{label:""});return e?c.default.createElement(b.default,{position:"left",content:a},c.default.createElement(p.default,{appearance:"subtle",iconBefore:o})):c.default.createElement(D.ConnectedExpander,{localStorageKey:"build.card.collapsed",icon:o,dataTestId:"build-status-card",isLoading:r,label:s,sectionAriaLabel:t.formatMessage(v.default.sectionAriaLabel),headingAriaLabel:a},this.renderExpanderContent())}}n.default(S,"defaultProps",{isCollapsed:!1});const M=u.injectIntl(E.withBuildStatus(S))},{"@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","react-intl":"4XDLZ","@atlaskit/button":"5gisq","@atlaskit/icon/glyph/refresh":"2O9Kt","@atlaskit/tooltip":"2SKbM","@atlassian/bitkit-builds":"5CnMt","src/components/generic-message":"1x8uZ","src/sections/repository/sections/pull-request/components/connected-expander":"1s7Ss","./utils":"62at9","./build-status-card.i18n":"3Nj8S","./build-status-pipelines-promotion":"38XkB","./services/build-status-service/build-status-service":"1Xya9","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"2O9Kt":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=o(e("react")),s=o(e("@atlaskit/icon/base"));function o(e){return e&&e.__esModule?e:{default:e}}const l=e=>a.default.createElement(s.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M8 6.003v2.995a1 1 0 102 0V5.102C10 4.494 9.507 4 8.9 4H5a1 1 0 000 2.003h3z" fill-rule="nonzero"/><path d="M9.428 18.018C7.351 16.989 6 14.807 6 12.37c0-2.266 1.167-4.319 3.02-5.425.48-.286.646-.922.371-1.421a.979.979 0 00-1.364-.386C5.557 6.611 4 9.35 4 12.37c0 3.248 1.802 6.158 4.57 7.529.498.247 1.095.026 1.332-.493.237-.52.025-1.141-.474-1.388z" fill-rule="nonzero"/><path d="M14 15.002v3.896c0 .608.493 1.102 1.1 1.102H19a1 1 0 000-2.003h-3v-2.995a1 1 0 10-2 0z"/><path d="M14.097 4.596c-.237.52-.025 1.14.474 1.387 2.077 1.029 3.428 3.21 3.428 5.647 0 2.266-1.167 4.32-3.021 5.425a1.063 1.063 0 00-.37 1.42c.274.5.885.673 1.364.387 2.47-1.473 4.027-4.212 4.027-7.232 0-3.248-1.802-6.158-4.57-7.528A.957.957 0 0015.002 4a1 1 0 00-.905.596z"/></g></svg>'},e));l.displayName="RefreshIcon";var n=l;r.default=n},{react:"28H6D","@atlaskit/icon/base":"6KSXI"}],"62at9":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");function s(e){return e.reduce(((e,t)=>(e[t.state]+=1,e)),{FAILED:0,INPROGRESS:0,STOPPED:0,SUCCESSFUL:0})}a.defineInteropFlag(r),a.export(r,"getBuildStatuses",(function(){return s}))},{"@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3Nj8S":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({sectionAriaLabel:{id:"repository.buildStatus.sectionAriaLabel",defaultMessage:"Build statuses"},failedStatus:{id:"repository.buildStatus.tooltipFailed",defaultMessage:"{total, plural, one {{formattedCount} build} other {{formattedCount} builds}} failed"},passedStatus:{id:"repository.buildStatus.tooltipSuccess",defaultMessage:"{total, plural, one {{formattedCount} build passed} other {{formattedCount} builds passed}}"},zeroBuilds:{id:"repository.buildStatus.zeroBuilds",defaultMessage:"{formattedCount} builds"},errorHeading:{id:"repository.buildStatus.error.heading",defaultMessage:"Couldn't load contents"},errorAction:{id:"repository.buildStatus.error.action",defaultMessage:"Try again"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"38XkB":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/extends"),o=a.interopDefault(s),l=e("react"),n=a.interopDefault(l),i=e("react-intl"),c=e("src/sections/repository/urls"),u=a.interopDefault(c),d=e("./pipelines-promotion-icon.png"),p=a.interopDefault(d),f=e("./build-status-pipelines-promotion.style"),m=e("./build-status-pipelines-promotion.i18n"),h=a.interopDefault(m);class b extends l.PureComponent{render(){const[e,t]=this.props.repositoryFullSlug.split("/");return n.default.createElement(l.Fragment,null,n.default.createElement(f.PipelinesPromotionIcon,{alt:"Code emerging from a folder, with a green tick implying it's correctly working.",height:"104",src:p.default}),n.default.createElement(f.PipelinesPromotionRow,null,n.default.createElement(i.FormattedMessage,o.default({},h.default.promotionLineOne,{values:{bitbucketPipelinesDocumentation:n.default.createElement("a",{target:"_blank",href:"https://confluence.atlassian.com/bitbucket/get-started-with-bitbucket-pipelines-792298921.html"},n.default.createElement(i.FormattedMessage,h.default.promotionPipelinesDocumentationLink))}}))),n.default.createElement(f.PipelinesPromotionRow,null,n.default.createElement(i.FormattedMessage,h.default.promotionLineTwo)),n.default.createElement(f.PipelinesPromotionLink,null,n.default.createElement("a",{href:u.default.ui.pipelines(e,t)},n.default.createElement(i.FormattedMessage,h.default.promotionSetUpBitbucketPipelinesLink))))}}r.default=b},{"@babel/runtime/helpers/extends":"bRbXd",react:"28H6D","react-intl":"4XDLZ","src/sections/repository/urls":"7JWOO","./pipelines-promotion-icon.png":"78ynQ","./build-status-pipelines-promotion.style":"54bZP","./build-status-pipelines-promotion.i18n":"55Ktg","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"78ynQ":[function(e,t,r){t.exports=e("./bundle-url").getBundleURL()+e("./relative-path")("3riGy","2pLqQ")},{"./bundle-url":"6aW1b","./relative-path":"KfeVS"}],"54bZP":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"PipelinesPromotionIcon",(function(){return n})),a.export(r,"PipelinesPromotionRow",(function(){return i})),a.export(r,"PipelinesPromotionLink",(function(){return c}));var s=e("@emotion/styled-base"),o=a.interopDefault(s),l=e("@atlaskit/theme");const n=o.default("img",{target:"e1jexyus0"})({name:"68vl60",styles:"margin:12px auto 22px auto;display:block;height:100px;"}),i=o.default("p",{target:"e1jexyus1"})("margin-bottom:",l.gridSize,";text-align:left;padding:0 ",l.gridSize()/2,"px;"),c=o.default("p",{target:"e1jexyus2"})("margin-top:",2*l.gridSize(),"px;text-align:center;border-top:1px solid ",l.colors.N40A,";padding:",l.gridSize(),"px;")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"55Ktg":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({promotionLineOne:{id:"frontbucket.repository.source.promotionLineOne",defaultMessage:"It looks like you haven\u2019t configured a build tool yet. You can use {bitbucketPipelinesDocumentation} to build, test and deploy your code."},promotionLineTwo:{id:"frontbucket.repository.source.promotionLineTwo",defaultMessage:"Your existing plan already includes build minutes."},promotionSetUpBitbucketPipelinesLink:{id:"frontbucket.repository.source.promotionSetUpBitbucketPipelinesLink",defaultMessage:"Set up a pipeline"},promotionPipelinesDocumentationLink:{id:"frontbucket.repository.source.promotionPipelinesDocumentationLink",defaultMessage:"Bitbucket Pipelines"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1Xya9":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"useBuildStatusFetcher",(function(){return c})),a.export(r,"BuildStatusProvider",(function(){return d})),a.export(r,"useBuildStatus",(function(){return p})),a.export(r,"withBuildStatus",(function(){return f}));var s=e("@babel/runtime/helpers/extends"),o=a.interopDefault(s),l=e("react"),n=a.interopDefault(l),i=e("src/services/auth-request-service/auth-request-service");const c=({repositoryMetadataURL:e,buildStatusURL:t})=>{const{data:r,isLoading:a,hasError:s,refetch:o}=i.useAuthRequest({url:e}),{data:n,isLoading:c,hasError:u,fetchData:d,clearData:p}=i.useAuthRequestLazy({url:t}),f=(null==r?void 0:r.has_statuses)||!1,m=(null==n?void 0:n.values)||[],h=u||s,b=c||a;l.useEffect((()=>{f&&d()}),[d,f]);const g=l.useCallback((()=>{o(),p()}),[o,p]);return{builds:m,hasStatuses:f,isLoading:b,hasError:h,refetch:g}},u=l.createContext(null),d=({repositoryMetadataURL:e,buildStatusURL:t,repositoryFullSlug:r,children:a})=>{const{builds:s,hasStatuses:o,isLoading:i,hasError:d,refetch:p}=c({repositoryMetadataURL:e,buildStatusURL:t}),f=l.useMemo((()=>({builds:s,hasStatuses:o,isLoading:i,hasError:d,refetch:p,repositoryFullSlug:r})),[s,o,i,d,p,r]);return n.default.createElement(u.Provider,{value:f},a)},p=()=>{const e=l.useContext(u);if(null===e)throw new Error("useBuildStatus requires a parent BuildStatusProvider");return e},f=e=>t=>{const r=p();return n.default.createElement(e,o.default({buildStatusResult:r},t))}},{"@babel/runtime/helpers/extends":"bRbXd",react:"28H6D","src/services/auth-request-service/auth-request-service":"6wkVr","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"6wkVr":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"useAuthRequestLazy",(function(){return n})),a.export(r,"useAuthRequest",(function(){return i}));var s=e("react"),o=e("src/utils/fetch"),l=a.interopDefault(o);const n=({url:e})=>{const[{data:t,isLoading:r,hasError:a},o]=s.useState({data:null,isLoading:!1,hasError:!1}),n=s.useCallback((()=>{o({isLoading:!1,hasError:!1,data:null})}),[o]);return{data:t,isLoading:r,hasError:a,fetchData:s.useCallback((async()=>{if(!e)return;o({isLoading:!0,hasError:!1,data:null});const t=await fetch(l.default(e));if(t.ok)try{o({isLoading:!1,hasError:!1,data:await t.json()})}catch(e){o({data:null,hasError:!0,isLoading:!1})}else o({data:null,isLoading:!1,hasError:!0})}),[e]),clearData:n}},i=({url:e})=>{const{data:t,isLoading:r,hasError:a,fetchData:o,clearData:l}=n({url:e});s.useEffect((()=>{o()}),[o]);return{data:t,isLoading:r,hasError:a,refetch:s.useCallback((()=>{l(),o()}),[l,o]),clearData:l}}},{react:"28H6D","src/utils/fetch":"ZDSr3","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"7CJpr":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/defineProperty"),o=a.interopDefault(s),l=e("react"),n=a.interopDefault(l),i=e("react-intl"),c=e("src/components/keyboard-shortcut-handler"),u=a.interopDefault(c),d=e("./sidebar-keyboard-shortcuts.i18n"),p=a.interopDefault(d);class f extends l.PureComponent{constructor(...e){super(...e),o.default(this,"shortcuts",[{id:`toggle-${this.props.sidebarType}-sidebar`,description:this.props.intl.formatMessage(p.default.toggleSidebarShortcut),handler:()=>{this.props.toggleSidebar()},keys:"]"}])}render(){const{children:e,intl:t,sidebarType:r}=this.props;return n.default.createElement(u.default,{groupId:`${r}-sidebar`,groupTitle:t.formatMessage(p.default.shortcutGroupTitle),shortcuts:this.shortcuts},e)}}r.default=i.injectIntl(f)},{"@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","react-intl":"4XDLZ","src/components/keyboard-shortcut-handler":"2Mx5Y","./sidebar-keyboard-shortcuts.i18n":"6VEnl","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"6VEnl":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({shortcutGroupTitle:{id:"frontbucket.keyboardShortcuts.sidebar.shortcutGroupTitle",defaultMessage:"Sidebar actions"},toggleSidebarShortcut:{id:"frontbucket.keyboardShortcuts.sidebar.toggleSidebarShortcut",defaultMessage:"Expand and collapse sidebar"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"2MPwN":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/defineProperty"),o=a.interopDefault(s),l=e("react"),n=a.interopDefault(l),i=e("react-redux"),c=e("react-router-dom"),u=e("src/utils/path"),d=e("../../../containers/repository-details-card"),p=a.interopDefault(d),f=e("../containers/file-details-card"),m=a.interopDefault(f),h=e("../utils/find-in-directory"),b=a.interopDefault(h);const g=i.connect((e=>({fileTree:e.repository.source.section.fileTree})))((e=>{const{isCollapsed:t,path:r,fileTree:a}=e;if(a&&a.tree){if(!(r?b.default(a.tree,r):a.tree))return n.default.createElement(p.default,{isCollapsed:t})}return n.default.createElement(m.default,{isCollapsed:t,path:r})})),y=(e,t=!1)=>n.default.createElement(g,{isCollapsed:t,path:u.safeDecodePath(e.match.params.path||"")});class C extends l.PureComponent{render(){const{isCollapsed:e}=this.props;return n.default.createElement(c.Switch,null,n.default.createElement(c.Route,{exact:!0,strict:!0,path:"/:repositoryOwner/:repositorySlug/src/:ref/:path+",render:t=>y(t,e)}),n.default.createElement(c.Route,{path:["/:repositoryOwner/:repositorySlug/diff/:path+","/:repositoryOwner/:repositorySlug/history/:path+","/:repositoryOwner/:repositorySlug/history-node/:ref/:path+"],render:t=>y(t,e)}),n.default.createElement(c.Route,{path:"/:repositoryOwner/:repositorySlug/src/:refOrHash?",render:()=>n.default.createElement(p.default,{isCollapsed:!!e})}))}}o.default(C,"defaultProps",{isCollapsed:!1}),r.default=c.withRouter(C)},{"@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","react-redux":"5NPwH","react-router-dom":"3PBhg","src/utils/path":"6E7Gi","../../../containers/repository-details-card":"7fAfC","../containers/file-details-card":"7fKuc","../utils/find-in-directory":"4JkAy","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"7fAfC":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/defineProperty"),o=a.interopDefault(s),l=e("react-redux"),n=e("src/selectors/repository-selectors"),i=e("../actions/fetch-repository-details"),c=a.interopDefault(i),u=e("../actions/toggle-sync-dialog"),d=a.interopDefault(u),p=e("../components/repository-details-card"),f=a.interopDefault(p);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){o.default(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.default=l.connect((e=>h(h({},n.getRepositoryDetails(e)),{},{repository:n.getCurrentRepository(e)})),(e=>({onOpenSyncDialog:()=>e(d.default(!0)),onErrorClick:t=>e(c.default(t))})))(f.default)},{"@babel/runtime/helpers/defineProperty":"5MCal","react-redux":"5NPwH","src/selectors/repository-selectors":"3Vekm","../actions/fetch-repository-details":"42s3W","../actions/toggle-sync-dialog":"eN2Aq","../components/repository-details-card":"4lFKz","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"7fKuc":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("react-redux"),o=e("../components/file-details-card"),l=a.interopDefault(o);r.default=s.connect((e=>{const{hash:t}=e.repository.source.section,{file:r,meta:a,isLoading:s}=e.repository.source.file,o=e.repository.source.srcDirMetadata;let l;if(t&&a){var n,i,c;const e=a.path.split("/"),r=e.slice(0,-1).join("/")||"/",s=e.slice(-1)[0],u=o[`${t}:${r}`];l=(null==u||null===(n=u.data)||void 0===n||null===(i=n[s])||void 0===i||null===(c=i.lastModified)||void 0===c?void 0:c.date)||null}return{file:r,meta:a,isLoading:s,lastUpdated:l}}))(l.default)},{"react-redux":"5NPwH","../components/file-details-card":"3Db6H","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3Db6H":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/defineProperty"),o=a.interopDefault(s),l=e("bytes"),n=a.interopDefault(l),i=e("react"),c=a.interopDefault(i),u=e("react-intl"),d=e("@atlassian/bitkit-date"),p=e("src/components/details-card"),f=a.interopDefault(p),m=e("../containers/srd-dir-metadata-fetcher"),h=a.interopDefault(m),b=e("../utils/get-languages"),g=a.interopDefault(b),y=e("./file-details-card.i18n"),C=a.interopDefault(y);class D extends i.PureComponent{renderContent(){const{file:e,meta:t,isLoading:r,lastUpdated:a}=this.props;if(!t||r)return null;const s=t&&t.size?n.default(t.size,{unitSeparator:" "}):null;let o="";if(t.path){const e=t.path.split("/").pop();e&&([o]=g.default(e))}return c.default.createElement(i.Fragment,null,a&&c.default.createElement(p.Row,null,c.default.createElement(p.Field,{label:c.default.createElement(u.FormattedMessage,C.default.lastUpdatedLabel),value:c.default.createElement(d.RelativeDate,{date:a})})),o&&c.default.createElement(p.Row,null,c.default.createElement(p.Field,{label:c.default.createElement(u.FormattedMessage,C.default.typeLabel),value:o})),c.default.createElement(p.Row,null,e&&c.default.createElement(p.Field,{label:c.default.createElement(u.FormattedMessage,C.default.lineCountLabel),value:e.contents.split("\n").length}),s&&c.default.createElement(p.Field,{label:c.default.createElement(u.FormattedMessage,C.default.sizeLabel),value:s})))}render(){const{intl:e,isCollapsed:t,isLoading:r,meta:a,path:s}=this.props,o=e.formatMessage(C.default.cardLabel),l=s?s.split("/").slice(0,-1).join("/"):null;return c.default.createElement(f.default,{isLoading:!a||r,label:o,isCollapsed:t},c.default.createElement(h.default,{path:l||"/"}),this.renderContent())}}o.default(D,"defaultProps",{isCollapsed:!1}),r.default=u.injectIntl(D)},{"@babel/runtime/helpers/defineProperty":"5MCal",bytes:"6cllB",react:"28H6D","react-intl":"4XDLZ","@atlassian/bitkit-date":"1VXDE","src/components/details-card":"795Nq","../containers/srd-dir-metadata-fetcher":"7iZGu","../utils/get-languages":"17CxQ","./file-details-card.i18n":"3eNcj","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"7iZGu":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("react-redux"),o=e("src/selectors/feature-selectors"),l=e("src/selectors/repository-selectors"),n=e("../actions/fetch-source-dir-metadata"),i=a.interopDefault(n),c=e("../components/src-dir-metadata-fetcher"),u=a.interopDefault(c);const d={fetchSrcDirMetadata:i.default};r.default=s.connect(((e,t)=>{const{path:r}=t,{srcDirMetadata:a,section:s}=e.repository.source,{hash:n}=s;return{hash:n,srcDirMetadata:n?a[`${n}:${r}`]:null,hasMetadata:!o.shouldDisableDirectoryMetadata(e),repository:l.getCurrentRepository(e)}}),d)(u.default)},{"react-redux":"5NPwH","src/selectors/feature-selectors":"5CDse","src/selectors/repository-selectors":"3Vekm","../actions/fetch-source-dir-metadata":"6m1Si","../components/src-dir-metadata-fetcher":"7aZyj","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"6m1Si":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/defineProperty"),o=a.interopDefault(s),l=e("src/urls/source"),n=a.interopDefault(l),i=e("src/utils/fetch"),c=a.interopDefault(i),u=e("./");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){o.default(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const f=(e,t={})=>fetch(c.default(e)).then((e=>e.ok?e.json():Promise.reject())).then((e=>{const r={};return e.values.forEach((e=>{const t=e.path.split("/");r[t[t.length-1]]={size:e.size,lastModified:e.last_modified}})),e.next?f(e.next,p(p({},t),r)):p(p({},t),r)}));r.default=(e,t,r)=>a=>{a({type:u.FetchSourceDirMetadata.REQUEST,payload:{ref:t,path:r}});const s=n.default.api.internal.sourceWithMetadata(e.full_name,t,r);f(s).then((e=>{a({type:u.FetchSourceDirMetadata.SUCCESS,payload:{ref:t,path:r,srcDirMetadata:e}})}),(()=>{a({type:u.FetchSourceDirMetadata.ERROR,error:!0})}))}},{"@babel/runtime/helpers/defineProperty":"5MCal","src/urls/source":"4aV7V","src/utils/fetch":"ZDSr3","./":"7a6j5","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"7aZyj":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react");class s extends a.PureComponent{componentDidMount(){this.fetchSrcDirMetadata()}componentDidUpdate(e){const{hash:t,path:r,repository:a}=this.props;t===e.hash&&r===e.path&&(!a||e.repository&&a.uuid===e.repository.uuid)||this.fetchSrcDirMetadata()}fetchSrcDirMetadata(){if(!this.props.hasMetadata)return;const{hash:e,srcDirMetadata:t,path:r,repository:a}=this.props;e&&r&&a&&(!t||!t.isLoading&&!t.data)&&this.props.fetchSrcDirMetadata(a,e,r||"/")}render(){return this.props.children||null}}r.default=s},{react:"28H6D","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"17CxQ":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"extensions",(function(){return s})),a.export(r,"filenames",(function(){return o}));const s={abap:["ABAP"],ada:["Ada"],adb:["Ada"],ads:["Ada"],applescript:["AppleScript"],as:["ActionScript"],asax:["aspx-cs"],ascx:["aspx-cs"],ashx:["aspx-cs"],asm:["NASM"],asmx:["aspx-cs"],aspx:["aspx-cs"],asy:["Asymptote"],au3:["AutoIt"],aux:["TeX"],axd:["aspx-cs"],b:["Brainfuck"],bas:["VB.net"],bash:["Shell"],bat:["Batchfile"],befunge:["Befunge"],bf:["Brainfuck"],boo:["Boo"],c:["C"],"c++":["C++"],"c++-objdump":["C++Objdump"],cc:["C++"],ceylon:["Ceylon"],cfc:["Coldfusion HTML"],cfg:["INI"],cfm:["Coldfusion HTML"],cfml:["Coldfusion HTML"],cfs:["Coldfusion"],cl:["Common Lisp"],clj:["Clojure"],cls:["Apex"],cmake:["CMake"],cmd:["Batchfile"],coffee:["CoffeeScript"],cpp:["C++"],"cpp-objdump":["C++Objdump"],cs:["C#"],csh:["Tcsh"],css:["CSS"],cw:["Redcode"],cxx:["C++"],"cxx-objdump":["C++Objdump"],d:["D"],"d-objdump":["D Objdump"],def:["Modula-2"],di:["D"],diff:["Diff"],dylan:["Dylan"],e:["Euphoria"],ebuild:["Shell"],eclass:["Shell"],el:["Common Lisp"],erl:["Erlang"],"erl-sh":["Erlang"],evoque:["Evoque"],ex:["Elixir"],f:["Fortrain"],f90:["Fortrain"],fan:["Fantom"],feature:["Gherkin"],flx:["Felix"],flxh:["Felix"],frag:["GLSL"],g:["Antlr"],gemspec:["Ruby"],geo:["GLSL"],go:["Go"],h:["C"],"h++":["C++"],haml:["Haml"],hh:["C++"],hhi:["Hack"],hpp:["C++"],hrl:["Erlang"],hs:["Haskell"],htaccess:["ApacheConf"],htm:["HTML"],html:["HTML"],hx:["haXe"],hxx:["C++"],inc:["POVRay"],ini:["INI"],io:["Io"],j:["Objective-J"],java:["Java"],js:["JavaScript"],json:["JSON"],jsp:["Java Server Page"],kid:["Genshi"],ksh:["Shell"],las:["Lasso"],lasso:["Lasso"],lassoapp:["Lasso"],lgt:["Logtalk"],lhs:["Literate Haskell"],lisp:["Common Lisp"],ll:["LLVM"],ls:["LiveScript"],lua:["Lua"],ly:["LilyPond"],m:["Matlab","Objective-C","Octave"],mak:["Makefile"],man:["Groff"],mao:["Mako"],ml:["OCaml"],mli:["OCaml"],mll:["OCaml"],mly:["OCaml"],mo:["Modelica"],mod:["Modula-2"],moo:["MOOCode"],mu:["MuPAD"],mxml:["MXMLl"],myt:["Myghty"],nim:["Nimrod"],ns2:["Newspeak"],objdump:["objdump"],ooc:["Ooc"],pas:["Delphi"],patch:["Diff"],php:["PHP"],php3:["PHP"],php4:["PHP"],php5:["PHP"],phtml:["HTML+PHP"],pl:["Perl","Prolog"],plot:["Gnuplot"],plt:["Gnuplot"],pm:["Perl"],po:["Gettext catalog"],pot:["Gettext catalog"],pov:["POVRay"],pro:["Prolog"],prolog:["Prolog"],properties:["INI"],py:["Python"],pyd:["Cython"],pyi:["Cython"],pyw:["Python"],pyx:["Cython"],r:["REBOL"],r3:["REBOL"],rake:["Ruby"],rb:["Ruby"],rbw:["Ruby"],rbx:["Ruby"],rest:["reStructuredText"],rhtml:["RHTML"],rl:["Ragel"],rout:["RConsole"],rs:["Rust"],rss:["XML"],rst:["reStructuredText"],s:["GAS"],sass:["Sass"],sc:["Python"],scala:["Scala"],scm:["Scheme"],sh:["Shell"],"sh-session":["Shell session"],spt:["Cheetah"],sql:["SQL"],"sqlite3-console":["sqlite3con"],st:["Smalltalk"],tac:["Python"],tcl:["Tcl"],tcsh:["Tcsh"],tex:["TeX"],tgr:["Apex"],tmpl:["Cheetah"],toc:["TeX"],tpl:["Smarty"],ts:["TypeScript"],txt:["Text"],uc:["UnrealScript"],vala:["Vala"],vapi:["Vala"],vert:["GLSL"],vg:["VB.net"],vim:["VimL"],vimrc:["VimL"],weechatlog:["IRC logs"],wsdl:["XML"],xhtml:["HTML"],xml:["XML"],xsd:["XML"],xsl:["XSLT"],xslt:["XSLT"],xtend:["XTend"],yaml:["YAML"]},o={"apache.conf":["ApacheConf"],"apache2.conf":["ApacheConf"],autodelegate:["Myghty"],gnumakefile:["Makefile"],Makefile:["Makefile"],pytb:["Python"],Rakefile:["Ruby"],SConstruct:["Python"],SConscript:["Python"],"squid.conf":["SquidConf"]};r.default=function(e){const t=(e=>{const t=e.split(".");return t.length>1?t.pop():null})(e),r=t?s[t]:void 0;return o[e]||r||[]}},{"@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3eNcj":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({cardLabel:{id:"frontbucket.repository.source.sidebar.fileDetailsCard.label",defaultMessage:"File details"},lastUpdatedLabel:{id:"frontbucket.repository.source.file.details.lastUpdatedLabel",defaultMessage:"Last updated"},lineCountLabel:{id:"frontbucket.repository.source.file.details.lineCountLabel",defaultMessage:"Lines"},sizeLabel:{id:"frontbucket.repository.source.file.details.sizeLabel",defaultMessage:"Size"},typeLabel:{id:"frontbucket.repository.source.file.details.typeLabel",defaultMessage:"File type"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3fnXs":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("react"),o=a.interopDefault(s),l=e("react-redux"),n=e("src/selectors/repository-selectors"),i=e("src/urls/source"),c=a.interopDefault(i),u=e("src/components/build-status-card/services/build-status-service/build-status-service");r.default=l.connect((e=>({hash:e.repository.source.section.hash,repository:n.getCurrentRepository(e)})))((({hash:e,repository:t,children:r})=>{let a,s,l;return t&&e&&(l=t.full_name,a=c.default.api.v20.buildStatuses(l,e),s=c.default.api.internal.repositoryMetadataURL(t.full_name)),o.default.createElement(u.BuildStatusProvider,{repositoryFullSlug:l,buildStatusURL:a,repositoryMetadataURL:s},r)}))},{react:"28H6D","react-redux":"5NPwH","src/selectors/repository-selectors":"3Vekm","src/urls/source":"4aV7V","src/components/build-status-card/services/build-status-service/build-status-service":"1Xya9","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"2hj4e":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/extends"),o=a.interopDefault(s),l=e("@babel/runtime/helpers/defineProperty"),n=a.interopDefault(l),i=e("react"),c=a.interopDefault(i),u=e("react-router-dom"),d=e("react-intl"),p=e("@atlaskit/logo"),f=e("@atlaskit/tooltip"),m=a.interopDefault(f),h=e("src/components/sidebar"),b=e("src/urls/source"),g=a.interopDefault(b),y=e("./new-user-card.i18n"),C=a.interopDefault(y);class D extends i.PureComponent{render(){const e=this.props.intl.formatMessage(C.default.header),t=c.default.createElement(p.BitbucketIcon,{label:e});if(this.props.isCollapsed)return c.default.createElement(m.default,{position:"left",content:e},t);const r={guide:c.default.createElement("a",{href:g.default.external.gettingStarted,target:"_blank"},"getting started guide")};return c.default.createElement(h.Expander,{icon:t,label:e},c.default.createElement("p",null,c.default.createElement(d.FormattedMessage,C.default.intro)),c.default.createElement("p",null,c.default.createElement(d.FormattedMessage,o.default({},C.default.contents,{values:r}))))}}n.default(D,"defaultProps",{isCollapsed:!1});class j extends i.PureComponent{render(){return c.default.createElement(u.Route,{exact:!0,path:"/:repositoryOwner/:repositorySlug/src/:ref",render:()=>c.default.createElement(D,this.props)})}}r.default=u.withRouter(d.injectIntl(j))},{"@babel/runtime/helpers/extends":"bRbXd","@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","react-router-dom":"3PBhg","react-intl":"4XDLZ","@atlaskit/logo":"6cSMP","@atlaskit/tooltip":"2SKbM","src/components/sidebar":"63pE2","src/urls/source":"4aV7V","./new-user-card.i18n":"22yTK","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"22yTK":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({header:{id:"frontbucket.repository.source.sidebar.newUserCard.header",defaultMessage:"Welcome to Bitbucket"},intro:{id:"frontbucket.repository.source.sidebar.newUserCard.intro",defaultMessage:"Congratulations on making it into a repository! Here\u2019s where you store files."},contents:{id:"frontbucket.repository.source.sidebar.newUserCard.contents",defaultMessage:"Whether you were invited or it\u2019s your first one, check out our {guide} for a basic introduction to Bitbucket and repositories."}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"6sJ62":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({addRepositoryDescriptionLink:{id:"frontbucket.repository.source.addRepositoryDescriptionLink",defaultMessage:"add a description to your repository"},repositoryDescriptionPlaceholder:{id:"frontbucket.repository.source.repositoryDescriptionPlaceholder",defaultMessage:"Here's where you'll find this repository's source files. To give your users an idea of what they'll find here, {addRepositoryDescriptionLink}."},keyboardShortcutGroup:{id:"frontbucket.repository.source.keyboardShortcutGroup",defaultMessage:"Source browser"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"6cR0L":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Page",(function(){return n})),a.export(r,"RepositoryDescription",(function(){return i})),a.export(r,"SelectorsHeader",(function(){return c}));var s=e("@emotion/styled-base"),o=a.interopDefault(s),l=e("@atlaskit/theme");const n=o.default("div",{target:"e1jzw51l0"})("margin-bottom:",3*l.gridSize(),"px;"),i=o.default("p",{target:"e1jzw51l1"})("margin-bottom:",3*l.gridSize(),"px;margin-top:",3*l.gridSize(),"px;"),c=o.default("div",{target:"e1jzw51l2"})("margin-bottom:",3*l.gridSize(),"px;")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"6wytB":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/defineProperty"),o=a.interopDefault(s),l=e("react"),n=e("src/urls/source"),i=a.interopDefault(n),c=e("src/utils/fetch"),u=a.interopDefault(c);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){o.default(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class f extends l.PureComponent{constructor(...e){super(...e),o.default(this,"getInitialState",(()=>({commits:[],hasError:!1,isLoading:!this.props.isReadyToFetch,nextUrl:null}))),o.default(this,"state",this.getInitialState()),o.default(this,"fetchFileHistory",(async(e={})=>{const t=e.reset?this.getInitialState():{};this.setState(p(p({},t),{},{isLoading:!0}));const r=this.state.nextUrl||i.default.api.v20.fileHistory(this.props.repositoryFullSlug,this.props.refOrHash,this.props.path,this.props.pageLen);try{const t=await fetch(u.default(r));if(!t.ok)throw Error();const a=await t.json();this.setState((t=>({commits:[...e.reset?[]:t.commits,...a.values.map((e=>e.commit))],nextUrl:a.next,hasError:!1,isLoading:!1})))}catch(e){this.setState({hasError:!0,isLoading:!1})}})),o.default(this,"loadMore",(()=>{this.fetchFileHistory()}))}componentDidMount(){this.props.isReadyToFetch&&this.fetchFileHistory()}componentDidUpdate(e){const{path:t,refOrHash:r,repositoryFullSlug:a,isReadyToFetch:s}=this.props;t===e.path&&r===e.refOrHash&&a===e.repositoryFullSlug&&s===e.isReadyToFetch||this.fetchFileHistory({reset:!0})}render(){const{commits:e,hasError:t,isLoading:r,nextUrl:a}=this.state;return this.props.render({commits:e,hasMore:!!a,hasError:t,isLoading:r,loadMore:this.loadMore})}}r.default=f,o.default(f,"defaultProps",{isReadyToFetch:!0})},{"@babel/runtime/helpers/defineProperty":"5MCal",react:"28H6D","src/urls/source":"4aV7V","src/utils/fetch":"ZDSr3","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"29One":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("react-redux"),o=e("src/selectors/repository-selectors"),l=e("../components/file-mode-selector"),n=a.interopDefault(l);r.default=s.connect((e=>({atRef:e.repository.source.section.atRef,currentRef:e.repository.source.section.ref,hash:e.repository.source.section.hash,repository:o.getCurrentRepository(e)})))(n.default)},{"react-redux":"5NPwH","src/selectors/repository-selectors":"3Vekm","../components/file-mode-selector":"1pmKy","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"1pmKy":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("@babel/runtime/helpers/defineProperty"),o=a.interopDefault(s),l=e("@atlaskit/dropdown-menu"),n=a.interopDefault(l),i=e("react"),c=a.interopDefault(i),u=e("react-intl"),d=e("react-router-dom"),p=e("src/sections/repository/facts"),f=e("src/urls/source"),m=a.interopDefault(f),h=e("src/utils/analytics/publish"),b=e("@atlassian/bitkit-analytics"),g=e("./file-mode-selector.i18n"),y=a.interopDefault(g);class C extends i.PureComponent{constructor(...e){super(...e),o.default(this,"fileModeLabels",{diff:c.default.createElement(u.FormattedMessage,y.default.diffMode),history:c.default.createElement(u.FormattedMessage,y.default.historyMode),source:c.default.createElement(u.FormattedMessage,y.default.sourceMode)}),o.default(this,"publishFileAnalyticEvent",((e,t,r)=>{h.publishFact(new p.SourceFileActionClickedFact({label:e,repository_uuid:t,frontbucket_view:!0})),h.publishUiEvent({source:"file",action:"clicked",actionSubject:"dropdown",actionSubjectId:"fileModeSelector",objectType:"repository",objectId:t,containerType:"workspace",containerId:r,attributes:{label:e,repository_uuid:t,frontbucket_view:!0}})}))}render(){const{atRef:e,currentRef:t,hash:r,history:a,mode:s,path:o,repository:i}=this.props;if(!i||!r)return null;const u=e?e.name:void 0,d=t?t.name:void 0,p=u||d||void 0;return c.default.createElement(n.default,{shouldFitContainer:!0,trigger:this.fileModeLabels[s],triggerType:"button"},c.default.createElement(l.DropdownItem,{isHidden:"source"===s,onClick:()=>{this.publishFileAnalyticEvent("source",b.uncurlyUuid(i.uuid),null!=i&&i.workspace?b.uncurlyUuid(i.workspace.uuid):""),a.push(m.default.ui.source(i.full_name,{refOrHash:r,path:o,at:p}))}},this.fileModeLabels.source),c.default.createElement(l.DropdownItem,{isHidden:"diff"===s,onClick:()=>{this.publishFileAnalyticEvent("diff",b.uncurlyUuid(i.uuid),null!=i&&i.workspace?b.uncurlyUuid(i.workspace.uuid):"");const e={destination:r};a.push(m.default.ui.diff(i.full_name,o,e,{at:p}))}},this.fileModeLabels.diff),c.default.createElement(l.DropdownItem,{isHidden:"history"===s,onClick:()=>{this.publishFileAnalyticEvent("history",b.uncurlyUuid(i.uuid),null!=i&&i.workspace?b.uncurlyUuid(i.workspace.uuid):""),a.push(m.default.ui.fileHistory(i.full_name,r,o,{at:p}))}},this.fileModeLabels.history))}}r.default=d.withRouter(C)},{"@babel/runtime/helpers/defineProperty":"5MCal","@atlaskit/dropdown-menu":"6GS9r",react:"28H6D","react-intl":"4XDLZ","react-router-dom":"3PBhg","src/sections/repository/facts":"46Pt9","src/urls/source":"4aV7V","src/utils/analytics/publish":"3nwSx","@atlassian/bitkit-analytics":"5YLSk","./file-mode-selector.i18n":"4cb3V","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"4cb3V":[function(e,t,r){e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js").defineInteropFlag(r);var a=e("react-intl");r.default=a.defineMessages({diffMode:{id:"frontbucket.repository.source.fileModeSelector.diffMode",defaultMessage:"Diff"},historyMode:{id:"frontbucket.repository.source.fileModeSelector.historyMode",defaultMessage:"History"},sourceMode:{id:"frontbucket.repository.source.fileModeSelector.sourceMode",defaultMessage:"Source"}})},{"react-intl":"4XDLZ","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}],"3qkvg":[function(e,t,r){var a=e("@atlassian/parcel-transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"HeaderContainer",(function(){return i}));var s=e("@emotion/styled-base"),o=a.interopDefault(s),l=e("@atlaskit/theme"),n=e("@atlassian/bitkit-responsive");const i=o.default("div",{target:"e1fwoj8y0"})("align-items:center;display:flex;& > *{margin-right:",l.gridSize(),"px;}",n.media.upToMedium(`\n    flex-wrap: wrap;\n\n      & > * {\n        margin-bottom: ${l.gridSize()}px;\n      }\n  `),";")},{"@emotion/styled-base":"7cOcD","@atlaskit/theme":"5e08t","@atlassian/bitkit-responsive":"6pj4A","@atlassian/parcel-transformer-js/lib/esmodule-helpers.js":"13YCs"}]},[]);
//# sourceMappingURL=shared.182d5c70.js.map
